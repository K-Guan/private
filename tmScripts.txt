{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Stack Exchange CV Request Generator","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/^https?:\\/\\/\\w*.?(stackexchange.com|stackoverflow.com|serverfault.com|superuser.com|askubuntu.com|stackapps.com|mathoverflow.net)\\/q(uestions)?\\/\\d+/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1448203128163},"enabled":true,"position":1,"file_url":"https://rawgit.com/SO-Close-Vote-Reviewers/UserScripts/master/SECloseVoteRequestGenerator.user.js","uuid":"92eb7581-a2c9-462d-af44-7eb8c903f8cb","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIFN0YWNrIEV4Y2hhbmdlIENWIFJlcXVlc3QgR2VuZXJhdG9yCi8vIEBuYW1lc3BhY2UgICAgICBodHRwczovL2dpdGh1Yi5jb20vU08tQ2xvc2UtVm90ZS1SZXZpZXdlcnMvCi8vIEB2ZXJzaW9uICAgICAgICAxLjUuNwovLyBAZGVzY3JpcHRpb24gICAgVGhpcyBzY3JpcHQgZ2VuZXJhdGVzIGZvcm1hdHRlZCBjbG9zZSB2b3RlIHJlcXVlc3RzIGFuZCBzZW5kcyB0aGVtIHRvIGEgc3BlY2lmaWVkIGNoYXQgcm9vbQovLyBAYXV0aG9yICAgICAgICAgQFRpbnlHaWFudAovLyBAaW5jbHVkZSAgICAgICAgL15odHRwcz86XC9cL1x3Ki4/KHN0YWNrZXhjaGFuZ2UuY29tfHN0YWNrb3ZlcmZsb3cuY29tfHNlcnZlcmZhdWx0LmNvbXxzdXBlcnVzZXIuY29tfGFza3VidW50dS5jb218c3RhY2thcHBzLmNvbXxtYXRob3ZlcmZsb3cubmV0KVwvcSh1ZXN0aW9ucyk/XC9cZCsvCi8vIEByZXF1aXJlICAgICAgICBodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMi4xLjQubWluLmpzCi8vIEBncmFudCAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyA9PS9Vc2VyU2NyaXB0PT0KCmlmKHR5cGVvZiBTdGFja0V4Y2hhbmdlID09PSAidW5kZWZpbmVkIikKICAgIHZhciBTdGFja0V4Y2hhbmdlID0gdW5zYWZlV2luZG93LlN0YWNrRXhjaGFuZ2U7CgooZnVuY3Rpb24oKXsKICAgIHZhciByZWFzb25zID0gewogICAgICAgICd0JzogJ3RvbyBicm9hZCcsIAogICAgICAgICd1JzogJ3VuY2xlYXInLAogICAgICAgICdwJzogJ3BvYicsIAogICAgICAgICdkJzogJ2R1cGxpY2F0ZScsCiAgICAgICAgJ20nOiAnbm8gbWN2ZScsCiAgICAgICAgJ3InOiAnbm8gcmVwcm8nLAogICAgICAgICdzJzogJ3N1cGVydXNlcicsCiAgICAgICAgJ2YnOiAnc2VydmVyZmF1bHQnLAogICAgICAgICdsJzogJ2xpYnJhcnkvdG9vbC9yZXNvdXJjZScsCiAgICAgICAgJ2cnOiAnZ2ltbWUtdGVoLWNvZGV6JywKICAgICAgICBnZXQ6IGZ1bmN0aW9uKHIpIHsgIAogICAgICAgICAgICB2YXIgYSA9IHIuc3BsaXQoJyAnKTsKICAgICAgICAgICAgYS5mb3JFYWNoKGZ1bmN0aW9uKHYsaSl7IAogICAgICAgICAgICAgICAgYVtpXSA9IHJlYXNvbnNbdl0gJiYgdiAhPT0gJ2dldCcgPyByZWFzb25zW3ZdIDogdjsgCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gYS5qb2luKCcgJyk7IAogICAgICAgIH0KICAgIH07CgogICAgdmFyIFVSTCA9ICJodHRwczovL3Jhd2dpdC5jb20vU08tQ2xvc2UtVm90ZS1SZXZpZXdlcnMvVXNlclNjcmlwdHMvbWFzdGVyL1NFQ2xvc2VWb3RlUmVxdWVzdEdlbmVyYXRvci51c2VyLmpzIjsKICAgIHZhciBub3RpZnlpbnQgPSAwOwogICAgZnVuY3Rpb24gbm90aWZ5KG0sdCkgewogICAgICAgIHZhciB0aW1lb3V0OwogICAgICAgIChmdW5jdGlvbihpKXsKICAgICAgICAgICAgdmFyIGRpdiA9ICQoJyNub3RpZnktJyArIChpIC0gMSkpOwogICAgICAgICAgICBpZihkaXYubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICAgICAgICBpZihpID4gMSlTdGFja0V4Y2hhbmdlLm5vdGlmeS5jbG9zZShpLTEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2Uubm90aWZ5LnNob3cobSxpKTsKICAgICAgICAgICAgaWYodCkgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2Uubm90aWZ5LmNsb3NlKGkpOwogICAgICAgICAgICB9LHQpOwogICAgICAgIH0pKCsrbm90aWZ5aW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc1ZlcnNpb25OZXdlcihwcm9wb3NlZCwgY3VycmVudCkgewogICAgICAgIHByb3Bvc2VkID0gcHJvcG9zZWQuc3BsaXQoIi4iKTsKICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zcGxpdCgiLiIpOwoKICAgICAgICB3aGlsZSAocHJvcG9zZWQubGVuZ3RoIDwgY3VycmVudC5sZW5ndGgpIHByb3Bvc2VkLnB1c2goIjAiKTsKICAgICAgICB3aGlsZSAoY3VycmVudC5sZW5ndGggPCBwcm9wb3NlZC5sZW5ndGgpIGN1cnJlbnQucHVzaCgiMCIpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3Bvc2VkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChwYXJzZUludChwcm9wb3NlZFtpXSkgPiBwYXJzZUludChjdXJyZW50W2ldKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHBhcnNlSW50KHByb3Bvc2VkW2ldKSA8IHBhcnNlSW50KGN1cnJlbnRbaV0pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrVXBkYXRlcyhmb3JjZSkgeyAKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vcmF3Z2l0LmNvbS9TTy1DbG9zZS1Wb3RlLVJldmlld2Vycy9Vc2VyU2NyaXB0cy9tYXN0ZXIvU0VDbG9zZVZvdGVSZXF1ZXN0R2VuZXJhdG9yLnZlcnNpb24nLAogICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgVkVSU0lPTiA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dC50cmltKCk7CiAgICAgICAgICAgICAgICBpZihpc1ZlcnNpb25OZXdlcihWRVJTSU9OLEdNX2luZm8uc2NyaXB0LnZlcnNpb24pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RBY2tub3dsZWRnZWRWZXJzaW9uID0gZ2V0U3RvcmFnZSgnTGFzdEFja25vd2xlZGdlZFZlcnNpb24nKTsKICAgICAgICAgICAgICAgICAgICBpZihsYXN0QWNrbm93bGVkZ2VkVmVyc2lvbiAhPSBWRVJTSU9OIHx8IGZvcmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvbmZpcm0oJ0EgbmV3IHZlcnNpb24gb2YgVGhlIENsb3NlIFZvdGUgUmVxdWVzdCBHZW5lcmF0b3IgaXMgYXZhaWxhYmxlLCB3b3VsZCB5b3UgbGlrZSB0byBpbnN0YWxsIGl0IG5vdz8nKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gVVJMOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdG9yYWdlKCdMYXN0QWNrbm93bGVkZ2VkVmVyc2lvbicsVkVSU0lPTik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGZvcmNlKSBub3RpZnkoJ05vIG5ldyB2ZXJzaW9uIGF2YWlsYWJsZScpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gaGlkZU1lbnUoKSB7CiAgICAgICAgY2xvc2VUYXJnZXQoKTsKICAgICAgICAkKCdkaXYnLCBDVlJHVUkuaXRlbXMuc2VuZCkuaGlkZSgpOwogICAgICAgIENWUkdVSS5saXN0LmhpZGUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdChyZXN1bHQpIHsKICAgICAgICBSb29tTGlzdC5nZXRSb29tKGZ1bmN0aW9uKHJvb20pewogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgdXJsOiByb29tLnVybCwKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZmtleSA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dC5tYXRjaCgvaGlkZGVuIiB2YWx1ZT0iKFtcZGFiY2RlZl17MzJ9KS8pWzFdOwogICAgICAgICAgICAgICAgICAgIGlmKCFma2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeSgnRmFpbGVkIHJldHJpZXZpbmcga2V5LCBpcyB0aGUgcm9vbSBVUkwgdmFsaWQ/Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByb29tLmhvc3QgKyAnL2NoYXRzLycgKyByb29tLmlkICsgJy9tZXNzYWdlcy9uZXcnLAogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogJ3RleHQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChyZXN1bHQpICsgJyZma2V5PScgKyBma2V5LAogICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5KCdDbG9zZSB2b3RlIHJlcXVlc3Qgc2VudC4nLDEwMDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZU1lbnUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnkoJ0ZhaWxlZCBzZW5kaW5nIGNsb3NlIHZvdGUgcmVxdWVzdC4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVNZW51KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBub3RpZnkoJ0ZhaWxlZCByZXRyaWV2aW5nIGZrZXkgZnJvbSBjaGF0LicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBlbmRJbmZvKCkgewogICAgICAgIGlmKGdldFN0b3JhZ2UoJ2FwcGVuZEluZm8nKSA9PT0gIjEiKSByZXR1cm4gdHJ1ZTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgdmFyIFJvb21MaXN0ID0ge307CiAgICBSb29tTGlzdC5yb29tcyA9IHt9OwogICAgUm9vbUxpc3Quc2F2ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHNldFN0b3JhZ2UoJ3Jvb21zJyxKU09OLnN0cmluZ2lmeSh0aGlzLnJvb21zKSk7CiAgICAgICAgY29uc29sZS5sb2coZ2V0U3RvcmFnZSgncm9vbXMnKSk7CiAgICB9OwogICAgUm9vbUxpc3QuZWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICAgICAgZm9yKHZhciBpIGluIHRoaXMucm9vbXMpCiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMucm9vbXNbaV0saSk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9OwogICAgUm9vbUxpc3Quc2VhcmNoID0gZnVuY3Rpb24oa2V5LHZhbHVlKSB7CiAgICAgICAgdmFyIHN1Y2Nlc3M7CiAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHJvb20pewogICAgICAgICAgICBpZihyb29tW2tleV0gPT09IHZhbHVlKQogICAgICAgICAgICAgICAgc3VjY2VzcyA9IHJvb207CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7CiAgICB9OwogICAgUm9vbUxpc3QuY291bnQgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5yb29tcykubGVuZ3RoOwogICAgfTsKICAgIFJvb21MaXN0Lm5hbWUgPSBmdW5jdGlvbihuYW1lKSAgeyByZXR1cm4gdGhpcy5zZWFyY2goJ25hbWUnLG5hbWUpOyAgfTsKICAgIFJvb21MaXN0LmluZGV4ID0gZnVuY3Rpb24obmFtZSkgeyByZXR1cm4gdGhpcy5zZWFyY2goJ2luZGV4JyxuYW1lKTsgfTsKICAgIFJvb21MaXN0LmlkID0gZnVuY3Rpb24obmFtZSkgICAgeyByZXR1cm4gdGhpcy5zZWFyY2goJ2lkJyxuYW1lKTsgICAgfTsKICAgIFJvb21MaXN0LnVybCA9IGZ1bmN0aW9uKG5hbWUpICAgeyByZXR1cm4gdGhpcy5zZWFyY2goJ3VybCcsbmFtZSk7ICAgfTsKICAgIFJvb21MaXN0Lmluc2VydCA9IGZ1bmN0aW9uKHJvb20pIHsKICAgICAgICBpZighUm9vbUxpc3QudXJsKHJvb20udXJsKSkgewogICAgICAgICAgICB0aGlzLnJvb21zW3Jvb20udXJsXSA9IHJvb207CiAgICAgICAgICAgIHRoaXMuc2F2ZSgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy5yb29tc1tyb29tLnVybF07CiAgICB9OwogICAgUm9vbUxpc3QuZ2V0Um9vbSA9IGZ1bmN0aW9uKGNhbGxiYWNrLHVybCkgewogICAgICAgIHZhciByb29tcyA9IHRoaXMucm9vbXM7CiAgICAgICAgaWYoIXVybCkgCiAgICAgICAgICAgIHVybCA9IGdldFN0b3JhZ2UoYmFzZSArICdyb29tJyk7CiAgICAgICAgdmFyIG0gPSAvKGh0dHBzPzpcL1wvY2hhdFwuKG1ldGFcLik/c3RhY2sob3ZlcmZsb3d8ZXhjaGFuZ2UpXC5jb20pXC9yb29tc1wvKC4qKVwvLiovLmV4ZWModXJsKTsKICAgICAgICBpZihtKSB7CiAgICAgICAgICAgIHZhciByb29tID0gUm9vbUxpc3QudXJsKHVybCk7CiAgICAgICAgICAgIGlmKHJvb20pIHsKICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhyb29tKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IC8uKjx0aXRsZT4oLiopXCBcfC4qLy5leGVjKHJlc3BvbnNlLnJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICBpZighbmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICBub3RpZnkoJ0ZhaWxlZCBmaW5kaW5nIHJvb20gbmFtZS4gSXMgaXQgYSB2YWxpZCByb29tPycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhSb29tTGlzdC5pbnNlcnQoeyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IG1bMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtWzRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZVsxXQogICAgICAgICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgbm90aWZ5KCdGYWlsZWQgcmV0cmlldmluZyByb29tIG5hbWUuIElzIGl0IGEgdmFsaWQgcm9vbT8nKTsKICAgICAgICAgICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZyh1cmwpOwogICAgICAgICAgICBub3RpZnkoJ1RoZSBjaGF0IHJvb20gVVJMIHlvdSBzdXBwbGllZCBpcyBpbnZhbGlkLicpOwogICAgICAgICAgICBpZihjYWxsYmFjaykgY2FsbGJhY2soZmFsc2UpOwogICAgICAgIH0KICAgIH07CiAgICBSb29tTGlzdC5zZXRSb29tID0gZnVuY3Rpb24odXJsKSB7CiAgICAgICAgdmFyIGV4aXN0czsKICAgICAgICBpZih0aGlzLnVybCh1cmwpKQogICAgICAgICAgICBleGlzdHMgPSB0cnVlOwogICAgICAgIFJvb21MaXN0LmdldFJvb20oZnVuY3Rpb24ocm9vbSkgewogICAgICAgICAgICBpZihyb29tICYmIGdldFN0b3JhZ2UoYmFzZSArICdyb29tJykgIT09IHJvb20udXJsKSB7CiAgICAgICAgICAgICAgICBzZXRTdG9yYWdlKGJhc2UgKyAncm9vbScscm9vbS51cmwpOwogICAgICAgICAgICAgICAgQ1ZSR1VJLnJvb21MaXN0LmZpbmQoJ1t0eXBlPSJjaGVja2JveCJdJykucHJvcCgnY2hlY2tlZCcsZmFsc2UpOwogICAgICAgICAgICAgICAgaWYoIWV4aXN0cykKICAgICAgICAgICAgICAgICAgICBDVlJHVUkucm9vbUxpc3QuYXBwZW5kKCQoJzxkZD48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJ0YXJnZXQtcm9vbSIgdmFsdWU9IicgKyByb29tLnVybCArICciIGNoZWNrZWQ+JyArIHJvb20ubmFtZSArICc8L2xhYmVsPjxmb3JtPjxidXR0b24+LTwvYnV0dG9uPjwvZm9ybT48L2RkPicpKTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBDVlJHVUkucm9vbUxpc3QuZmluZCgnW3ZhbHVlPSInICsgcm9vbS51cmwgKyAnIl0nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBjbG9zZVRhcmdldCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSx1cmwpOwogICAgfTsKICAgIFJvb21MaXN0LmluaXQgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZighZ2V0U3RvcmFnZSgncm9vbXMnKSkKICAgICAgICAgICAgUm9vbUxpc3QuZ2V0Um9vbSgpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgUm9vbUxpc3Qucm9vbXMgPSBKU09OLnBhcnNlKGdldFN0b3JhZ2UoJ3Jvb21zJykpOwogICAgfTsKCiAgICAvL1dyYXAgbG9jYWwgc3RvcmFnZSBhY2Nlc3Mgc28gdGhhdCB3ZSBhdm9pZCBjb2xsaXNpb25zIHdpdGggb3RoZXIgc2NyaXB0cwogICAgdmFyIHByZWZpeCA9ICJTRUNsb3NlVm90ZVJlcXVlc3RHZW5lcmF0b3JfIjsgLy9wcmVmaXggdG8gYXZvaWQgY2xhc2hlcyBpbiBsb2NhbHN0b3JhZ2UKICAgIGZ1bmN0aW9uIGdldFN0b3JhZ2Uoa2V5KSB7IHJldHVybiBsb2NhbFN0b3JhZ2VbcHJlZml4ICsga2V5XTsgfQogICAgZnVuY3Rpb24gc2V0U3RvcmFnZShrZXksIHZhbCkgeyByZXR1cm4gKGxvY2FsU3RvcmFnZVtwcmVmaXggKyBrZXldID0gdmFsKTsgfQoKICAgIHZhciBiYXNlID0gJ2h0dHA6Ly8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOwoKICAgIGlmKCFnZXRTdG9yYWdlKGJhc2UgKyAncm9vbScpKQogICAgICAgIHNldFN0b3JhZ2UoYmFzZSArICdyb29tJywgJ2h0dHA6Ly9jaGF0LnN0YWNrb3ZlcmZsb3cuY29tL3Jvb21zLzQxNTcwL3NvLWNsb3NlLXZvdGUtcmV2aWV3ZXJzJyk7CiAgICAKICAgIAogICAgUm9vbUxpc3QuaW5pdCgpOwoKICAgIHZhciBDVlJHVUkgPSB7fTsKICAgIENWUkdVSS53cnAgICAgPSAkKCc8c3BhbiBjbGFzcz0iY3ZyZ3VpIiAvPicpOwogICAgQ1ZSR1VJLmJ1dHRvbiA9ICQoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImN2LWJ1dHRvbiI+Y3YtcGxzPC9hPicpOwogICAgQ1ZSR1VJLmxpc3QgICA9ICQoJzxkbCBjbGFzcz0iY3YtbGlzdCIgLz4nKTsKICAgIENWUkdVSS5jc3MgICAgPSAkKCc8c3R5bGU+LnBvc3QtbWVudSA+IHNwYW4gPiBhe3BhZGRpbmc6MCAzcHggMnB4IDNweDtjb2xvcjojODg4fS5wb3N0LW1lbnUgPiBzcGFuID4gYTpob3Zlcntjb2xvcjojNDQ0O3RleHQtZGVjb3JhdGlvbjpub25lfSAuY3ZyZ3VpIHsgcG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2sgfSAuY3ZyZ3VpICogeyBib3gtc2l6aW5nOiBib3JkZXItYm94IH0gLmN2LWxpc3QgeyBkaXNwbGF5OiBub25lOyBtYXJnaW46MDsgei1pbmRleDoxOyBwb3NpdGlvbjphYnNvbHV0ZTsgd2hpdGUtc3BhY2U6bm93cmFwOyBib3JkZXI6MXB4IHNvbGlkICNjY2M7Ym9yZGVyLXJhZGl1czozcHg7YmFja2dyb3VuZDojRkZGO2JveC1zaGFkb3c6MHB4IDVweCAxMHB4IC01cHggcmdiKDAsMCwwLDAuNSkgfSAuY3YtbGlzdCBkZCwgLmN2LWxpc3QgZGwgeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IH0gLmN2LWxpc3QgZGwgZGQgeyBwYWRkaW5nOiAwcHg7IG1hcmdpbjogMDsgd2lkdGg6IDEwMCU7IGRpc3BsYXk6IHRhYmxlIH0gLmN2LWxpc3QgZGwgbGFiZWwsIC5jdi1saXN0IGRsIGZvcm0geyBkaXNwbGF5OiB0YWJsZS1jZWxsIH0gLmN2LWxpc3QgZGwgYnV0dG9uIHsgbWFyZ2luOiAyLjVweCAwOyB9IC5jdi1saXN0IGRsIGxhYmVsIHsgd2lkdGg6IDEwMCU7IHBhZGRpbmc6IDBweDsgfSAgLmN2LWxpc3QgKiB7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IH0gLmN2LWxpc3QgZGQgPiBkaXYgeyBwYWRkaW5nOiAwcHggMTVweDsgcGFkZGluZy1ib3R0b206IDE1cHg7IH0gLmN2LWxpc3QgZGQgPiBkaXYgPiBmb3JtIHsgd2hpdGUtc3BhY2U6IG5vd3JhcCB9IC5jdi1saXN0IGRkID4gZGl2ID4gZm9ybSA+IGlucHV0IHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlIH0gLmN2LWxpc3QgZGQgPiBkaXYgPiBmb3JtID4gaW5wdXRbdHlwZT0idGV4dCJdIHsgd2lkdGg6IDMwMHB4OyBtYXJnaW4tcmlnaHQ6IDVweDsgfSAuY3YtbGlzdCBociB7IG1hcmdpbjowIDE1cHg7IGJvcmRlcjogMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYzsgfSAuY3YtbGlzdCBhIHsgZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDEwcHggMTVweDt9ICAuY3YtbGlzdCBsYWJlbCB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgcGFkZGluZzogMTBweCAxNXB4O30gLmN2LWxpc3QgbGFiZWw6bGFzdC1jaGlsZCB7IHBhZGRpbmctbGVmdDogMDsgfTwvc3R5bGU+Jyk7CiAgICBDVlJHVUkudGFyZ2V0ID0gKGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIGxpbmsgPSAkKCc8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiPjwvYT4nKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBkaXYgPSAkKCdkaXYnLCAkKHRoaXMpLnBhcmVudCgpKTsKICAgICAgICAgICAgJCgnZGl2JywgQ1ZSR1VJLmxpc3QpLm5vdChkaXYpLmhpZGUoKTsKICAgICAgICAgICAgaWYoZGl2LmlzKCc6aGlkZGVuJykpIHsKICAgICAgICAgICAgICAgIGRpdi5zaG93KCkuZmluZCgnW3R5cGU9InRleHQiXScpLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwoJ1NldCB0YXJnZXQgcm9vbTonKTsKICAgICAgICAgICAgfSBlbHNlIGNsb3NlVGFyZ2V0KCk7CiAgICAgICAgfSkKICAgICAgICBSb29tTGlzdC5nZXRSb29tKGZ1bmN0aW9uKHJvb20pewogICAgICAgICAgICBsaW5rLmh0bWwocm9vbS5uYW1lKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbGluazsKICAgIH0pKCk7CiAgICBmdW5jdGlvbiBjbG9zZVRhcmdldCgpIHsKICAgICAgICBSb29tTGlzdC5nZXRSb29tKGZ1bmN0aW9uKHJvb20peyAkKENWUkdVSS50YXJnZXQpLmh0bWwocm9vbS5uYW1lKTsgfSk7CiAgICAgICAgJCgnZGl2JywgQ1ZSR1VJLml0ZW1zLnJvb20pLmhpZGUoKTsKICAgICAgICAkKCdkaXYnLCBDVlJHVUkuaXRlbXMuc2VuZCkuc2hvdygpOwogICAgICAgICQoJ2lucHV0W3R5cGU9InRleHQiXScsIENWUkdVSS5pdGVtcy5zZW5kKS5mb2N1cygpOwogICAgfQogICAgQ1ZSR1VJLml0ZW1zICA9IHsKICAgICAgICBzZW5kOiAgICAkKCc8ZGQ+PGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIj5TZW5kIHJlcXVlc3Q8L2E+PGRpdiBzdHlsZT0iZGlzcGxheTpub25lIj48Zm9ybT48aW5wdXQgdHlwZT0idGV4dCIvPjxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTZW5kIj48L2Zvcm0+PC9kaXY+PGhyPjwvZGQ+JyksCiAgICAgICAgcm9vbTogICAgKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBpdGVtID0gJCgnPGRkPjwvZGQ+Jyk7CiAgICAgICAgICAgIHZhciBsaXN0ID0gJCgnPGRsPicpOwogICAgICAgICAgICB2YXIgZGl2ID0gJCgnPGRpdiBzdHlsZT0iZGlzcGxheTpub25lIi8+Jyk7CiAgICAgICAgICAgIFJvb21MaXN0LmdldFJvb20oZnVuY3Rpb24ocil7CiAgICAgICAgICAgICAgICBSb29tTGlzdC5lYWNoKGZ1bmN0aW9uKHJvb20pewogICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKCQoJzxkZD48bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJ0YXJnZXQtcm9vbSIgdmFsdWU9IicgKyByb29tLnVybCArICciJyArIChyLnVybCA9PT0gcm9vbS51cmwgPyAnIGNoZWNrZWQnIDogJycgKSArICc+JyArIHJvb20ubmFtZSArICc8L2xhYmVsPjxmb3JtPjxidXR0b24+LTwvYnV0dG9uPjwvZm9ybT48L2Zvcm0+PC9kZD4nKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGxpc3Qub24oJ2NoYW5nZScsZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgUm9vbUxpc3Quc2V0Um9vbShlLnRhcmdldC52YWx1ZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGxpc3Qub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcm9vbSA9IFJvb21MaXN0LnVybCgkKCdbbmFtZT0idGFyZ2V0LXJvb20iXScsICQoZS50YXJnZXQpLnBhcmVudCgpKS52YWwoKSk7CiAgICAgICAgICAgICAgICAgICAgaWYocm9vbSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZihSb29tTGlzdC5jb3VudCgpID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnkoJ0Nhbm5vdCByZW1vdmUgbGFzdCByb29tJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoJCgnW2NoZWNrZWRdJywgJChlLnRhcmdldCkucGFyZW50KCkpLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUm9vbUxpc3Quc2V0Um9vbSgkKCdpbnB1dFtuYW1lPSJ0YXJnZXQtcm9vbSJdOm5vdChbdmFsdWU9IicgKyByb29tLnVybCArICciXSknLCBsaXN0KS52YWwoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFJvb21MaXN0LnJvb21zW3Jvb20udXJsXTsKICAgICAgICAgICAgICAgICAgICAgICAgUm9vbUxpc3Quc2F2ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRpdi5hcHBlbmQobGlzdCk7CiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kKCQoJzxmb3JtPjxpbnB1dCB0eXBlPSJ0ZXh0Ii8+PGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlNldCI+PC9mb3JtPicpLm9uKCdzdWJtaXQnLGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gJCgnaW5wdXRbdHlwZT0idGV4dCJdJywgdGhpcykudmFsKCk7CiAgICAgICAgICAgICAgICAgICAgaWYoIXJlc3BvbnNlKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgUm9vbUxpc3Quc2V0Um9vbShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICBpdGVtLmFwcGVuZChDVlJHVUkudGFyZ2V0KTsKICAgICAgICAgICAgICAgIGl0ZW0uYXBwZW5kKGRpdik7CiAgICAgICAgICAgICAgICBpdGVtLmFwcGVuZCgkKCc8aHI+JykpOwogICAgICAgICAgICAgICAgQ1ZSR1VJLnJvb21MaXN0ID0gbGlzdDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pKCksCiAgICAgICAgdXBkYXRlOiAgJCgnPGRkPjxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSI+Q2hlY2sgZm9yIHVwZGF0ZXM8L2E+ICAgPC9kZD4nKQogICAgfTsKICAgIGZvcih2YXIgaXRlbSBpbiBDVlJHVUkuaXRlbXMpIHsKICAgICAgICBDVlJHVUkubGlzdC5hcHBlbmQoQ1ZSR1VJLml0ZW1zW2l0ZW1dKTsKICAgIH0KICAgIENWUkdVSS53cnAuYXBwZW5kKENWUkdVSS5idXR0b24pOwogICAgQ1ZSR1VJLndycC5hcHBlbmQoQ1ZSR1VJLmxpc3QpOwogICAgQ1ZSR1VJLndycC5hcHBlbmQoQ1ZSR1VJLmNzcyk7CgogICAgJCgnI3F1ZXN0aW9uIC5wb3N0LW1lbnUnKS5hcHBlbmQoQ1ZSR1VJLndycCk7CiAgICAKICAgICQoJy5xdWVzdGlvbicpLm9uKCdjbGljaycsICdbdHlwZT0ic3VibWl0Il0sIC5uZXctcG9zdC1hY3Rpdml0eSBhJywgZnVuY3Rpb24oZSl7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIHZhciBtZW51Q2hlY2sgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICBpZigkKCcjcXVlc3Rpb24gLnBvc3QtbWVudScpLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChtZW51Q2hlY2spOwogICAgICAgICAgICAgICAgJCgnI3F1ZXN0aW9uIC5wb3N0LW1lbnUnKS5hcHBlbmQoQ1ZSR1VJLndycCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0pOwoKICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsZnVuY3Rpb24oKXsKICAgICAgICBpZihDVlJHVUkubGlzdC5pcygnOnZpc2libGUnKSkKICAgICAgICAgICAgaGlkZU1lbnUoKTsKICAgIH0pOwoKICAgICQoJ2E6bm90KC5jdnJndWkgYSknKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7CiAgICAgICAgaWYoQ1ZSR1VJLmxpc3QuaXMoJzp2aXNpYmxlJykpIAogICAgICAgICAgICBoaWRlTWVudSgpOwogICAgfSk7CiAgICAkKCcuY3YtbGlzdCAqOm5vdChhKScpLm9uKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0pOwoKICAgIENWUkdVSS5idXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7IAogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgJCgnZGl2JywgQ1ZSR1VJLmxpc3QpLmhpZGUoKTsKICAgICAgICBDVlJHVUkubGlzdC50b2dnbGUoKTsgCiAgICB9KTsKCiAgICBDVlJHVUkuaXRlbXMuc2VuZC5vbignY2xpY2snLGZ1bmN0aW9uKGUpewogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgaWYoJCgnZGl2JywgQ1ZSR1VJLml0ZW1zLnNlbmQpLmlzKCc6aGlkZGVuJykpCiAgICAgICAgICAgIGNsb3NlVGFyZ2V0KCk7CiAgICAgICAgZWxzZSAkKCdkaXYnLCBDVlJHVUkuaXRlbXMuc2VuZCkuaGlkZSgpOwogICAgfSk7CgogICAgJCgnZm9ybScsIENWUkdVSS5pdGVtcy5zZW5kKS5vbignc3VibWl0JyxmdW5jdGlvbihlKXsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIHJlYXNvbiA9ICQoJ2lucHV0W3R5cGU9InRleHQiXScsIENWUkdVSS5pdGVtcy5zZW5kKS52YWwoKTsKICAgICAgICBpZighcmVhc29uKSByZXR1cm4gZmFsc2U7CiAgICAgICAgcmVhc29uID0gcmVhc29ucy5nZXQocmVhc29uKTsKICAgICAgICB2YXIgdGl0ID0gJ1snICsgJCgnI3F1ZXN0aW9uLWhlYWRlciBoMSBhJykudGV4dCgpLnJlcGxhY2UoL1xbKC4qKVxdL2csICcoJDEpJykgKyAnXSgnICsgYmFzZSArICQoJyNxdWVzdGlvbiAuc2hvcnQtbGluaycpLmF0dHIoJ2hyZWYnKSArICcpJzsgCiAgICAgICAgdmFyIHVzciA9ICQoJy5wb3N0LXNpZ25hdHVyZTpub3QoW2FsaWduPSJyaWdodCJdKSAudXNlci1kZXRhaWxzJykudGV4dCgpLnRyaW0oKS5tYXRjaCgvW15cbl0rLylbMF0udHJpbSgpLCB0aW07CiAgICAgICAgaWYoJCgnI3F1ZXN0aW9uIC5vd25lciBhJykubGVuZ3RoKSB1c3IgPSAnWycgKyB1c3IgKyAnXSgnICsgYmFzZSArICQoJyNxdWVzdGlvbiAub3duZXIgYScpLmF0dHIoJ2hyZWYnKSArICcpJzsKICAgICAgICBpZigkKCcjcXVlc3Rpb24gLm93bmVyIC5yZWxhdGl2ZXRpbWUnKS5sZW5ndGgpIHRpbSA9ICQoJyNxdWVzdGlvbiAub3duZXIgLnJlbGF0aXZldGltZScpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgdmFyIHJlc3VsdCA9ICdbdGFnOmN2LXBsc10gJyArIHJlYXNvbiArICcgJyArIHRpdCArICcgLSAnICsgdXNyICsgKHRpbSA/ICcgLSAnICsgdGltIDogJycpOwogICAgICAgIHNlbmRSZXF1ZXN0KHJlc3VsdCk7CiAgICB9KTsKCiAgICBDVlJHVUkuaXRlbXMudXBkYXRlLm9uKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBoaWRlTWVudSgpOwogICAgICAgIGNoZWNrVXBkYXRlcyh0cnVlKTsKICAgIH0pOwoKICAgIHZhciBjb21ibzsKICAgICQoZG9jdW1lbnQpLmtleWRvd24oZnVuY3Rpb24oZSkgewogICAgICAgIGlmKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIGUud2hpY2ggPT09IDY1KSB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgY29tYm8gPSB0cnVlOwogICAgICAgIH0KICAgIH0pOwogICAgJChkb2N1bWVudCkua2V5dXAoZnVuY3Rpb24oZSkgewogICAgICAgIGlmKGNvbWJvKSB7CiAgICAgICAgICAgIGNvbWJvID0gZmFsc2U7CiAgICAgICAgICAgIGlmKCQoJ2RpdicsIENWUkdVSS5pdGVtcy5zZW5kKS5pcygnOmhpZGRlbicpKSB7CiAgICAgICAgICAgICAgICBDVlJHVUkubGlzdC5zaG93KCk7CiAgICAgICAgICAgICAgICAkKCdkaXYnLCBDVlJHVUkuaXRlbXMuc2VuZCkuc2hvdygpLmZpbmQoJ2lucHV0W3R5cGU9InRleHQiXScpLmZvY3VzKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBoaWRlTWVudSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSAKICAgIH0pOwogICAgc2V0VGltZW91dChjaGVja1VwZGF0ZXMpOwogICAgdmFyIGNsb3NlcmVhc29ucyA9IHsKICAgICAgICA0OiAiR2VuZXJhbCBDb21wdXRpbmciLAogICAgICAgIDc6ICJTZXJ2ZXJmYXVsdC5jb20iLAogICAgICAgIDE2OiAiUmVxdWVzdCBmb3IgT2ZmLVNpdGUgUmVzb3VyY2UiLAogICAgICAgIDEzOiAiTm8gTUNWRSIsCiAgICAgICAgMTE6ICJUeXBvIG9yIENhbm5vdCBSZXByb2R1Y2UiLAogICAgICAgIDM6ICJjdXN0b20iLAogICAgICAgIDI6ICJCZWxvbmdzIG9uIGFub3RoZXIgc2l0ZSIKICAgIH07CiAgICAkKCcuY2xvc2UtcXVlc3Rpb24tbGluaycpLmNsaWNrKGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIGNwY2hlY2sgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICB2YXIgcG9wdXAgPSAkKCcjcG9wdXAtY2xvc2UtcXVlc3Rpb24nKSwgc2VsZWN0ZWQ7CiAgICAgICAgICAgIGlmKCFwb3B1cC5sZW5ndGgpIHJldHVybjsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjcGNoZWNrKTsKICAgICAgICAgICAgdmFyIHJlbWFpbmluZ3ZvdGVzID0gJCgnLnJlbWFpbmluZy12b3RlcycsIHBvcHVwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKCQoJ2lucHV0JywgcmVtYWluaW5ndm90ZXMpLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIGNoZWNrYm94ID0gJCgnPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgc3R5bGU9InZlcnRpY2FsLWFsaWduOm1pZGRsZTttYXJnaW4tbGVmdDogNXB4OyI+U2VuZCBjdi1wbHMgcmVxdWVzdDwvbGFiZWw+Jyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAkKCcucmVtYWluaW5nLXZvdGVzJywgcG9wdXApLmFwcGVuZChjaGVja2JveCk7CiAgICAgICAgICAgICQoJ1tuYW1lPSJjbG9zZS1yZWFzb24iXScpLmNoYW5nZShmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkICYmIChzZWxlY3RlZCA9ICQodGhpcykpICYmICQoJ2lucHV0W3R5cGU9InRleHQiXScsIENWUkdVSS5pdGVtcy5zZW5kKS52YWwodGhpcy52YWx1ZS5yZXBsYWNlKC8oPyFeKShbQS1aXSkvZywgJyAkMScpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoJ1tuYW1lPSJjbG9zZS1hcy1vZmYtdG9waWMtcmVhc29uIl0nKS5jaGFuZ2UoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCAmJiAoc2VsZWN0ZWQgPSAkKHRoaXMpKSAmJiAkKCdpbnB1dFt0eXBlPSJ0ZXh0Il0nLCBDVlJHVUkuaXRlbXMuc2VuZCkudmFsKGNsb3NlcmVhc29uc1t0aGlzLnZhbHVlXSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCcucG9wdXAtc3VibWl0JykuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZC52YWwoKSA9PT0gJzMnKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHNlbGVjdGVkLnBhcmVudCgpLnBhcmVudCgpOwogICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W3R5cGU9InRleHQiXScsIENWUkdVSS5pdGVtcy5zZW5kKS52YWwoJCgndGV4dGFyZWEnLHBhcmVudCkudmFsKCkucmVwbGFjZSgkKCdbdHlwZT0iaGlkZGVuIl0nLHBhcmVudCkudmFsKCksJycpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNoZWNrYm94LmZpbmQoJ2lucHV0JykuaXMoJzpjaGVja2VkJykgJiYgJCgnZm9ybScsIENWUkdVSS5pdGVtcy5zZW5kKS5zdWJtaXQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwgMTAwKTsKICAgIH0pOwp9KSgpOwo="},{"name":"stackoverflow-comment-reply","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://stackoverflow.com/*","*://serverfault.com/*","*://superuser.com/*","*://meta.stackoverflow.com/*","*://meta.serverfault.com/*","*://meta.superuser.com/*","*://stackapps.com/*","*://*.stackexchange.com/*","*://askubuntu.com/*","*://meta.askubuntu.com/*","*://answers.onstartups.com/*","*://meta.answers.onstartups.com/*","*://mathoverflow.net/*","*://area51.stackexchange.com/proposals/*"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1448203128208},"enabled":true,"position":2,"file_url":"https://bitbucket.org/balpha/user-scripts/raw/tip/comment-reply-links/comment-reply-links.user.js","uuid":"b30320e8-9e48-4191-9a0a-15f6c81e1d21","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIHN0YWNrb3ZlcmZsb3ctY29tbWVudC1yZXBseQovLyBAbmFtZXNwYWNlICAgICAgc3RhY2tvdmVyZmxvdwovLyBAZGVzY3JpcHRpb24gICAgQWRkICJyZXBseSIgbGlua3MgdG8gY29tbWVudHMKLy8gQHZlcnNpb24gICAgICAgIDEuMQovLyBAbWF0Y2ggICAgICAgICAgKjovL3N0YWNrb3ZlcmZsb3cuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9zZXJ2ZXJmYXVsdC5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3N1cGVydXNlci5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL21ldGEuc3RhY2tvdmVyZmxvdy5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL21ldGEuc2VydmVyZmF1bHQuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9tZXRhLnN1cGVydXNlci5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3N0YWNrYXBwcy5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouc3RhY2tleGNoYW5nZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2Fza3VidW50dS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL21ldGEuYXNrdWJ1bnR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vYW5zd2Vycy5vbnN0YXJ0dXBzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vbWV0YS5hbnN3ZXJzLm9uc3RhcnR1cHMuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9tYXRob3ZlcmZsb3cubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9hcmVhNTEuc3RhY2tleGNoYW5nZS5jb20vcHJvcG9zYWxzLyoKLy8gQGF1dGhvciAgICAgICAgIEJlbmphbWluIER1bWtlLXZvbiBkZXIgRWhlCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8gVGhhbmtzIHRvIFNob2c5IGZvciB0aGlzIGlkZWEgZm9yIG1ha2luZyB0aGUgc2NyaXB0IHdvcmsgaW4gYm90aAovLyBDaHJvbWUgYW5kIEZpcmVmb3g6Ci8vIGh0dHA6Ly9tZXRhLnN0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80NjU2MgpmdW5jdGlvbiB3aXRoX2pxdWVyeShmKSB7CiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICBzY3JpcHQudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOwogICAgc2NyaXB0LnRleHRDb250ZW50ID0gIigiICsgZi50b1N0cmluZygpICsgIikoalF1ZXJ5KSI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7Cn07Cgp3aXRoX2pxdWVyeShmdW5jdGlvbigkKSB7CiAgICAgICAgCiAgICAkKGRvY3VtZW50KS5hamF4Q29tcGxldGUoZnVuY3Rpb24oKXsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLmNvbW1lbnRzIikuZWFjaChwdXRfcmVwbHlfbGlua3MpOwogICAgICAgIH0sIDEwMCk7CiAgICB9KTsKICAgICAgICAKICAgIC8vIGV2ZW50IGhhbmRsZXIgZm9yIGEgY2xpY2sgb24gdGhlIHJlcGx5IGxpbmtzCiAgICBmdW5jdGlvbiByZXBseSgpIHsKICAgICAgICB2YXIgY29tbWVudGxpbmsgPSAkKHRoaXMpLmNsb3Nlc3QoIi5jb21tZW50cyIpLm5leHQoKS5jbGljaygpOwogICAgICAgIHZhciBjb21tZW50bGlua0lkID0gY29tbWVudGxpbmsuYXR0cigiaWQiKTsKICAgICAgICB2YXIgdXNlcm5hbWUgPSBnb29kaWZ5KCQodGhpcykucHJldigpLnRleHQoKS5yZXBsYWNlKC/imaYvLCAiIikpCiAgICAgICAgdmFyIGZvcm1pZCA9IGNvbW1lbnRsaW5rSWQucmVwbGFjZSgvXi4qLShcZCspJC8sICJhZGQtY29tbWVudC0kMSIpOwogICAgICAgIHZhciB0YSA9ICQoIiMiICsgZm9ybWlkICsgIiB0ZXh0YXJlYSIpWzBdOwogICAgICAgIHZhciBzdGFydCA9IHRhLnNlbGVjdGlvblN0YXJ0OwogICAgICAgIHZhciBlbmQgPSB0YS5zZWxlY3Rpb25FbmQ7CiAgICAgICAgdmFyIHNoaWZ0ID0gdXNlcm5hbWUubGVuZ3RoICsgMzsKICAgICAgICB0YS52YWx1ZSA9ICJAIiArIHVzZXJuYW1lICsgIjogIiArIHRhLnZhbHVlOwogICAgICAgIHRhLmZvY3VzKCk7CiAgICAgICAgdGEuc2VsZWN0aW9uU3RhcnQgPSBzdGFydCArIHNoaWZ0OwogICAgICAgIHRhLnNlbGVjdGlvbkVuZCA9IGVuZCArIHNoaWZ0OwogICAgfTsKCiAgICBmdW5jdGlvbiBwdXRfcmVwbHlfbGlua3MoKSB7CiAgICAgICAgJCh0aGlzKS5maW5kKCIuY29tbWVudDpub3QoOmhhcygucmVwbHktbGluaykpIC5jb21tZW50LXVzZXIiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiPHNwYW4gY2xhc3M9J3JlcGx5LWxpbmsnIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjsnIHRpdGxlPSdyZXBseSc+ICZjcmFycjs8L3NwYW4+IikuY2xpY2socmVwbHkpLmluc2VydEFmdGVyKHRoaXMpOwogICAgICAgIH0pOwogICAgfQogICAgICAgICAgICAKICAgICQoIi5jb21tZW50cyIpLmVhY2gocHV0X3JlcGx5X2xpbmtzKTsKICAgIAogICAgZnVuY3Rpb24gZ29vZGlmeShzKSB7CiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvICsvZywgIiIpOwogICAgfSAgCiAgICAKfSk7"},{"name":"Stack Exchange like I like it","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["/^https?:\\/\\/(chat|blog|careers)\\..*/"],"orig_includes":[],"orig_matches":["*://stackexchange.com/*","*://*.stackexchange.com/*/*","*://stackoverflow.com/*/*","*://*.stackoverflow.com/*/*","*://stackapps.com/*/*","*://serverfault.com/*/*","*://superuser.com/*/*","*://askubuntu.com/*/*","*://mathoverflow.net/*/*"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1448203128217},"enabled":true,"position":3,"file_url":"https://github.com/calraith/gm_scripts/raw/master/se_like_I_like_it.user.js","uuid":"a490bb56-67fc-4b13-ba27-3ac98ef75e75","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFN0YWNrIEV4Y2hhbmdlIGxpa2UgSSBsaWtlIGl0Ci8vIEBuYW1lc3BhY2UgICBodHRwOi8vc3RhY2thcHBzLm9yZy8KLy8gQGRlc2NyaXB0aW9uIERvdWJsZS1jbGljayBhIGNvZGUgYmxvY2sgdG8gc2VsZWN0IGFsbCArIGVkaXQgYm94IGF1dG8gaW5kZW50IC8gdGFiIGtleSBiZWhhdmlvciBlbmhhbmNlbWVudHMKLy8gQG1hdGNoCQkqOi8vc3RhY2tleGNoYW5nZS5jb20vKgovLyBAbWF0Y2gJCSo6Ly8qLnN0YWNrZXhjaGFuZ2UuY29tLyovKgovLyBAbWF0Y2gJCSo6Ly9zdGFja292ZXJmbG93LmNvbS8qLyoKLy8gQG1hdGNoCQkqOi8vKi5zdGFja292ZXJmbG93LmNvbS8qLyoKLy8gQG1hdGNoCQkqOi8vc3RhY2thcHBzLmNvbS8qLyoKLy8gQG1hdGNoCQkqOi8vc2VydmVyZmF1bHQuY29tLyovKgovLyBAbWF0Y2gJCSo6Ly9zdXBlcnVzZXIuY29tLyovKgovLyBAbWF0Y2gJCSo6Ly9hc2t1YnVudHUuY29tLyovKgovLyBAbWF0Y2gJCSo6Ly9tYXRob3ZlcmZsb3cubmV0LyovKgovLyBAZXhjbHVkZSAgICAgL15odHRwcz86XC9cLyhjaGF0fGJsb2d8Y2FyZWVycylcLi4qLwovLyBAdmVyc2lvbiAgICAgMS41LjEKLy8gQGRvd25sb2FkVVJMCWh0dHBzOi8vZ2l0aHViLmNvbS9jYWxyYWl0aC9nbV9zY3JpcHRzL3Jhdy9tYXN0ZXIvc2VfbGlrZV9JX2xpa2VfaXQudXNlci5qcwovLyBAZ3JhbnQgICAgICAgR01faW5mbwovLyA9PS9Vc2VyU2NyaXB0PT0KCi8vIFwvLisvCnZhciBrZXkgPSB7Cgl0YWI6IDksCgllbnRlcjogMTMsCgllbmQ6IDM1LAoJaG9tZTogMzYsCgljb2RlOiAwLAoJaGlzdG9yeTogWzAsMF0sCgljb250YWluczogZnVuY3Rpb24od2hhdCkgewoJCS8vIGZhc3Rlc3QgbG9vcCBtZXRob2QgZm9yIHRoaXMgYXBwbGljYXRpb24KCQkvLyBzZWUgaHR0cDovL2pzcGVyZi5jb20vb2JqZWN0LWl0ZXJhdGlvbi1saWtlLWEtYm9zcwoJCWZvciAodmFyIGkgaW4gdGhpcykgewoJCQlpZiAoaSA9PT0gJ2NvZGUnKSByZXR1cm4gZmFsc2U7CgkJCWlmICh0aGlzW2ldID09PSB3aGF0KSByZXR1cm4gdHJ1ZTsKCQl9Cgl9Cn07CgpmdW5jdGlvbiBmaXhUYWJzKGUpIHsKCWUgPSBlIHx8IGV2ZW50OwoJa2V5LmNvZGUgPSBlLmtleUNvZGUgfHwgZS5jaGFyQ29kZTsKCgkvLyBjYXB0dXJlIHRoaXMgKyBwcmV2aW91cyBrZXkgY29kZSB0byBkZXRlY3QgZG91YmxlIGhvbWUgb3IgZW5kCglrZXkuaGlzdG9yeS5wdXNoKGtleS5jb2RlKTsKCWtleS5oaXN0b3J5LnNoaWZ0KCk7CgoJaWYgKCFrZXkuY29udGFpbnMoa2V5LmNvZGUpKSByZXR1cm47CS8vIG5vdCBhIGNoYXJhY3RlciB0aGlzIHNjcmlwdCBoYW5kbGVzCgoJdmFyIGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKCWlmIChlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dGFyZWEnKSByZXR1cm47CS8vIG5vdCBpbiBhIHRleHRhcmVhCglpZiAoZWwubmFtZSA9PSAnY29tbWVudCcpIHJldHVybjsJLy8gbm90IGFuIGVkaXQgZW50cnkgYm94CgoJLy8gQWxsIHN5c3RlbXMgZ28hCgl2YXIgc3RhcnQgPSBlbC5zZWxlY3Rpb25TdGFydCwKCQllbmQgPSBlbC5zZWxlY3Rpb25FbmQsCgkJc2hpZnRTdGFydCA9IHNoaWZ0RW5kID0gMCwKCQkvLyBpbmRlbnQgcmVnZXhwIHJlcGxhY2VtZW50IGZ1bmN0aW9uCgkJdGFiRmlsbCA9IGZ1bmN0aW9uKG1hdGNoLCAkMSwgb2Zmc2V0KSB7CgkJCWZvciAodmFyIGk9MCwgcmV0PScnLCBsZW49bWF0Y2gubGVuZ3RoLCBtPWxlbiAvIDQ7IGk8bTsgaSsrKSByZXQgKz0gJ1x0JzsKCQkJLy8gY29tcGVuc2F0ZSBmb3IgY3Vyc29yIGRyaWZ0CgkJCWlmIChvZmZzZXQgPCBzdGFydCkgewoJCQkJc2hpZnRTdGFydCAtPSAobGVuIC0gaSk7CgkJCQlpZiAob2Zmc2V0ICsgbGVuID4gc3RhcnQpIHNoaWZ0U3RhcnQgKz0gb2Zmc2V0ICsgbGVuIC0gc3RhcnQ7CgkJCX0KCQkJaWYgKG9mZnNldCA8IGVuZCkgewoJCQkJc2hpZnRFbmQgLT0gKGxlbiAtIGkpOwoJCQkJaWYgKG9mZnNldCArIGxlbiA+IGVuZCkgc2hpZnRFbmQgKz0gb2Zmc2V0ICsgbGVuIC0gZW5kOwoJCQl9CgkJCXJldHVybiByZXQ7CgkJfTsKCgkvLyBSZXBsYWNlIHNwYWNlIGluZGVudHMgd2l0aCB0YWJzLgoJZWwudmFsdWUgPSBlbC52YWx1ZS5yZXBsYWNlKC8oPzpeXHQqKSggezR9KSsvbWcsIHRhYkZpbGwpOwoJaWYgKHNoaWZ0U3RhcnQpIHsKCQlzdGFydCArPSBzaGlmdFN0YXJ0OyBlbmQgKz0gc2hpZnRFbmQ7CgkJZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCk7Cgl9CgoJc2VsZWN0ZWQgPSBlbC52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7Cgl2YXIgaW5wdXRBcnIgPSBlbC52YWx1ZS5zcGxpdCgnXG4nKTsKCgkvLyBpbnB1dEFycltyb3ddIGNvbnRhaW5zIHN0YXJ0LCBhbmQgcG9zIGNvbnRhaW5zIHRoZSBpZHggb2YgdGhlIGxhc3QgY2hhciBvZiB0aGUgcHJldmlvdXMgbGluZQoJZm9yICh2YXIgcm93PXBvcz0wO3BvcytpbnB1dEFycltyb3ddLmxlbmd0aDxzdGFydDtyb3crKyl7cG9zKz1pbnB1dEFycltyb3ddLmxlbmd0aCsxfQoKCXN3aXRjaCAoa2V5LmNvZGUpIHsKCgkJY2FzZSBrZXkudGFiOgoKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJLy8gaWYgc2VsZWN0aW9uIHNwYW5zIG1vcmUgdGhhbiBvbmUgbGluZQoJCQlpZiAoc2VsZWN0ZWQuaW5kZXhPZignXG4nKSA+IC0xKSB7CgkJCQkvLyBjb3VudCBudW1iZXIgb2Ygcm93cyBpbmNsdWRlZCBpbiBzZWxlY3Rpb24KCQkJCXZhciByb3dzU2VsZWN0ZWQgPSBzZWxlY3RlZC5zcGxpdCgnXG4nKS5sZW5ndGg7CgoJCQkJLy8gZXhwYW5kIHNlbGVjdGlvbiB0byBjb3ZlciBiZWdpbm5pbmcgb2Ygc3RhcnQgcm93IHVudGlsIGVuZCBvZiBlbmQgcm93CgkJCQkvLyByZXBsYWNlIGFsbCA0LXNwYWNlIHNlcXVlbmNlcyB3aXRoIGEgdGFiIGFuZCB1cGRhdGUgcG9zaXRpb24gaW5kZXhlcwoJCQkJLy8gaWYgc2hpZnQga2V5LCByZW1vdmUgb25lIGxldmVsIG9mIGluZGVudCBwZXIgc2VsZWN0ZWQgcm93OyBvdGhlcndpc2UsIGFkZCBhIGxldmVsIG9mIGluZGVudC4KCQkJCWZvciAoc3RhcnQgPSBwb3MsIHN0b3AgPSByb3cgKyByb3dzU2VsZWN0ZWQ7IHJvdyA8IHN0b3A7IHJvdysrKSB7CgkJCQkJaW5wdXRBcnJbcm93XSA9IChlLnNoaWZ0S2V5KSA/IGlucHV0QXJyW3Jvd10ucmVwbGFjZSgvXiggezR9fFx0KS8sJycpIDogJ1x0JyArIGlucHV0QXJyW3Jvd107CgkJCQkJcG9zKz1pbnB1dEFycltyb3ddLmxlbmd0aCArIDE7CgkJCQl9CgkJCQllbmQgPSAtLXBvczsKCQkJCWVsLnZhbHVlID0gaW5wdXRBcnIuam9pbignXG4nKTsKCQkJCWVsLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpOwoKCQkJLy8gZWxzZSBzZWxlY3Rpb24gZG9lcyBub3Qgc3BhbiBtdWx0aXBsZSBsaW5lcy4KCQkJLy8gSWYgbm90IHNoaWZ0IGtleSwgc2ltcGx5IGluc2VydCBhIHRhYiAob3ZlcndyaXRpbmcgYW55IGxlYWRpbmcgc3BhY2VzKSBhbmQgYWR2YW5jZSB0aGUgY3Vyc29yLgoJCQl9IGVsc2UgaWYgKCFlLnNoaWZ0S2V5KSB7CgoJCQkJZWwudmFsdWUgPSBlbC52YWx1ZS5zdWJzdHJpbmcoMCwgc3RhcnQpLnJlcGxhY2UoLyggKykkLywgZnVuY3Rpb24oJDEpIHsgc3RhcnQgLT0gJDEubGVuZ3RoOyByZXR1cm4gJyc7IH0pCgkJCQkJKyAnXHQnCgkJCQkJKyBlbC52YWx1ZS5zdWJzdHJpbmcoZW5kKS5yZXBsYWNlKC9eICsvLCAnJyk7CgkJCQllbC5zZXRTZWxlY3Rpb25SYW5nZSgrK3N0YXJ0LCBzdGFydCk7CgoJCQkvLyBvdGhlcndpc2UsIGhhbmRsZSBzaGlmdCt0YWIKCQkJfSBlbHNlIHsKCgkJCQkvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgkJCQlUaGUgZm9sbG93aW5nIGNvZGUgYmxvY2sgbWltaWNzIHRoZSBiZWhhdmlvciBvZiBOb3RlcGFkKysuCgkJCQlJZiBhIHVzZXIgZG9lcyBzaGlmdC10YWIsIE5QUCBkb2VzIG5vdCBjaGFuZ2UgdGhlCgkJCQlpbmRlbnRhdGlvbiBvZiB0aGUgbGluZSB1bmxlc3MgdGhlIGN1cnNvciBpcyBhdCB0aGUKCQkJCWJlZ2lubmluZyBvZiBhbGwgbm9uLXdoaXRlc3BhY2Ugb24gdGhlIGxpbmUuICBJbnN0ZWFkLAoJCQkJTlBQIG1vdmVzIHRoZSBjdXJzb3IgYmFjayBvbmUgdGFiIHN0b3AuCgkJCQk9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgkJCQl2YXIgY3Vyc29ySW5Qb3MgPSBzdGFydCAtIHBvcywgY3Vyc29yTW92ZWQsIHRhYlN0b3A7CgoJCQkJLy8gV2hpbGUgdGhlIGN1cnNvciBpcyBub3QgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZSBhbmQgdGhlcmUncwoJCQkJLy8gbm9uLXdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaW5lIGFuZCB0aGUgY3Vyc29yLAoJCQkJLy8gYW5kIHN0YXJ0IGlzIG5vdCBhdCB0aGUgcHJldmlvdXMgdGFiIHN0b3AKCQkJCXdoaWxlIChjdXJzb3JJblBvcyAmJiAvXFMvLnRlc3QoaW5wdXRBcnJbcm93XS5zdWJzdHJpbmcoMCxjdXJzb3JJblBvcykpICYmICF0YWJTdG9wKSB7CgkJCQkJY3Vyc29yTW92ZWQgPSBzdGFydC0tOwoJCQkJCWN1cnNvckluUG9zLS07CgkJCQkJdmFyIGluZGVudExldmVsID0gKGlucHV0QXJyW3Jvd10ubWF0Y2goL15ccysvKSB8fCBbJyddKVswXS5sZW5ndGgsCgkJCQkJCXRlbXBDdXJzb3IgPSBjdXJzb3JJblBvcyAtIGluZGVudExldmVsLAoJCQkJCQl0YWJTdG9wID0gISh0ZW1wQ3Vyc29yICUgNCk7CgkJCQl9CgoJCQkJLy8gSWYgY3Vyc29yIHdhcyBub3QgbW92ZWQsIG91dGRlbnQuCgkJCQlpZiAoIWN1cnNvck1vdmVkKSB7CgkJCQkJaWYgKC9ccy8udGVzdChpbnB1dEFycltyb3ddLmNoYXJBdChjdXJzb3JJblBvcykpKSBzdGFydCsrOwoJCQkJCWlucHV0QXJyW3Jvd10gPSBpbnB1dEFycltyb3ddLnJlcGxhY2UoL14oICt8XHQpLywKCQkJCQkJZnVuY3Rpb24oJDEpIHsgaWYgKHN0YXJ0ID4gcG9zKSBzdGFydCAtPSAkMS5sZW5ndGg7IHJldHVybiAnJzsgfQoJCQkJCSk7CgkJCQkJZWwudmFsdWUgPSBpbnB1dEFyci5qb2luKCdcbicpOwoJCQkJfQoJCQkJZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIHN0YXJ0KTsKCQkJfQoKCQlicmVhazsKCgkJY2FzZSBrZXkuZW50ZXI6CgoJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQkvLyBjdHJsK0VudGVyIHRvIHN1Ym1pdAoJCQlpZiAoZS5jdHJsS2V5KSB7CgkJCQlkbyB7IGVsID0gZWwucGFyZW50Tm9kZSB8fCBudWxsOyB9IHdoaWxlIChlbCAmJiBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnZm9ybScpOwoJCQkJcmV0dXJuIGVsID8gZWwuc3VibWl0KCkgOiBmYWxzZTsKCQkJfQoKCQkJLy8gdW5pZnkgaW5kZW50YXRpb24gb2YgcHJldmlvdXMgbGluZSBhcyB0YWJzCgkJCXZhciBpbmRlbnQgPSAoaW5wdXRBcnJbcm93XS5tYXRjaCgvXlxzKy8pIHx8IFsnJ10pWzBdOwoKCQkJLy8gaW5zZXJ0IG5ld2xpbmUgKyBpbmRlbnQsIGRpc2NhcmRpbmcgY29udGVudHMgb2YgdXNlciBzZWxlY3Rpb24gaWYgYW55CgkJCWVsLnZhbHVlID0gZWwudmFsdWUuc3Vic3RyaW5nKDAsIHBvcykKCQkJCSsgaW5wdXRBcnJbcm93XS5zdWJzdHJpbmcoMCwgc3RhcnQgLSBwb3MpCgkJCQkrICdcbicgKyBpbmRlbnQKCQkJCSsgZWwudmFsdWUuc3Vic3RyaW5nKGVuZCk7CgkJCXN0YXJ0Kz1pbmRlbnQubGVuZ3RoKzE7CgkJCWVsLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBzdGFydCk7CgoJCWJyZWFrOwoKCQljYXNlIGtleS5ob21lOgoKCQkJdmFyIGN1cnNvckluUG9zID0gc3RhcnQgLSBwb3MsIG5ld1N0YXJ0ID0gc3RhcnQsIGN1cnNvck1vdmVkOwoKCQkJLy8gSWYgbm90IGRvdWJsZS1wcmVzc2VkIGFuZCBsaW5lIGlzIHdyYXBwZWQsIGFsbG93IGRlZmF1bHQgYmVoYXZpb3IKCQkJaWYgKGN1cnNvckluUG9zID4gZWwuY29scyAmJiBrZXkuaGlzdG9yeVswXSAhPT0ga2V5LmhvbWUpIHJldHVybjsKCQkJaWYgKGtleS5oaXN0b3J5WzBdID09IGtleS5oaXN0b3J5WzFdKSBrZXkuaGlzdG9yeVsxXSA9IDA7CgoJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQkvLyBJZiBjdXJzb3IgaXMgaW4gdGhlIHdoaXRlc3BhY2UgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZSwgYWR2YW5jZSB0byB0ZXh0CgkJCXdoaWxlIChjdXJzb3JJblBvcyA8IGlucHV0QXJyW3Jvd10ubGVuZ3RoICYmIC9ccy8udGVzdChpbnB1dEFycltyb3ddLmNoYXJBdChjdXJzb3JJblBvcykpKSB7CgkJCQljdXJzb3JNb3ZlZCA9IG5ld1N0YXJ0Kys7CgkJCQljdXJzb3JJblBvcysrOwoJCQl9CgoJCQkvLyBJZiBjdXJzb3IgaXMgYWZ0ZXIgbm9uLXdoaXRlc3BhY2UsIHJlZ3Jlc3MgdG8gYmVnaW5uaW5nIG9mIHRleHQKCQkJd2hpbGUgKGN1cnNvckluUG9zICYmIC9cUy8udGVzdChpbnB1dEFycltyb3ddLnN1YnN0cmluZygwLGN1cnNvckluUG9zKSkpIHsKCQkJCWN1cnNvck1vdmVkID0gbmV3U3RhcnQtLTsKCQkJCWN1cnNvckluUG9zLS07CgkJCX0KCgkJCS8vIElmIHRoZSBjdXJzb3Igd2Fzbid0IG1vdmVkLCBtb3ZlIGl0IHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpbmUuCgkJCWlmICghY3Vyc29yTW92ZWQpIG5ld1N0YXJ0IC09IGN1cnNvckluUG9zOwoKCQkJaWYgKGUuc2hpZnRLZXkpIHsKCQkJCWlmIChzdGFydCA+IG5ld1N0YXJ0KSBlbC5zZXRTZWxlY3Rpb25SYW5nZShuZXdTdGFydCwgZW5kLCAnYmFja3dhcmQnKTsKCQkJCWVsc2UgZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIG5ld1N0YXJ0KTsKCQkJfQoJCQllbHNlIGVsLnNldFNlbGVjdGlvblJhbmdlKG5ld1N0YXJ0LCBuZXdTdGFydCk7CgoJCWJyZWFrOwoKCQljYXNlIGtleS5lbmQ6CgoJCQkvLyBpZiBub3QgZG91YmxlLXByZXNzZWQsIGFsbG93IGRlZmF1bHQgYmVoYXZpb3IuCgkJCWlmIChpbnB1dEFycltyb3ddLmxlbmd0aCA8PSBlbC5jb2xzIHx8IGtleS5oaXN0b3J5WzBdICE9PSBrZXkuZW5kKSByZXR1cm47CgkJCWlmIChrZXkuaGlzdG9yeVswXSA9PSBrZXkuaGlzdG9yeVsxXSkga2V5Lmhpc3RvcnlbMV0gPSAwOwoKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJdmFyIG5ld0VuZCA9IHBvcyArIGlucHV0QXJyW3Jvd10ubGVuZ3RoOwoKCQkJLy8gc2VsZWN0IHRvIG5leHQgXG4KCQkJaWYgKGUuc2hpZnRLZXkpIGVsLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBuZXdFbmQpOwoJCQllbHNlIGVsLnNldFNlbGVjdGlvblJhbmdlKG5ld0VuZCwgbmV3RW5kKTsKCgkJYnJlYWs7CgoJfQkvLyBlbmQgc3dpdGNoKGtleS5jb2RlKQp9CS8vIGVuZCBmaXhUYWJzKCkKCmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmaXhUYWJzLCB0cnVlKTsKCi8qIGVuZCBrZXlib2FyZCBiZWhhdmlvciBtb2RzICovCgpmdW5jdGlvbiBzZWxlY3RBbGwoKSB7Cgl2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOwoJLy8gc2VsZWN0IHBhcmVudCBpZiBwYXJlbnQgPT09IDxwcmU+OyBlbHNlIHNlbGVjdCBzZWxmCglyYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAncHJlJyA/IHRoaXMuY2hpbGROb2Rlc1swXSA6IHRoaXMpOwoJdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTsKCXNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTsKCXNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7Cn0KCmZ1bmN0aW9uIGFkZERibENsaWNrKCkgewoJdmFyIGNvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29kZScpOwoJZm9yICh2YXIgaT0wOyBpPGNvZGUubGVuZ3RoOyBpKyspIHsKCQkvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJCUlmIHBhcmVudCBub2RlIGlzIDxwcmU+LCBhZGQgbGlzdGVuZXIgdG8gcGFyZW50LiAgVGhpcyBhbGxvd3MgZG91YmxlLQoJCWNsaWNraW5nIGFueXdoZXJlIHdpdGhpbiBhIGNvZGUgYmxvY2sgdG8gc2VsZWN0IGFsbCwgYXMgd2VsbCBhcyBkb3VibGUtCgkJY2xpY2tpbmcgaW5saW5lIGNvZGUgc25pcHBldHMgdGhlIHBvc3RlciBlbmNsb3NlZCBpbiBiYWNrdGlja3MuCgkJPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCQl2YXIgbm9kZSA9IChjb2RlW2ldLnBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3ByZScgPyBjb2RlW2ldLnBhcmVudE5vZGUgOiBjb2RlW2ldKTsKCQlub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgc2VsZWN0QWxsLCB0cnVlKTsKCQlub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgc2VsZWN0QWxsLCB0cnVlKTsKCQlub2RlLnRpdGxlID0gJ2RvdWJsZS1jbGljayB0byBzZWxlY3QgYWxsJzsKCX0KfQphZGREYmxDbGljaygpOwoKLy8gbGlzdGVuIGZvciBzdHVmZiBsaWtlICJzaG93IDEgbW9yZSBjb21tZW50Igp2YXIgY3JlZXAgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihhZGREYmxDbGljayk7CmNyZWVwLm9ic2VydmUoZG9jdW1lbnQsIHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWV9KTsKCi8qIGVuZCBkb3VibGUtY2xpY2sgbW9kcyAqLwoKLy8gSWYgb24gaHR0cDovL3N0YWNrZXhjaGFuZ2UuY29tLywgY2hlY2sgZm9yIHNpdGVzIG5vdCBpbmNsdWRlZCBpbiBtZXRhZGF0YSBAbWF0Y2ggZGlyZWN0aXZlcwppZiAoL2h0dHBzPzpcL1wvc3RhY2tleGNoYW5nZVwuY29tL2kudGVzdChsb2NhdGlvbi5ocmVmKSAmJiBHTV9pbmZvKSB7Cgl2YXIgWEhSID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7Cgl3aXRoIChYSFIpIHsKCQlvcGVuKCJHRVQiLCAiaHR0cDovL3N0YWNrZXhjaGFuZ2UuY29tL3NpdGVzP3ZpZXc9bGlzdCIsIHRydWUpOwoJCW9uZXJyb3IgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9OwoJCW9ubG9hZCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfTsKCQlvbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJaWYgKFhIUi5yZWFkeVN0YXRlID09IDQpIHsKCQkJCXZhciBkb20gPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoKTsKCQkJCWRvbS5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MID0gWEhSLnJlc3BvbnNlVGV4dDsKCQkJCXZhciBsaXN0ID0gZG9tLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xpc3Qtdmlldy1jb250YWluZXInKVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpOwoJCQkJdmFyIG1hdGNoZXMgPSBHTV9pbmZvLnNjcmlwdC5tYXRjaGVzOwoJCQkJZm9yICh2YXIgaT1mb3VuZD0wOyBpPGxpc3QubGVuZ3RoOyBpKyspIHsKCQkJCQlpZiAoLyh0d2l0dGVyfGJsb2cpL2kudGVzdChsaXN0W2ldLmhyZWYpKSBjb250aW51ZTsKCQkJCQlmb3IgKHZhciBqPTA7IGo8bWF0Y2hlcy5sZW5ndGg7IGorKykgewoJCQkJCQl2YXIgcnhwID0gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVzW2pdLnJlcGxhY2UoL1wvXCokLywnJykucmVwbGFjZSgvW1wuXC9cKl0vZywgZnVuY3Rpb24obSkgewoJCQkJCQkJcmV0dXJuIChtID09ICcqJykgPyAnLionIDogJ1xcJyArIG07CgkJCQkJCX0pICsgJyQnLCAnaScpOwoJCQkJCQlpZiAocnhwLnRlc3QobGlzdFtpXS5ocmVmKSkgeyBmb3VuZD0xOyBicmVhazsgfQoJCQkJCX0KCQkJCQlpZiAoIWZvdW5kKSBjb25zb2xlLmxvZygnTmV3IHN0YWNrZXhjaGFuZ2UgZG9tYWluOiAnICsgbGlzdFtpXS5ocmVmKTsKCQkJCQllbHNlIGZvdW5kPTA7CgkJCQl9CgkJCX0KCQl9OwoJCXNlbmQoJycpOwoJfQp9Cg=="},{"name":"Highlight linked users in comments on hover","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["http://stackoverflow.com/*","http://meta.stackoverflow.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"ts":1448364812349,"data":{}},"enabled":true,"position":4,"file_url":"https://raw.githubusercontent.com/WiredUK/SO-UserScripts/468443b1a0fa63037fb2a477d42c45f0830048cc/comment-threading.js","uuid":"c6f79fb9-d4aa-4464-afdf-2cef891ec89f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBIaWdobGlnaHQgbGlua2VkIHVzZXJzIGluIGNvbW1lbnRzIG9uIGhvdmVyCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1dpcmVkVUsvU08tVXNlclNjcmlwdHMvbWFzdGVyL2NvbW1lbnQtdGhyZWFkaW5nLmpzCi8vIEB2ZXJzaW9uICAgICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgSGlnaGxpZ2h0IGxpbmtlZCB1c2VycyBpbiBjb21tZW50cyBvbiBob3ZlcgovLyBAYXV0aG9yICAgICAgIFlvdQovLyBAbWF0Y2ggICAgICAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL21ldGEuc3RhY2tvdmVyZmxvdy5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgokKGRvY3VtZW50KS5hamF4Q29tcGxldGUoZnVuY3Rpb24oKSB7CiAgLy9CaW5kIHRvIGNvbW1lbnRzIGFmdGVyIGV2ZXJ5IGFqYXggY2FsbCBhcyBjb21tZW50cyBnZXQgcmVidWlsdCBhbGwgdGhlIHRpbWUKICAgICQoJy5jb21tZW50LWNvcHknKS51bmJpbmQoJ2hvdmVyJyk7CiAgICAkKCcuY29tbWVudC1jb3B5JykuaG92ZXIoZnVuY3Rpb24oKSB7CiAgICAgICAgLy9HZXQgdGhlIGNvbW1lbnQKICAgICAgICB2YXIgdGhpc0NvbW1lbnQgPSAkKHRoaXMpLmh0bWwoKTsKCiAgICAgICAgLy9HZXQgYWxsIG1hdGNoZXMgKGp1c3QgaW4gY2FzZSBTTyBldmVyIGRlY2lkZSB0byBhbGx3byBtb3JlIHRoYW4gb25lIHVzZXIgcGluZyBwZXIgY29tbWVudAogICAgICAgIHZhciByZSA9IC8oPzpefFxXKUAoXHcrKSg/IVx3KS9nLCBtYXRjaCwgbWF0Y2hlcyA9IFtdOwogICAgICAgIHdoaWxlIChtYXRjaCA9IHJlLmV4ZWModGhpc0NvbW1lbnQpKSB7CiAgICAgICAgICAgIG1hdGNoZXMucHVzaChtYXRjaFsxXSk7CiAgICAgICAgfQoKICAgICAgICAvL0dldCBhbGwgY29tbWVudCB1c2VycwogICAgICAgICQoJy5jb21tZW50LXVzZXInKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAvL1JlbW92ZSBtb2QgZGlhbW9uZCBhbmQgc3BhY2VzIC0gaXMgdGhpcyBlbm91Z2ggdG8gbWFrZSBhIG5hbWUgbWF0Y2g/IFByb2JhYmx5IG5vdCBidXQgZ29vZCBlbm91Z2ggZm9yIG5vdwogICAgICAgICAgICB2YXIgdXNlciA9ICQodGhpcyk7CiAgICAgICAgICAgIHZhciB1c2VyTmFtZSA9IHVzZXIudGV4dCgpLnJlcGxhY2UoJ+KZpicsICcnKS5yZXBsYWNlKC9ccy9nLCAnJyk7CiAgICAgICAgICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBjaGVja0NvbW1lbnQoZWxlbWVudCwgdXNlck5hbWUsIHVzZXIpIAogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sIGZ1bmN0aW9uKCkgewogICAgICAgICQoJy5jb21tZW50LXVzZXInKS5wcmV2KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ293bmVyJyk7CiAgICB9KTsKfSk7CiAgICAKZnVuY3Rpb24gY2hlY2tDb21tZW50KHVzZXJuYW1lLCBtYXRjaGVkVXNlcm5hbWUsIHVzZXIpIHsKICAgIGlmKG1hdGNoZWRVc2VybmFtZSA9PSB1c2VybmFtZSkgewogICAgICAgICQodXNlcikucHJldigpLnBhcmVudCgpLmFkZENsYXNzKCdvd25lcicpOwogICAgfQp9"},{"name":"StackExchange obvious followed link color","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?\\:\\/\\/([a-z\\.]*\\.)?stackexchange\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?askubuntu\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?superuser\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?serverfault\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?stackoverflow\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?answers.onstartups\\.com\\/.*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"ts":1448805992770,"data":{}},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/3362-stackexchange-obvious-followed-link-color/code/StackExchange%20obvious%20followed%20link%20color.user.js","uuid":"6ea166e0-79ab-4e14-9f4e-fe17128833fc","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgU3RhY2tFeGNoYW5nZSBvYnZpb3VzIGZvbGxvd2VkIGxpbmsgY29sb3IKLy8gQG5hbWVzcGFjZSBodHRwOi8vb3N0ZXJtaWxsZXIub3JnLwovLyBAdmVyc2lvbiAxLjAwCi8vIEBkZXNjcmlwdGlvbiBDaGFuZ2UgdGhlIGNvbG9yIG9mIGZvbGxvd2VkIGxpbmtzIG9uIGFsbCBTdGFja0V4Y2hhbmdlIHNpdGVzIHNvIHRoZXkgdGhleSBhcmUgZWFzaWx5IGRpc3Rpbmd1aXNoYWJsZS4KLy8gQGluY2x1ZGUgL2h0dHBzP1w6XC9cLyhbYS16XC5dKlwuKT9zdGFja2V4Y2hhbmdlXC5jb21cLy4qLwovLyBAaW5jbHVkZSAvaHR0cHM/XDpcL1wvKFthLXpcLl0qXC4pP2Fza3VidW50dVwuY29tXC8uKi8KLy8gQGluY2x1ZGUgL2h0dHBzP1w6XC9cLyhbYS16XC5dKlwuKT9zdXBlcnVzZXJcLmNvbVwvLiovCi8vIEBpbmNsdWRlIC9odHRwcz9cOlwvXC8oW2EtelwuXSpcLik/c2VydmVyZmF1bHRcLmNvbVwvLiovCi8vIEBpbmNsdWRlIC9odHRwcz9cOlwvXC8oW2EtelwuXSpcLik/c3RhY2tvdmVyZmxvd1wuY29tXC8uKi8KLy8gQGluY2x1ZGUgL2h0dHBzP1w6XC9cLyhbYS16XC5dKlwuKT9hbnN3ZXJzLm9uc3RhcnR1cHNcLmNvbVwvLiovCi8vIEBncmFudCBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKZnVuY3Rpb24gYWRkQ3NzKGNzc1N0cmluZykgewogICAgdmFyIG5ld0NzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICBuZXdDc3MudHlwZSA9ICJ0ZXh0L2NzcyI7CiAgICBuZXdDc3MuaW5uZXJIVE1MID0gY3NzU3RyaW5nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChuZXdDc3MpOwogICAgY29uc29sZS5sb2coImFwcGVuZGVkIGNzcyIpOwp9CgphZGRDc3MgKAogICAgJy5xdWVzdGlvbi1oeXBlcmxpbms6dmlzaXRlZCwgLnJlc3VsdC1saW5rIGE6dmlzaXRlZCB7Y29sb3I6ICMwMDAwOEIgISBpbXBvcnRhbnQ7fScKKTsg"},{"name":"Stack-Exchange-Editor-Toolkit","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/^https?://\\w*.?(stackoverflow|stackexchange|serverfault|superuser|askubuntu|stackapps)\\.com/(questions|posts|review)/(?!tagged|new).*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"ts":1449981782137,"data":{}},"enabled":true,"position":6,"file_url":"https://raw.githubusercontent.com/Tiny-Giant/Stack-Exchange-Editor-Toolkit/19c99c14f47a895a00bb8aa06e8db08a35f449fe/editor.user.js","uuid":"2dd88c52-f3d5-4183-b29e-f2bc03f42111","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIFN0YWNrLUV4Y2hhbmdlLUVkaXRvci1Ub29sa2l0Ci8vIEBhdXRob3IgICAgICAgICBDYW1lcm9uIEJlcm5oYXJkdCAoQXN0cm9DQikKLy8gQGRldmVsb3BlciAgICAgIEpvbmF0aGFuIFRvZGQgKGp0MGRkKQovLyBAZGV2ZWxvcGVyICAgICAgc2F0aHlhYmhhdAovLyBAY29udHJpYnV0b3IgICAgVW5paGVkcm9uCi8vIEBjb250cmlidXRvciAgICBUaW55IEdpYW50Ci8vIEBjb250cmlidXRvciAgICBNb2dzZGFkCi8vIEBncmFudCAgICAgICAgICBub25lCi8vIEBsaWNlbnNlICAgICAgICBNSVQKLy8gQG5hbWVzcGFjZSAgICAgIGh0dHA6Ly9naXRodWIuY29tL0FzdHJvQ0IKLy8gQHZlcnNpb24gICAgICAgIDEuNS4yLjUxCi8vIEBkZXNjcmlwdGlvbiAgICBGaXggY29tbW9uIGdyYW1tYXIvdXNhZ2UgYW5ub3lhbmNlcyBvbiBTdGFjayBFeGNoYW5nZSBwb3N0cyB3aXRoIGEgY2xpY2sKLy8gQGluY2x1ZGUgICAgICAgIC9eaHR0cHM/Oi8vXHcqLj8oc3RhY2tvdmVyZmxvd3xzdGFja2V4Y2hhbmdlfHNlcnZlcmZhdWx0fHN1cGVydXNlcnxhc2t1YnVudHV8c3RhY2thcHBzKVwuY29tLyhxdWVzdGlvbnN8cG9zdHN8cmV2aWV3KS8oPyF0YWdnZWR8bmV3KS4qLwovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIGZ1bmN0aW9uIGV4dGVuZEVkaXRvcihyb290KSB7CiAgICAgICAgdmFyIEFwcCA9IHt9OwoKICAgICAgICAvLyBQbGFjZSBlZGl0IGl0ZW1zIGhlcmUKICAgICAgICBBcHAuaXRlbXMgPSB7fTsKICAgICAgICBBcHAub3JpZ2luYWxzID0ge307CgogICAgICAgIC8vIFBsYWNlIHNlbGVjdGVkIGpRdWVyeSBpdGVtcyBoZXJlCiAgICAgICAgQXBwLnNlbGVjdGlvbnMgPSB7fTsKCiAgICAgICAgLy8gUGxhY2UgImdsb2JhbCIgYXBwIGRhdGEgaGVyZQogICAgICAgIEFwcC5nbG9iYWxzID0ge307CgogICAgICAgIC8vIFBsYWNlICJjb25zdCIgYXBwIGRhdGEgaGVyZQogICAgICAgIEFwcC5jb25zdHMgPSB7fTsKCiAgICAgICAgLy8gUGxhY2UgImhlbHBlciIgZnVuY3Rpb25zIGhlcmUKICAgICAgICBBcHAuZnVuY3MgPSB7fTsKCiAgICAgICAgLy8gVHJ1ZSB0byBkaXNwbGF5IGNvdW50cyBhbmQgLyBvciBydWxlIG5hbWVzIGluIEVkaXQgU3VtbWFyeQogICAgICAgIEFwcC5nbG9iYWxzLnNob3dDb3VudHMgPSBmYWxzZTsKICAgICAgICBBcHAuZ2xvYmFscy5zaG93UnVsZXMgPSBmYWxzZTsKCiAgICAgICAgQXBwLmdsb2JhbHMucm9vdCA9IHJvb3Q7CgogICAgICAgIEFwcC5nbG9iYWxzLnJlYXNvbnMgPSB7fTsKCiAgICAgICAgQXBwLmdsb2JhbHMucmVwbGFjZWRTdHJpbmdzID0gewogICAgICAgICAgICAiYXV0byI6ICAgW10sCiAgICAgICAgICAgICJxdW90ZSI6ICBbXSwKICAgICAgICAgICAgImlubGluZSI6IFtdLAogICAgICAgICAgICAiYmxvY2siOiAgW10sCiAgICAgICAgICAgICJsc2VjIjogICBbXSwKICAgICAgICAgICAgImxpbmtzIjogIFtdLAogICAgICAgICAgICAidGFncyI6ICAgW10KICAgICAgICB9OwogICAgICAgIEFwcC5nbG9iYWxzLnBsYWNlSG9sZGVycyA9IHsKICAgICAgICAgICAgImF1dG8iOiAgICJfeEF1dG94SW5zZXJ0eFRleHR4UGxhY2V4SG9sZGVyXyIsCiAgICAgICAgICAgICJxdW90ZSI6ICAiX3hCbG9ja3hRdW90ZXhQbGFjZXhIb2xkZXJ4XyIsCiAgICAgICAgICAgICJpbmxpbmUiOiAiX3hDb2RleElubGluZXhQbGFjZXhIb2xkZXJ4XyIsCiAgICAgICAgICAgICJibG9jayI6ICAiX3hDb2RleEJsb2NreFBsYWNleEhvbGRlcnhfIiwKICAgICAgICAgICAgImxzZWMiOiAgICJfeExpbmt4U2VjdGlvbnhQbGFjZXhIb2xkZXJ4XyIsCiAgICAgICAgICAgICJsaW5rcyI6ICAiX3hMaW5reFBsYWNleEhvbGRlcnhfIiwKICAgICAgICAgICAgInRhZ3MiOiAgICJfeFRhZ3hQbGFjZXhIb2xkZXJ4XyIKICAgICAgICB9OwogICAgICAgIEFwcC5nbG9iYWxzLnBsYWNlSG9sZGVyQ2hlY2tzID0gewogICAgICAgICAgICAiYXV0byI6ICAgL194QXV0b3hJbnNlcnR4VGV4dHhQbGFjZXhIb2xkZXJfL2dpLAogICAgICAgICAgICAicXVvdGUiOiAgL194QmxvY2t4UXVvdGV4UGxhY2V4SG9sZGVyeF8vZ2ksCiAgICAgICAgICAgICJpbmxpbmUiOiAvX3hDb2RleElubGluZXhQbGFjZXhIb2xkZXJ4Xy9naSwKICAgICAgICAgICAgImJsb2NrIjogIC9feENvZGV4QmxvY2t4UGxhY2V4SG9sZGVyeF8vZ2ksCiAgICAgICAgICAgICJsc2VjIjogICAvX3hMaW5reFNlY3Rpb254UGxhY2V4SG9sZGVyeF8vZ2ksCiAgICAgICAgICAgICJsaW5rcyI6ICAvX3hMaW5reFBsYWNleEhvbGRlcnhfL2dpLAogICAgICAgICAgICAidGFncyI6ICAgL194VGFneFBsYWNleEhvbGRlcnhfL2dpCiAgICAgICAgfTsKICAgICAgICBBcHAuZ2xvYmFscy5jaGVja3MgPSB7CiAgICAgICAgICAgIC8vICAgICAgICBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2NJNm9LMi8xIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgdGV4dAogICAgICAgICAgICAiYXV0byI6ICAgL1teXSpcPFwhXC1cLSBFbmQgb2YgYXV0b21hdGljYWxseSBpbnNlcnRlZCB0ZXh0IFwtXC1cPi9nLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9mVTVsRTYvMSBibG9ja3F1b3RlcwogICAgICAgICAgICAicXVvdGUiOiAgL15cPig/Oig/IVxuXG4pW15dKSsvZ20sCiAgICAgICAgICAgIC8vICAgICAgICBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2xMNmZIMy8xIHNpbmdsZS1saW5lIGlubGluZSBjb2RlCiAgICAgICAgICAgICJpbmxpbmUiOiAvYFteYFxuXStgL2csCiAgICAgICAgICAgIC8vICAgICAgICBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2VDN21GNy8xIGNvZGUgYmxvY2tzIGFuZCBtdWx0aWxpbmUgaW5saW5lIGNvZGUuCiAgICAgICAgICAgICJibG9jayI6ICAvYFteYF0rYHwoPzooPzpbIF17NH18WyBdezAsM31cdCkuKyg/OltcclxuXT8oPyFcblxTKSg/OlsgXStcbikqKSspKy9nLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci90WjRlWTMvNyBsaW5rLXNlY3Rpb25zIAogICAgICAgICAgICAibHNlYyI6ICAgLyg/OiAgKD86XFtcZFxdKTogXHcqOitcL1wvLipcbiopKy9nLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci90WjRlWTMvMjAgbGlua3MgYW5kIHBhdGhuYW1lcwogICAgICAgICAgICAibGlua3MiOiAgL1xbW15cXVxuXStcXSg/OlwoW15cKVxuXStcKXxcW1teXF1cbl0rXF0pfCg/OlwvXHcrXC98LjpcXHxcdyo6XC9cL3xcLitcL1suL1x3XGRdK3woPzpcdytcLlx3Kyl7Mix9KVsuL1x3XGQ6Lz8jXFtcXUAhJCYnKCkqKyw7PVwtfiVdKi9nLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9iRjBpUTAvMSAgIHRhZ3MgYW5kIGh0bWwgY29tbWVudHMgCiAgICAgICAgICAgICJ0YWdzIjogICAvXDxbXC9hLXpdK1w+fFw8XCFcLVwtW14+XStcLVwtXD4vZwogICAgICAgIH07CiAgICAgICAgQXBwLmdsb2JhbHMuY2hlY2tzciA9IChmdW5jdGlvbihvMSl7CiAgICAgICAgICAgIHZhciBvMiA9IHt9OwogICAgICAgICAgICB2YXIgaz0gT2JqZWN0LmtleXMobzEpOwogICAgICAgICAgICBmb3IodmFyIGkgPSBrLmxlbmd0aC0xOyBpID49IDA7IC0taSkgbzJba1tpXV0gPSBvMVtrW2ldXTsKICAgICAgICAgICAgcmV0dXJuIG8yOwogICAgICAgIH0pKEFwcC5nbG9iYWxzLmNoZWNrcyk7CgogICAgICAgIC8vIEFzc2lnbiBtb2R1bGVzIGhlcmUKICAgICAgICBBcHAucGlwZU1vZHMgPSB7fTsKCiAgICAgICAgLy8gRGVmaW5lIG9yZGVyIGluIHdoaWNoIG1vZHMgYWZmZWN0ICBoZXJlCiAgICAgICAgQXBwLmdsb2JhbHMub3JkZXIgPSBbIm9taXQiLCAiY29kZWZpeCIsICJlZGl0IiwgImRpZmYiLCAicmVwbGFjZSIsICJvdXRwdXQiXTsKICAgICAgICAKICAgICAgICAvLyBEZWZpbmUgcmVhc29uIGNvbnN0YW50IHN0cmluZ3MKICAgICAgICBBcHAuY29uc3RzLnJlYXNvbnMgPSB7CiAgICAgICAgICAgIGxlZ2FsU086ICAgICAgICInU3RhY2sgT3ZlcmZsb3cnIGlzIHRoZSBsZWdhbCBuYW1lIiwKICAgICAgICAgICAgbGVnYWxTRTogICAgICAgIidTdGFjayBFeGNoYW5nZScgaXMgdGhlIGxlZ2FsIG5hbWUiLAogICAgICAgICAgICBhbGxDYXBzOiAgICAgICAnbm8gbmVlZCB0byB5ZWxsJywKICAgICAgICAgICAgdHJhZGVtYXJrOiAgICAgInRyYWRlbWFyayBjYXBpdGFsaXphdGlvbiIsCiAgICAgICAgICAgIGFjcm9ueW06ICAgICAgICJhY3JvbnltIGNhcGl0YWxpemF0aW9uIiwKICAgICAgICAgICAgc3BlbGxpbmc6ICAgICAgInNwZWxsaW5nIiwKICAgICAgICAgICAgZ3JhbW1hcjogICAgICAgImdyYW1tYXIiLAogICAgICAgICAgICBub2lzZTogICAgICAgICAibm9pc2UgcmVkdWN0aW9uIiwKICAgICAgICAgICAgcHVuY3R1YXRpb246ICAgInB1bmN0dWF0aW9uIiwKICAgICAgICAgICAgc3BhY2luZzogICAgICAgInNwYWNpbmciLAogICAgICAgICAgICBzaWxlbnQ6ICAgICAgICAiIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVbnJlcG9ydGVkIC8gdW5jb3VudGVkCiAgICAgICAgICAgIHRpdGxlU2F5c0FsbDogICJyZXBsaWNhdGVkIHRpdGxlIGluIGJvZHkiCiAgICAgICAgfTsKCiAgICAgICAgLy8gRGVmaW5lIGVkaXQgcnVsZXMKICAgICAgICBBcHAuZWRpdHMgPSB7CiAgICAgICAgICAgIC8vIEFsbCBjYXBzCiAgICAgICAgICAgIG5vbmVlZHRveWVsbDogewogICAgICAgICAgICAgICAgZXhwcjogL14oKD89LipbQS1aXSlbXmEtel0qKSQvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbihpbnB1dCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dC50cmltKCkuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBpbnB1dC50cmltKCkuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWxsQ2FwcwogICAgICAgICAgICB9LAogICAgICAgICAgICBzbzogewogICAgICAgICAgICAgICAgZXhwcjogL1xic3RhY2tccypvdmVyZmxvd1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJTdGFjayBPdmVyZmxvdyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5sZWdhbFNPCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJzdGFja1xzKmV4Y2hhbmdlXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlN0YWNrIEV4Y2hhbmdlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmxlZ2FsU0UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXhwYW5zaW9uU086IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XilTT1xiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxU3RhY2sgT3ZlcmZsb3ciLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubGVnYWxTTwogICAgICAgICAgICB9LAogICAgICAgICAgICBleHBhbnNpb25TRTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKVNFXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFTdGFjayBFeGNoYW5nZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5sZWdhbFNFCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICoqIFRyYWRlbWFyayBuYW1lcwogICAgICAgICAgICAqKi8KICAgICAgICAgICAganNmaWRkbGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmpzID9maWRkbGVcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSlNGaWRkbGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1ldGVvcjogeyAgLy8gbXVzdCBhcHBlYXIgYmVmb3JlICJqYXZhc2NyaXB0IgogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKW1ldGVvciAqKGpzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAoc3RyLHByZSx1cHBlcmNhc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWQgPSBwcmUgKyAiTWV0ZW9yIiArICh1cHBlcmNhc2UgPyB1cHBlcmNhc2UudG9VcHBlckNhc2UoKSA6ICcnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZml4ZWQ7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGtub2Nrb3V0X2pzOiB7ICAvLyBtdXN0IGFwcGVhciBiZWZvcmUgImphdmFzY3JpcHQiCiAgICAgICAgICAgICAgICBleHByOiAvXGJrbm9ja291dFsuIF0/anNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiS25vY2tvdXQuanMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGphdmFzY3JpcHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XikoamF2YT9zY3I/aXB0P3xqc3xqYXZhIHNjcmlwdD8pXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxSmF2YVNjcmlwdCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAganF1ZXJ5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJqcXVlP3JyP3lcYi9naSwgIC8vIGpxdXJ5LCBqcXVlcnJ5LCBqcXVycnkuLi4gfjYwMCBzcGVsbGluZyBtaXN0YWtlcwogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJqUXVlcnkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFuZ3VsYXI6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmFuZ3VsYXIoPzpqcyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkFuZ3VsYXJKUyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGhwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilwaHBbXGRdP1xiKD8hXC5pbmkpL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBjOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XiljXGIoPzojfFwrXCspPy9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgamF2YTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWphdmFcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFKYXZhIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBzcWxpdGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnNxbGl0ZShccypbMC05XSopXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlNRTGl0ZSQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBhbmRyb2lkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJhbmRyb2lkXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkFuZHJvaWQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9yYWNsZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xib3JhY2xlXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk9yYWNsZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd2luZG93czogewogICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9qRjl6SzEvOAogICAgICAgICAgICAgICAgZXhwcjogL1xiKD86d2luKD89KD86XHMrKD86Mmt8WzAtOS5dK3xjZXxtZXxudHx4cHx2aXN0YXxzZXJ2ZXIpKSl8d2luZG93cykoPzpccysoMmt8WzAtOS5dK3xjZXxtZXxudHx4cHx2aXN0YXxzZXJ2ZXIpKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbihtYXRjaCwgdmVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmVyID0gIXZlciA/ICcnIDogJyAnK3ZlcgogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9jZS9pLCAnQ0UnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9tZS9pLCAnTUUnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9udC9pLCAnTlQnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC94cC9pLCAnWFAnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8yay9pLCAnMjAwMCcpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL3Zpc3RhL2ksICdWaXN0YScpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL3NlcnZlci9pLCAnU2VydmVyJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdXaW5kb3dzJyArIHZlcjsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGludXg6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmxpbnV4XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkxpbnV4IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICB3b3JkcHJlc3M6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYndvcmQgP3ByZXNzXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIldvcmRQcmVzcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbXlzcWw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYm15c3FsXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk15U1FMIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBub2RlanM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYm5vZGVcLj9qc1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJOb2RlLmpzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBhcGFjaGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmFwYWNoZShbXGRdKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiQXBhY2hlJDEiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdpdDogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWdpdFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMUdpdCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2l0aHViOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJnaXRodWJcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiR2l0SHViIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBmYWNlYm9vazogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZmFjZWJvb2tcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiRmFjZWJvb2siLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHB5dGhvbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xicHl0aG9uXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlB5dGhvbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW9zOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJpb3NcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiaU9TIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBpb3NudW06IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmlvcyhbMC05XSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiaU9TICQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICB1YnVudHU6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Ivc1Q4d1Y1LzIKICAgICAgICAgICAgICAgIGV4cHI6IC9cYlt1b2FdK24/Ylt1b2FdKlt0bl1bb3VhXSpbdG51XVtvdWFdKlxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJVYnVudHUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHZibmV0OiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2JCOXBQMy84CiAgICAgICAgICAgICAgICBleHByOiAvKD86dmJcLm5ldHxcYnZifCg/OlteXGJcdy5dfF4pXC5uZXQpXGIoPzpccypbMC05XSspP1xzKig/OmZyYW1ld29ya3xjb3JlKT8vZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW14uXSl2Yi9pLCAnJDFWQicpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbXi5dKWFzcC9pLCAnJDFBU1AnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9uZXQvaSwgJ05FVCcpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL2ZyYW1ld29yay9pLCAnRnJhbWV3b3JrJykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvY29yZS9pLCAnQ29yZScpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICB2YmFfcmVsYXRlZDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pKD86dmJhfHZic3x2YmN8ZXZifHZib3x2YnB8dmJpZGUpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHZic2NyaXB0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJ2YnNjcmlwdC9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiVkJTY3JpcHQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlZ2V4OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJyZWdnP1tlYV0/eChwKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiUmVnRXgkMSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9zdGdyZXNxbDogewogICAgICAgICAgICAgICAgZXhwcjogL1xicG9zdD9ncmVzKihxP2x8cyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlBvc3RncmVTUUwiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBheXBhbDogewogICAgICAgICAgICAgICAgZXhwcjogL1xicGF5cGFsXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlBheVBhbCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9tY2F0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJ0b21jYXQoWzAtOS5dKikvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlRvbWNhdCQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBuZXRiZWFuczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKD86bmV0YmVhbj98bmV0LWJlYW58bmV0IGJlYW58bmV0YmVlbilzP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJOZXRCZWFucyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbmdpbng6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYm5naW54XGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmlyZWZveDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZmlyZT9mb3hcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiRmlyZWZveCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2FmYXJpOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJzYWZhcmlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiU2FmYXJpIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBjaHJvbWU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmNocm9tZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJDaHJvbWUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdudTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZ251XGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2NjOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilnY2NcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBtYXZlbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xibWF2ZW5cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiTWF2ZW4iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHlvdXR1YmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnlvdXR1YmVcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiWW91VHViZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYW1hem9uOiB7CiAgICAgICAgICAgICAgICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2RSMHBKNy8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYW1hem9uKD86ICk/KD86cmVkc2hpZnR8d2ViIHNlcnZpY2VzfGNsb3VkZnJvbnR8Y29uc29sZSk/KSgoPzogKT8oPzplYzJ8YXdzfHMzfHJkc3xzcXN8aWFtfGVsYnxlbXJ8dnBjKSk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyLHRpdGxlY2FzZSx1cHBlcmNhc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWQgPSB0aXRsZWNhc2UudG9UaXRsZUNhc2UoKSArICh1cHBlcmNhc2UgPyB1cHBlcmNhc2UudG9VcHBlckNhc2UoKSA6ICcnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZml4ZWQ7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHplbmQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnplbmQoKD86ICk/KD86ZnJhbWV3b3JrfHN0dWRpb3xndWFyZCkpP1xiL2dpLAogICAgICAgICAgICAgICAgLy9yZXBsYWNlbWVudDogU3RyaW5nLnRvVGl0bGVDYXNlLCAgLy8gRG9lc24ndCB3b3JrIGxpa2UgYnVpbHQtaW4gdG9VcHBlckNhc2UsIHJldHVybnMgJ3VuZGVmaW5lZCcuIExvYWQgb3JkZXI/CiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyLHByb2QpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnRvVGl0bGVDYXNlKCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHdpdHRlcjogewogICAgICAgICAgICAgICAgZXhwcjogL1xidHdpdHRlclxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJUd2l0dGVyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBib290c3RyYXA6IHsgICAgIC8vICJib290c3RyYXAiIGlzIGFsc28gYSBnZW5lcmFsIGNvbXB1dGluZyB0ZXJtLCBzbyBleHBlY3Qgc29tZSBmYWxzZSBwb3NpdGl2ZXMKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmJvb3RzdD9yP2FwXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkJvb3RzdHJhcCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBwbGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmFwcGxlXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiQXBwbGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlwaG9uZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiaXBoP29uZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiaVBob25lIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBnb29nbGVfdmVyYmVkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJnb29nbCg/OmVkfGluZ3xlcilcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbihzdHIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnRvVGl0bGVDYXNlKCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdvb2dsZTogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2lTNWZPMS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGJnb29nbGVcYlsgXHRdKig/Om1hcHM/fHNoZWV0cz98ZG9jcz98ZHJpdmV8c2l0ZXM/fGZvcm1zP3xkb2N1bWVudHM/fHNwcmVhZHNoZWV0cz98aW1hZ2VzP3xwcmVzZW50YXRpb25zPyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci50b1RpdGxlQ2FzZSgpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBnb29nbGVfYXBwc19zY3JpcHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmdvb2dsZVstIF0/KD86YXBwcz8pP1stIF0/c2NyaXB0KD86aW5nfHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJHb29nbGUgQXBwcyBTY3JpcHQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJsdWV0b290aDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiYmwoPzp1ZXxvbyl0b28/dGg/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkJsdWV0b290aCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGVub3ZvOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJsZW5vP3ZvXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkxlbm92byIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWF0bGFiOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pbWF0aD9sYWJcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFNQVRMQUIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGludGVybmV0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJpbnRlcm5ldFxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkludGVybmV0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBvYXV0aDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9zQTJjUTUvMQogICAgICAgICAgICAgICAgZXhwcjogL1xib2F1dGgoPzooPzogKSooXGQpKD8hXC5cZCl8KD86ICkqKFtcZC5dKykpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJPQXV0aCQxICQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICB3ZWJfc2VydmljZXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYndlYiBzZXJ2aWNlc1xiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIldlYiBzZXJ2aWNlcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlbmN2OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJvcGVuY3ZcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiT3BlbkNWIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBydWJ5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJydWJ5XGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiUnVieSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmFpbHM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnJhaWxzXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiUmFpbHMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdyYWlsczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZ3JhaWxzXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiR3JhaWxzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWJ2ZXJzaW9uOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJzdWJ2ZXJzW2lvXSpuXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiU3VidmVyc2lvbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgamF2YWZ4OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJqYXZhZnhcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSmF2YUZYIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBkZWxwaGk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmRlbHBoaVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJEZWxwaGkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvdG5ldG51a2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmRvdG5ldG51a2VcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiRG90TmV0TnVrZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2lsdmVybGlnaHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnNpbHZlcmwoPzppZ2h0fGl0ZSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiU2lsdmVybGlnaHQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNjaXB5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pc2NpcHlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFTY2lQeSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbnVtcHk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XiludW1weVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMU51bVB5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBvcGVuc3NsOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pb3BlbnNzbFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMU9wZW5TU0wiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRydXBhbDogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWRydXBhbFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMURydXBhbCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2FhczogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKXNhYXNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFTYWFTIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBnd3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xilnd3RbLSBdKG1vc2FpY3xkZXNpZ25lcilcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAoc3RyLHByZSx0aXRsZWNhc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWQgPSBwcmUgKyAiR1dUIiArICh0aXRsZWNhc2U/ICcgJyt0aXRsZWNhc2UudG9UaXRsZUNhc2UoKSA6ICcnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZml4ZWQ7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdtYWlsOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pZ21haWwocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxR21haWwkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgeGFtcHA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xil4YW0rcCtcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFYQU1QUCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2FsYXh5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pZ2FsYXh5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxR2FsYXh5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBtb25nbzogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKW1vbmdvKD86XHM/KGRiKSk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyLHByZSx1cHBlcmNhc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWQgPSBwcmUgKyAiTW9uZ28iICsgKHVwcGVyY2FzZSA/IHVwcGVyY2FzZS50b1VwcGVyQ2FzZSgpIDogJycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmaXhlZDsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHltb25nbzogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKXB5bW9uZ29cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFQeU1vbmdvIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBzY2FsYTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKXNjYWxhXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxU2NhbGEiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1pY3Jvc29mdDogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2RKNXRFMy8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoW21NXWljcm9zb2Z0P3xbbU1daXJjb3NvZnR8TVtTc11vZnQpXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiTWljcm9zb2Z0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBpbnRlbGxpc2Vuc2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmludGVsbD9pc2VuW3NjXWU/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkludGVsbGlTZW5zZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2FzczogeyAgLy8gU3ludGFjdGljYWxseSBBd2Vzb21lIFN0eWxlIFNoZWV0cwogICAgICAgICAgICAgICAgZXhwcjogL1xic2Fzc1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJTYXNzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBoZXJva3U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmhlcm9rdVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJIZXJva3UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9zX3g6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYm9zID94XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk9TIFgiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVsX2NhcGl0YW46IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmVsID9jYXBpP3RhblxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJFbCBDYXBpdGFuIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBoYWRvb3A6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmhhZG9vcFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJIYWRvb3AiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICoqIEFjcm9ueW1zIC0gdG8gYmUgY2FwaXRhbGl6ZWQgKGV4Y2VwdCBzb21ldGltZXMgd2hlbiBwYXJ0IG9mIGEgZmlsZSBuYW1lKQogICAgICAgICAgICAqKi8KICAgICAgICAgICAgeF9odG1sOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XikoOj9nfGh0fHh8eGh0fHNmfGNzaHQpbWxbXGQuXSpcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNzczogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pcz9jc3NcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGpzb246IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKWpzb25cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFqYXg6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmFqYXhcYi9nLCAgICAgLy8gTGVhdmUgIkFqYXgiIGFsb25lLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0FzdHJvQ0IvU3RhY2stRXhjaGFuZ2UtRWRpdG9yLVRvb2xraXQvaXNzdWVzLzQ1CiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkFKQVgiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBzcWw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKXNxbFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXJsaTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHVyW2xpXSkocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24obWF0Y2gsdXBwZXIsbG93ZXIpIHsgcmV0dXJuIHVwcGVyLnRvVXBwZXJDYXNlKCkgKyAobG93ZXI/bG93ZXIudG9Mb3dlckNhc2UoKTonJyk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFzcDogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWFzcFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGRmOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pcGRmKHMpPy9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFQREYkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFwaTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWFwaShzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFBUEkkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNzbDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pc3NsXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5wbTogewogICAgICAgICAgICAgICAgZXhwcjogL1xibnBtKHMpP1xiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk5QTSQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnRwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18Xilbc3RdP2Z0cHM/XGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlwYTogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4paXBhXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGF2bDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pYXZsXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsaV9jZ2k6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKWNbbGddaVxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBkbGw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKWRsbFxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBtcDNfbXA0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pbXAoM3w0KShzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFNUCQyJDMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBndWk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XilndWkocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxR1VJJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKXN0cFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGNwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18Xil0Y3BcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdwZjogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pd3BmXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBodHRwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilodHRwcz9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdvZmY6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKXdvZmZcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHR0ZjogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pdHRmXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBpcHZfbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiaXAodls0Nl0pP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJJUCQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnFfZG5fczogeyAgLy8gRlFETiwgRE4sIEROUwogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pKD86ZnEpP2Rucz9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGljbXA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmljbXBcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJzdnA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnJzdnBcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNubXA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnNubXBcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNwdTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiY3B1KHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJDUFUkMSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJzczogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pcnNzP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgbXZjOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XiltdmNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG12bjogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pbXZuXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBhc2NpaTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWFzY2M/aWk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxQVNDSUkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBnc29hcDogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWdzb2FwXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZ1NPQVAiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBzb2FwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pc29hcFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgY3N2OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pY3N2XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBpbWFnZV90eXBlczogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKShnaWZ8anBlP2d8Ym1wfHBuZylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHlhbWw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xil5YW1sXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBzbXRwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJzbXRwXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBwaHBteWFkbWluOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pcGhwbXlhZG1pblxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXBocE15QWRtaW4iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBwaHB1bml0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pcGhwdW5pdFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMVBIUFVuaXQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBta2w6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xilta2xcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHhzbDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4peHNsdD8oPyE6KVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAganBhOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilqcGFcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGp2bTogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4panZtXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBsaW5xOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilsaW5xXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBtZDU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKW1kNVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgeGZhOiB7ICAvLyBYTUwgRm9ybXMgQXJjaGl0ZWN0dXJlCiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18Xil4ZmFcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICoqIFNwZWxsaW5nIC0gQ29ycmVjdCBjb21tb24gc3BlbGxpbmcgZXJyb3JzLiAoSW5jbHVkaW5nIGFwb3N0cm9waGVzLCB3aGljaCBhcmUgcmVhbGx5IGdyYW1tYXIuKQogICAgICAgICAgICAqKiBBY2tub3dsZWRnZW1lbnQ6IEEgc3Vic2V0IG9mIHRlcm1zIHdlcmUgYWRhcHRlZCBmcm9tIFBldGVyIE1vcnRlbnNlbidzIGxpc3QKICAgICAgICAgICAgKiogKGh0dHA6Ly9wdm0tcHJvZmVzc2lvbmFsZW5naW5lZXJpbmcuYmxvZ3Nwb3QuZGUvMjAxMS8wNC93b3JkLWxpc3QtZm9yLWVkaXRpbmctc3RhY2stZXhjaGFuZ2UuaHRtbCkKICAgICAgICAgICAgKiovCiAgICAgICAgICAgIHZvdGluZzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGRvd258dXApXFd2b3QvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdm90ZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWNjZWVkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocyl1Y1tjc10/ZWU/ZChlZHxzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF1Y2NlZWQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzb3VyY2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKW9yY2Uoc3xkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvdXJjZSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0YW5kYXJkaXplOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3ZON3BNMC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIocyl0YW5kYXJpKFtzel0oPzplfGVzfGVkfGF0aW9uKSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF0YW5kYXJkaSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRpZmZlcmVudDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci94TzhqVTIvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpaWZmP2U/cmU/bih0fGNlcz8pXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaWZmZXJlbiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBlcnNvbmFsbHk6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9vTDlhTTEvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApZXJzbyg/Om5sfG5sfG5hbCkobHkpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVyc29uYWwkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9ibGVtOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IveUE4ak03LzYKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKSg/Om9yP3xyb3xyzr98cjApYig/OmxlfGVsfGV8cmV8bHxbfF1lKW1lPyhzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyb2JsZW0kMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3cml0dGVuOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodylyaXRlblxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJpdHRlbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBtYXliZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKG0pKD86YWJ5fHlhYmUpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYXliZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwc2V1ZG86IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXN1ZWRvXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxc2V1ZG8iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBwbGljYXRpb246IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKXBwP2xbaWFdY2EoPzp0aXxpdClvblxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXBwbGljYXRpb24iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2FsZW5kYXI6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjKWFsW2VhXW5kW2FlXXJcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFhbGVuZGFyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbW1pdDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9rWTZzTjgvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb21tP2l0PyhzfHRlZHx0ZXJzP3x0aW5nKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbW1pdCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3JaOWdXNS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSl1dG8/WyAtXT9jbz9tP3A/bD9ldGU/KHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXV0b2NvbXBsZXRlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZG9lc25fdDogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3NMMHVPOS8zCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZCkoPzpvc2U/W15cd10/bj8uP3R8b2Vucy4/dHxvZXNuW15cd110fG9lc3QpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb2Vzbid0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvdWxkbl90X3dvdWxkbl90X3Nob3VsZG5fdDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGN8d3xzaClvP3VsP2RuWyAnYMK0XT90XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb3VsZG4ndCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBkaWRuX3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihkKWlkW15cd11uP3RcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpZG4ndCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBkb25fdDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpKD86b25bXlx3XW5vP3R8b250PylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbid0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhhdmVuX3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihoKSg/OmF2ZW50fGF2W15cd110fGF2ZVteXHdddClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFhdmVuJ3QiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBvc3Ryb3BoZV9kOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoaGV8c2hlfHdob3x5b3UpW15cd10qKGQpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxJyQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFwb3N0cm9waGVfbGw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih0aGV5fHdoYXR8d2hvfHlvdSlbXlx3XSoobGwpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxJyQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFwb3N0cm9waGVfcmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih0aGV5fHdoYXR8eW91KVteXHddKihyZSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEnJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBvc3Ryb3BoZV9zOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvYk41cEEzLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihoZXxzaGV8dGhhdHx0aGVyZXx3aGF0fHdoZXJlfGhlcmUpW15cd10qKHMpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxJyQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGl0X3M6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihpdClbXlx3XShzKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSckMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcG9zdHJvcGhlX3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhcmVufGNhbnxjb3VsZG58ZGlkbnxkb2Vzbnxkb258aGFzbnxoYXZlbnxpc258bWlnaHRufG11c3RufHNoYW58c2hvdWxkbnx3b258d291bGRuKVteXHddKih0KSg/OlteXHdddCkqXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxJyQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFwb3N0cm9waGVfbnQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9bJ2DCtF1udFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJuJ3QiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZG9lc25fdF93b3JrOiB7ICAvLyA+NEsgaW5zdGFuY2VzIG9mIHRoaXMgKE9jdCAyMDE1KQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpb2VzblteXHdddCAod29ya3xsaWtlfHRoaW5rfHdhbnR8cHV0fHNhdmV8bG9hZHxnZXR8aGVscHxtYWtlKXNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvZXNuJ3QgJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvYmFibHk6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvelUzcVowLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXIoPzpvbGw/fG9iYj9sfG8/YmFibD98YWJhYmwpeVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJvYmFibHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAga2V5Ym9hcmQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihrKWV5P2JvYT9yZFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWV5Ym9hcmQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXI6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnVyXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogInlvdXIiLCAvLyBNYXkgYWxzbyBiZSAieW91IGFyZSIsIGJ1dCBsZXNzIGNvbW1vbiBvbiBTTwogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdTogewogICAgICAgICAgICAgICAgZXhwcjogL1xidVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJ5b3UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ3I4OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJncjhcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiZ3JlYXQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY3V6OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJjdXpcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiYmVjYXVzZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBvZmM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihvKWZjXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZiBjb3Vyc2UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbnZtOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIobil2bVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWV2ZXIgbWluZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBidHc6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKXR3XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxeSB0aGUgd2F5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNyeTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpbz9yK3lcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvcnJ5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFsbHdheXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKWxsd2F5c1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWx3YXlzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGV4cGVjdDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGUpc3BlY3Qocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxeHBlY3QkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBlbXBsb3llZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGUpbXBsb3llXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbXBsb3llZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICByZXRyaWV2ZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHIpZXRyZWl2ZShkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFldHJpZXZlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3VjY2VzczogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2hLMnZHNC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIocyl1Y2M/ZXNzPyhmdWx8ZnVsbHkpP2w/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdWNjZXNzJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYW55b25lczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpbnlvbmVzXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbnlvbmUncyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBsZW5ndGg6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihsKWVuKD86Z2g/dHx0aClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlbmd0aCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBoZWlnaHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihoKSg/OmVpfGl8aWUpKD86Z3R8dGh8Z2h0aHxndGgpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWlnaHQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd2lkdGg6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih3KWl0P2RoP3RcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpZHRoIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNlbnRlcmVkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYyllbnQoPzpyZWR8ZXJkKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVudGVyZWQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2VudGVyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYyllbnRyZVxiL2dpLCAgICAvLyAiQ2VudHJlIiBpcyBhIHdvcmQsIGhvd2V2ZXIgaW4gbW9zdCBjYXNlcyBvbiBTTyAiY2VudGVyIiBpcyBtZWFudAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVudGVyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFpbnRfaXNudDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiYWluJz90XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogImlzbid0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYylvcmRpbmF0ZShzfGQpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9vcmRpbmF0ZSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZ3VtZW50OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlyZ3VlbWVudChzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyZ3VtZW50JDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXRlcmF0ZTogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2lMNmJWMy8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoaSkoPzp0dGVyfHRhcilhdChlW2RzXT98aW5nfGlvbnxpb25zKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXRlcmF0JDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmVsb3c6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKWVsbG93XGIvZ2ksICAgICAgICAgIC8vICJCZWxsb3ciIGlzIGEgd29yZCwgYnV0IGV4dHJlbWVseSB1bmNvbW1vbiBvbiBTdGFja092ZXJmbG93LmNvbS4KICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlbG93IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVuY3J5cHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihlbnxkZSljcmlwdChzfGluZyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxY3J5cHQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBmb3JtYXR0aW5nOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZilvcm1hdGluZ1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9ybWF0dGluZyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9jZXNzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocClyb2Nlcyhlc3xlZCk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcm9jZXNzJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvZ3JhbTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApcm9ncj9hbW0/ZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyb2dyYW0iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvZ3JhbW1pbmc6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXJvZ3JhbShpbmd8ZWR8ZXIpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcm9ncmFtbSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJlYXJfd2l0aF9tZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpYXJlICh3aXRoIG1lfGl0fGluIG1pbmQpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWFyICQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdlaXJkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodylpZXJkKG5lc3N8bHkpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWlyZCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJlbGlldmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKWVsZWl2ZShyfHN8ZCk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWxpZXZlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGllY2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKWVpY2Uoc3xkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpZWNlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2FtcGxlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocyltYXBsZShzfGQpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWFtcGxlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVhbGx5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocillYT9sbD95XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWFsbHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmluYWxseV86IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihmKWluYWxsP3lcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpbmFsbHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmVoYXZpb3VyOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvclUxZUI3LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKWVoYT9pP3ZpP28ocnx1cnxyc3x1cnMpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWhhdmlvJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdW5mb3J0dW5hdGVseTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHUpbmZvcnR1P25hP3RseVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW5mb3J0dW5hdGVseSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3aGV0aGVyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodyloP2V0aD9lclxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWhldGhlciIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB0aHJvdWdoOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2dRMGRaMS80CiAgICAgICAgICAgICAgICBleHByOiAvXGIodCkoPzpocnV8cm91Z2h8aHJvdWcpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaHJvdWdoIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRocm91Z2hvdXQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih0KSg/OmhydW91dHxyb3VnaG91dClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFocm91Z2hvdXQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYnJlYWt0aHJvdWdoOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYilyZWFrXHMrdGhyb3VnaChzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyZWFrdGhyb3VnaCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRob3VnaDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHQpKD86aG98aG91fGhvZ2gpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaG91Z2giLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWx0aG91Z2g6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKWwoPzp0aG98dGhvdXx0aG9naHx0b3VnaClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFsdGhvdWdoIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRob3VnaHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih0KXI/b3VnaHQocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaG91Z2gkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB0aHJvd2luZzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHQpaHJvdWdoaW5nXGIvZ2ksICAgICAgIC8vIFBldGVyIHNheXMgdGhpcyBpcyAidGhvcm91Z2hseSIsIGJ1dCBhIHN1cnZleSBvZiBTTyBxdWVzdGlvbnMgaW5kaWNhdGVzICJ0aHJvd2luZyIKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFocm93aW5nIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFfbG90OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlsb3RcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEgbG90IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uZV9yX3R3b19yOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocmVmZXxwcmVmZXxvY2N1KXIoZWR8aW5nKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJyJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb2NjdXI6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihvKWNjdXJlKHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWNjdXIkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcmVmZXJhYmx5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocClyZWZlcnJhYmx5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcmVmZXJhYmx5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbW1hbmRfbGluZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpKD86b21tP2FuZGxpbmV8bWRsaW5lPylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbW1hbmQtbGluZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBiZW5lZml0czogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpZW5pZml0c1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVuZWZpdHMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpdXRoXGIvZ2ksICAgICAgICAgICAvLyBUaGlzIG1heSBiZSB0b28gYW1iaWd1b3VzLCBjb3VsZCBhbHNvIG1lYW4gImF1dGhlbnRpY2F0aW9uIgogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXV0aG9yaXphdGlvbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwZXJzaXN0ZW50OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocCllcnNpc3Rhbih0fGNlKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVyc2lzdGVuJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWNjZXNzOiB7ICAvLyBtdXN0IGNvbWUgYmVmb3JlIF9pYmlsaXR5IHRvIGNhdGNoIGFjY2Vzc2liaWxpdHkgd2l0aCBzcGVsbGluZyB2YXJpYXRpb25zICoqIGJ1dCBkb2VzIG5vdCBmaXggYWNlc3NhYmlsaXR5PwogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpYytlK3MrKC4qKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWNjZXNzJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgX2libGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjb21wYXR8aW5jb21wYXR8YWNjZXNzKWFibGVcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpYmxlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF9pYmlsaXR5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoY29tcGF0fGluY29tcGF0fGFjY2VzcylhYmlsaT90KHl8aWVzKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWliaWxpdCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNlcGFyYXRlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocyllcGU/cmF0ZT8oZHxseXxzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlcGFyYXRlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2VwYXJhdGlvbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpZXBlcmF0aW9uKHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVwYXJhdGlvbiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlZmluaXRlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZCllZmluKD86YXRlP3xpdGU/fGFsfHRlP3xldCkobHkpP1xiL2dpLCAgLy8gQ2F0Y2hlcyBjb3JyZWN0IHNwZWxsaW5nLCB0b28uCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWZpbml0ZSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlZmluaXRpdmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihkKWVmaW5hP3RpdmUobHkpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVmaW5pdGl2ZSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGluZGVwZW5kZW50OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoaSluZGVwZW5kYW50KGx5KT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFuZGVwZW5kZW50JDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVjb21tZW5kOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvcFA5bEI3LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihyKWVjb21tP1thb11uZChhdGlvbik/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWNvbW1lbmQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBjb21wYXRpYmlsaXR5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYylvbXBhdGFiaWxpdHlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbXBhdGliaWxpdHkkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwczogewogICAgICAgICAgICAgICAgZXhwcjogL1xicHNcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJQUyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBvazogewogICAgICAgICAgICAgICAgZXhwcjogL1xib2tcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJPSyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBiYWNrX2VuZDogeyAgLy8gSW50ZXJlc3RpbmcgZmFjdDogYmFja2VuZCAzeCBtb3JlIGNvbW1vbiB0aGFuIGJhY2stZW5kCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYilhY2tlbmRcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWFjay1lbmQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnJvbnRfZW5kOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZilyb250ZW5kXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyb250LWVuZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhX3R5cGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihkKWF0YXR5cGVcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWF0YSB0eXBlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFsbG90dGVkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlsK290K2VkXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFsbG90dGVkIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGV2ZXJ5X3RpbWU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihlKXZlP3J5dGltZVxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdmVyeSB0aW1lIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0cmFpZ2h0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocyl0cmFpZz9oP3RcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXRyYWlnaHQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3RyYWlnaHRmb3J3YXJkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocyl0cmFpZz9oP3RbIC1dP2Zvcj93YXJkXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF0cmFpZ2h0Zm9yd2FyZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcmVjZWRpbmc6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXJlY2VlZGluZ1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJlY2VkaW5nIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5vX29uZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKG4pby0/b25lXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbyBvbmUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVfZmFjdG86IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihkKWUtP2ZhY3RvXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZSBmYWN0byIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhY2NvbW1vZGF0ZTogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2NMM21EOS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSkoPzpjK29tfGNvbSspb2RhdGVcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFjY29tbW9kYXRlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGtpbmRfb2Y6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihrKWluZGFcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpbmQgb2YiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd2FudF90bzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHcpYW5uP2FcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFhbnQgdG8iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc29ydF9vZjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpb3J0YVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9ydCBvZiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBnb3RfdG86IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9ySzZ4UjUvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGhhdmVccyspPyhnKW90dGFcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEkMm90IHRvIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvbnRfa25vdzogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3JLNnhSNS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZClbdW9dbm4/b1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9uJ3Qga25vdyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBnb2luZ190bzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGcpW291XW5uP2FcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvaW5nIHRvIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNyYXNoZXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjKXJhc2hzXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcmFzaGVzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBhdHRlcm46IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKWF0Pyg/OnRybnx0cmVufHRlcm4pKHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWF0dGVybiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZ1bmN0aW9uXzogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3hGM2pVMy8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZil1W25jdGldK29ubj8oc3xpbmd8ZWR8YWwpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXVuY3Rpb24kMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzeW50YXg6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKVt5aV1udFthZV0/eFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXludGF4IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvcnJlY3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjKW9ycj9lY1t0eV0vZ2ksICAvLyBObyBcYiBhdCBlbmQsIHRvIGluY2x1ZGUgY29ycmVjdGlvbiwgY29ycmVjdGluZywgY29ycmVjdGVkCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb3JyZWN0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvcnJlY3RseTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb3JyP2VjKD86bHQ/fHQ/bCl5XGIvaWcsCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb3JyZWN0bHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW50ZWdlcjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGkpbnRlP3I/Z2VyKHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW50ZWdlciQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldmVyYWw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKWVyP3ZbZWFdP3JbYWVdP2xcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFldmVyYWwiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc29sdXRpb246IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKW91P2x1P3RpP29uXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb2x1dGlvbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzb21lYm9keTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpb21ib2R5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb21lYm9keSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBldmVyeXRoaW5nOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZSl2ZT9yW3lpXT90aGluZ1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXZlcnl0aGluZyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBidXR0b246IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKVt1b10rdHQ/W291XW5cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF1dHRvbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBiZWZvcmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKWU/Zm8/cmU/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWZvcmUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXhhbXBsZTogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3VVNGJINS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZSkoPzp4c2FtcGxlfHhhbWxlfHg/YW1wW2xlXXsxLTJ9fHhlbXBsZSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF4YW1wbGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc29tZXdoZXJlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocylvbWUgP3doP1tlYV1yZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbWV3aGVyZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3aXRoOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IveE81ZFAzLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih3KWg/aXRoPyg/PShvdT90fGluKT9cYikvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaXRoIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdpdGhvdXQ6IHsgIC8vIEFmdGVyICd3aXRoJyBydWxlLCBvbmx5IG5lZWQgdG8gY2hlY2sgJ291dCcKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih3KWl0aG91P3RcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpdGhvdXQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVwcm9kdWNpYmxlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocillcHJvZHVjdD9baWFdYmxlXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZXByb2R1Y2libGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdW5uZWNlc3Nhcnk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih1KW5uP2VjYz9lc3M/YXJ5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbm5lY2Vzc2FyeSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICByZXF1aXJlOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL25TNmtNNS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIocillcXVpZT9yZT8oZHxzfG1lP250cz8pP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVxdWlyZSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFkZHJlc3M6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKWRkP3Jlc3M/KGVzfGVkfGluZyk/ZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFkZHJlc3MkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwYXNzd29yZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApYXNzP3dvP3JkPyhzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFhc3N3b3JkJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWV0aG9kOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIobSllW3RoXStbb2V1XStkKHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWV0aG9kJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvcGVydHk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXJvcGU/cnRbaWV5XT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyb3BlcnR5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXJvcGU/cnRbaWV5XStzXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcm9wZXJ0aWVzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdpcmVsZXNzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodylpcmU/bGU/c3M/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaXJlbGVzcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwb3NzaWJsZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApb3NzP1thaV0/YmxlXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb3NzaWJsZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBmaWVsZHNfeWllbGRzOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2NKOHJNNC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZnx5KSg/OmVpP3xpZT8pbD9kKHN8aW5nfGVkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpZWxkJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXhlY3V0ZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGUpeFtlaV0/Y3V0ZShzfGQpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxeGVjdXRlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWxnb3JpdGhtOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlsZ28/cltpeV0/dGg/W2l5XT9tKHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWxnb3JpdGhtJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdmVyc2lvbjogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3dFOHVEMC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIodillcig/OnNbaW9dKnxpbyluKHN8aW5nfGVkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlcnNpb24kMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3aGljaDogeyAgLy8gMjIsNzcyIG9mIHRoZXNlIGFzIG9mIDEyLU5vdi0yMDE1IQogICAgICAgICAgICAgICAgZXhwcjogL1xiKHcpKD86aWNofGhpYylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFoaWNoIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRpc2FwcGVhcjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpaXNhcGVhP3IoaW5nfGVkfHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWlzYXBwZWFyJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmVjYXVzZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpZWNbYW9ddT9zZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlY2F1c2UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvdWxkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocykoPzpob2xkfGhvdWR8aHVsZHxodWR8b3VsZClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFob3VsZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbGx5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodClvdGE/bGw/eVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW90YWxseSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBsYW1iZGE6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihsKWFtW2JkXSthXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYW1iZGEiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tbWFuZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb20oPzptP2FkfGFuZHxtbmQpKGVkfHN8aW5nfGVycz98byk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb21tYW5kJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGhlcmVmb3JlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodCloZXJlP2ZvcmU/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaGVyZWZvcmUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGFyYW1ldGVyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocClhcmE/bVtlYV1uP3RlcihzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFhcmFtZXRlciQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGp1c3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihqKSg/OnVzdGV8dXMpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXN0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZ1bGZpbGw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihmKXVsbD9ccz9maWxsXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdWxmaWxsIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbWluZzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb21taW5nXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb21pbmciLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJpZWQ6IHsgIC8vIDgsNTQwIG9mIHRoZXNlIQogICAgICAgICAgICAgICAgZXhwcjogL1xiKHQpcnllKGR8cylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyaWUkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBiYXNpY2FsbHk6IHsgIC8vIDcsOTI0IG9mIHRoZXNlIQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpYXNpY2E/bCt5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYXNpY2FsbHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tcGxldGVseTogeyAgLy8gNCw3OTMgZXhhbXBsZXMhICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9vRzduSDYvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb21wbD9ldGU/bD9lP3lcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbXBsZXRlbHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWlzcmVhZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKG0paXMrWyAtXT9yZWE/ZFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWlzcmVhZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhYmFzZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpYXRhYmFlcz9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFhdGFiYXNlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG91dHB1dDogeyAgLy82LDU5NCAib3V0IHB1dCIKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihvKXV0IHB1dFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXV0cHV0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVzZWZ1bDogeyAgLy8gMTEsNTQyICAidXNlZnVsbCIKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih1KXNlKD86ZnVsbHwgZnVsKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXNlZnVsIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsYXNzZXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjKWxhKHNlfHNzKXNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFsYXNzZXMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZW5nbGlzaDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZW5nbGlzYz9oP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJFbmdsaXNoIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGluaGVyaXRhbmNlOiB7ICAvLyAxNzAwIHggaW5oZXJpdGVuY2UKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihpKW5oZXJpdFthZV1uW2NzXWU/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbmhlcml0YW5jZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhZHZpY2U6IHsgIC8vIDkwMDAgeCBhZHZpY2VzCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlkdmljZXNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFkdmljZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3aGVuOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodyloW2VhXW5lP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWhlbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhbmRfdGhlbjogeyAgIC8vIDE2SyBpbnN0YW5jZXMgb2YgdGhpcyEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKW5kLD8gdGhhP25cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFuZCB0aGVuIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICoqIEdyYW1tYXIgLSBDb3JyZWN0IGNvbW1vbiBncmFtbWF0aWNhbCBlcnJvcnMuCiAgICAgICAgICAgICoqLwogICAgICAgICAgICBzdGFydF93aXRoX3NvOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXnNvWywtXHNdKy9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmlyc3RjYXBzOiB7CiAgICAgICAgICAgICAgICAvLyAgICBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3FSNWZPOS8xOQogICAgICAgICAgICAgICAgLy8gVGhpcyBkb2Vzbid0IHdvcmsgcXVpdGUgcmlnaHQsIGJlY2F1c2UgaXMgZmluZHMgYWxsIHNlbnRlbmNlcywgbm90IGp1c3Qgb25lcyBuZWVkaW5nIGNhcHMuCiAgICAgICAgICAgICAgICAvL2V4cHI6IC8oPzooPyFcblxuKVteXHMuIT9dK1sgXSopKyhbLiE/XSkqWyBdKi9nLCAKICAgICAgICAgICAgICAgIGV4cHI6IC8oKD8hXG5cbilbQS16XSg/Oig/IVxuXG4pW14/LiFdKSsoPzpcLltBLXpcZCldW14/LiFBLVpdKykqKFs/LiFdKSopL2dtLCAKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbihzdHIsIGVuZHB1bmMpIHsgCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ciA9PT0gInVuZGVmaW5lZCIpIHJldHVybiBzdHI7ICAvLyBNVVNUIG1hdGNoIHN0ciwgb3IgZ2V0cyBjb3VudGVkIGFzIGEgY2hhbmdlLgogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2JMOXhENy8zIGZpbmQgYW5kIGNhcGl0YWxpemUgZmlyc3QgbGV0dGVyCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eKFxXKikqKChbYS16QS1aXSlbXHdcZF0qKD86Wy5fXC1dK1tcd1xkXSspPykoLiopL2csIGZ1bmN0aW9uKHNlbnRlbmNlLCBwcmUsIGZXb3JkLCBmTGV0dGVyLCBwb3N0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTZW50ZW5jZTogIitzZW50ZW5jZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmUpIHByZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBvc3QpIHBvc3QgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmV29yZCkgZldvcmQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZXb3JkQ2hhcnMgPSBmV29yZC5zcGxpdCgnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlYXZlIHNvbWUgd29yZHMgYWxvbmU6IGZpbGVuYW1lcywgY2FtZWxDYXNlCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxmV29yZENoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZldvcmRDaGFyc1tpXSA9PSAnLicgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmV29yZENoYXJzW2ldID09IGZXb3JkQ2hhcnNbaV0udG9VcHBlckNhc2UoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VudGVuY2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IHByZSArIGZMZXR0ZXIudG9VcHBlckNhc2UoKSArIGZXb3JkLnNsaWNlKDEpICsgcG9zdDsgLy8gKyAoIWVuZHB1bmMgJiYgL1x3Ly50ZXN0KHBvc3Quc3Vic3RyKC0xKSkgPyAnLicgOiAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGU7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBzcGFjZV90aGVuX3N5bWJvbDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9mTjZsTDcvMwogICAgICAgICAgICAgICAgZXhwcjogLyg/OlsgXHRdKFsoJl1bIFx0XSspfFsgXHRdKihbKCZdKSg/PVthLXpdfCQpKS9naW0sCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiAkMSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3ltYm9sX3RoZW5fc3BhY2U6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvakI1YU4wLzQKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbIFx0XSsoWy4sIT87Ol0pKD86WyBcdF0rfCQpfFsgXHRdKyhbLCE/OzpdKSg/PVx3KXwoW2Etel1bLCE/OzpdKSg/PVx3KSkvZ2ltLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSQyICIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGk6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci91TzdxRzAvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiaShbJ2DCtF18XGIpKD8hLmUuKS9nLCAgLy8gaSBvciBpLWFwb3N0cm9waGUKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlfbGw6IHsgIC8vIE11c3QgTk9UIGNvbnZlcnQgaWxsIHRvIEknbGwKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmkgbGxcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSSdsbCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGltOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoPzppICptKD86IGFtKT98aSdhbXxpYW0pXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkknbSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGl2ZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiaVsnYMK0XSp2WydgwrRdKmVcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSSd2ZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGllOiB7ICAvLyBodHRwOi8vZW5nbGlzaC5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMzAxMDYvY2FuLWktc3RhcnQtYS1zZW50ZW5jZS13aXRoLWktZQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGl8SSllWy5cc10rL2csICAgLy8gQ2FyZWZ1bCBoZXJlOyBJRSBpcyBJbnRlcm5ldCBFeHBsb3JlcgogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMS5lLiAiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBlZzogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3FIMm9UMC82CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZSlcLj9nWy4uIDpdKy9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEuZy4gIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXRjOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2RFN2NWMS80CiAgICAgICAgICAgICAgICBleHByOiAvXGJldGMoPzpcLispPy9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJldGMuIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbXVsdGlwbGVzeW1ib2xzOiB7ICAvLyAgICBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2JFOXpNNi8yCiAgICAgICAgICAgICAgICBleHByOiAvKFteXHdccyojLlwtXys6XSlcMXsxLH0vZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBpX3dhbnQ6IHsgLy9odHRwczovL3JlZ2V4MTAxLmNvbS9yL2lEMnRVMC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGJJWydhIF0qbSB3YW50aW5nXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkkgd2FudCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG94Zm9yZF9jb21tYTogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3hOMG1GNi82CiAgICAgICAgICAgICAgICBleHByOiAvKCg/OltcdyctXSssXHMrKSsoPzpbXHcnLV0rXHMpezAsMn1bXHcnLV0rKShccysoYW5kfG9yKVxzK1tcdyctXSspL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxLCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoKICAgICAgICAgICAgKiogTm9pc2UgcmVkdWN0aW9uIC0gUmVtb3ZlIGZsdWZmIHRoYXQgYWRkcyBub3RoaW5nIG9mIHRlY2huaWNhbCB2YWx1ZSB0byBwb3N0cy4KICAgICAgICAgICAgKiovCiAgICAgICAgICAgIGhlbHA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihoKSg/OltlYV1sP3ApKD8hWy1dKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVscCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zaWxlbnQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGhhbmtzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodCkoPzphbmtzfGh4fGFueClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFoYW5rcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zaWxlbnQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGlhOiB7ICAvLyBjb21tb24gYWNyb255bTsgc2hvdWxkIG9ubHkgcmVtb3ZlICJ0aGFua3MgaW4gYWR2YW5jZSIgYXQgZW5kIG9mIHBvc3QKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnRpYSQvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ub2lzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBwbGVhc2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKSg/Omx6fGxzZT98bD9lYXNlPylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFsZWFzZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zaWxlbnQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZWRpdHVwZGF0ZTogewogICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci90VDJwSzYvMgogICAgICAgICAgICAgICAgZXhwcjogLyg/ISg/OmVkaXR8dXBkYXRlKVx3KlxzKlteOl0qJCkoPzpeXCoqKShlZGl0fHVwZGF0ZSlcdyooXHMqIz9bMC05XSspPzo/KD86XCoqKTo/L2dtaSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLm5vaXNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIGh0dHA6Ly9tZXRhLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8yOTUwL3Nob3VsZC1oaS10aGFua3MtdGFnbGluZXMtYW5kLXNhbHV0YXRpb25zLWJlLXJlbW92ZWQtZnJvbS1wb3N0cy85Mzk4OSM5Mzk4OQogICAgICAgICAgICBzYWx1dGF0aW9uOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IveVM5bE44LzQKICAgICAgICAgICAgICAgIGV4cHI6IC9eXHMqKD86ZGVhclxiLiokfCg/OmhpKD86eWEpKnxoZWwrbyt8aGV5YT98aGFpfGcnP2RheXxnb29kXHMoPzpldmVuaW5nfG1vcm5pbmd8ZGF5fGFmdGVybm9vbikpWyxcc10qKD86XHMrKD86YWxsfGd1eXN8Zm9sa3N8ZnJpZW5kcz98dGhlcmV8ZXZlcnlvbmV8cGVvcGxlfGJ1ZCsoeXxpZXMpKSopKSg/OlssLiE/OiBdKnwkKS9nbWksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ub2lzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBiYWRwaHJhc2VzOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvZ0UyaEg2LzEzCiAgICAgICAgICAgICAgICBleHByOiAvW15cbi4hPzpdKig/OnRoYW5rc3x0aGFua1sgLV15b3V8cGxlYXNlfGhlbHB8c3VnZ2VzdCg/OmlvbnMpKVxiKD86WyAuPyFdKiR8W15cbi4hPzpdKlxiKD86aGVscHxhcCtyZWNpYXRcdyp8bWV8YWR2YW5cdyp8YSA/bG90KVxiW15cbi4hPzpdKilbLiE/XypdKlsgXSovZ2ltLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubm9pc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW1uZXc6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPyEgKVtcd1xzXSpcYmlbJyBdP2E/bSArKD86a2luZGF8cmVhbGx5KSAqbmV3XHcqICsoPzp0b3xpbikgKlx3KiAqKD86YW5kfFs7LC4hP10pPyAqL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubm9pc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tcGxpbWVudGFyeUNsb3NlOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2hMM2tUNS8yCiAgICAgICAgICAgICAgICBleHByOiAvXlxzKig/Oig/OmtpbmQoPzplc3QpKiApKnJlZ2FyZHM/fGNoZWVycz98Z3JlZXRpbmdzP3x0aGFua3MpXGIsP1tcdFxmIF0qW1xyXG5dKi4qKD86Wy4hPzogXSp8JCkvZ2ltLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubm9pc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc29ycnk0ZW5nbGlzaDogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3BHM29ENi82CiAgICAgICAgICAgICAgICBleHByOiAvW15cbi4hP10qKChzb3JyeXxhcCtvbG9nLiopXGJbXi4hPzpcblxyXStcYigoYmFkfG15fHBvb3IpIGVuZ2xpc2gpfChlbmdsaXNoW14uIT86XG5ccl0rKVxiKHRvbmd1ZXxsYW5ndWFnZSkpXGJbXi4hPzpcblxyXSooPzpbLiE/Ol8qXSkqL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubm9pc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaG9wZV90aGlzX2hlbHBzOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3lGMXVZMC8xCiAgICAgICAgICAgICAgICBleHByOiAvXlxzKmk/ID9cYmhvcGVcYlteXG4uIT86XSpoZWxwcz9bXlxuLiE/Ol0qWywuIT86ICgpXi1dKiQvZ21pLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubm9pc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoKICAgICAgICAgICAgKiogU3BhY2luZyAtIE1pbmltaXplIHdoaXRlc3BhY2UgKHdoaWNoIGlzIGNvbXByZXNzZWQgYnkgbWFya3VwKS4KICAgICAgICAgICAgKiogICAgICAgICAgIE11c3QgZm9sbG93IG5vaXNlIHJlZHVjdGlvbi4KICAgICAgICAgICAgKiovCiAgICAgICAgICAgIHRyYWlsaW5nc3BhY2VzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvWyBcdF0qJC9nbSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNpbGVudAogICAgICAgICAgICB9LAogICAgICAgICAgICBtdWx0aXBsZXNwYWNlczogewogICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9oWTloUTMvMQogICAgICAgICAgICAgICAgZXhwcjogL1sgXXsyLH0oPyFcbikvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiICIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGFjaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJsYW5rbGluZXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpccypbXHJcbl0pezMsfS9nbSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiXG5cbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGFjaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVuZGJsYW5rbGluZXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9bXHNcclxuXSskL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGFjaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIFRoZSB0aXRsZSBzYXlzIGl0IGFsbAogICAgICAgICAgICB0aGV0aXRsZXNheXNpdGFsbDogewogICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9iWDFxQjQvMwogICAgICAgICAgICAgICAgZXhwcjogLyg/OnRoZSApP3RpdGxlIHNheXMgaXQgYWxsL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICciJyArIEFwcC5zZWxlY3Rpb25zLnRpdGxlLnZhbCgpICsgJyIgc2F5cyBpdCBhbGwuXG5cbic7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudGl0bGVTYXlzQWxsCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAvLyBUaGlzIGlzIHdoZXJlIHRoZSBtYWdpYyBoYXBwZW5zOiB0aGlzIGZ1bmN0aW9uIHRha2VzIGEgZmV3IHBpZWNlcyBvZiBpbmZvcm1hdGlvbiBhbmQgYXBwbGllcyBlZGl0cyB0byB0aGUgcG9zdAogICAgICAgIEFwcC5mdW5jcy5maXhJdCA9IGZ1bmN0aW9uKGlucHV0LCBleHByZXNzaW9uLCByZXBsYWNlbWVudCwgcmVhc29uaW5nKSB7CiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vdGhpbmcgdG8gc2VhcmNoLCBleGl0CiAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgLy8gU2NhbiB0aGUgcG9zdCB0ZXh0IHVzaW5nIHRoZSBleHByZXNzaW9uIHRvIHNlZSBpZiB0aGVyZSBhcmUgYW55IG1hdGNoZXMKICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBpbnB1dC5tYXRjaChleHByZXNzaW9uKTsKICAgICAgICAgICAgaWYgKCFtYXRjaGVzKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7ICAvLyAjIHJlcGxhY2VtZW50cyB0byBkbwogICAgICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoZXhwcmVzc2lvbiwgZnVuY3Rpb24oYmVmb3JlKXsgCiAgICAgICAgICAgICAgICB2YXIgYWZ0ZXIgPSBiZWZvcmUucmVwbGFjZShleHByZXNzaW9uLCByZXBsYWNlbWVudCk7CiAgICAgICAgICAgICAgICBpZihhZnRlciAhPT0gYmVmb3JlKSArK2NvdW50OyAKICAgICAgICAgICAgICAgIHJldHVybiBhZnRlcjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBjb3VudCA+IDAgPyB7CiAgICAgICAgICAgICAgICByZWFzb246IHJlYXNvbmluZywKICAgICAgICAgICAgICAgIGZpeGVkOiBTdHJpbmcoaW5wdXQpLnRyaW0oKSwKICAgICAgICAgICAgICAgIGNvdW50OiBjb3VudAogICAgICAgICAgICB9IDogZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgLy8gUG9wdWxhdGUgb3IgcmVmcmVzaCBET00gc2VsZWN0aW9ucwogICAgICAgIEFwcC5mdW5jcy5wb3BTZWxlY3Rpb25zID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnJlZG9CdXR0b24gICAgID0gQXBwLmdsb2JhbHMucm9vdC5maW5kKCdbaWRePSJ3bWQtcmVkby1idXR0b24iXScpOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5ib2R5ICAgICAgICAgICA9IEFwcC5nbG9iYWxzLnJvb3QuZmluZCgnW2lkXj0id21kLWlucHV0Il0nKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMudGl0bGUgICAgICAgICAgPSBBcHAuZ2xvYmFscy5yb290LmZpbmQoJ1tjbGFzcyo9InRpdGxlLWZpZWxkIl0nKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuc3VtbWFyeSAgICAgICAgPSBBcHAuZ2xvYmFscy5yb290LmZpbmQoJ1tpZF49ImVkaXQtY29tbWVudCJdLCAuZWRpdC1jb21tZW50Jyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnRhZ0ZpZWxkICAgICAgID0gQXBwLmdsb2JhbHMucm9vdC5maW5kKCIudGFnLWVkaXRvciIpOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5zdWJtaXRCdXR0b24gICA9IEFwcC5nbG9iYWxzLnJvb3QuZmluZCgnW2lkXj0ic3VibWl0LWJ1dHRvbiJdJyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmhlbHBCdXR0b24gICAgID0gQXBwLmdsb2JhbHMucm9vdC5maW5kKCdbaWRePSJ3bWQtaGVscC1idXR0b24iXScpOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5lZGl0b3IgICAgICAgICA9IEFwcC5nbG9iYWxzLnJvb3QuZmluZCgnLnBvc3QtZWRpdG9yJyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnByZXZpZXcgICAgICAgID0gQXBwLmdsb2JhbHMucm9vdC5maW5kKCcud21kLXByZXZpZXcnKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld01lbnUgICAgPSBBcHAuZ2xvYmFscy5yb290LmZpbmQoJy5wcmV2aWV3LW9wdGlvbnMnKS5hcHBlbmQoJyZuYnNwOyZuYnNwOycpOwogICAgICAgICAgICBpZighQXBwLnNlbGVjdGlvbnMucHJldmlld01lbnUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3TWVudSAgID0gJCgnPGRpdiBjbGFzcz0icHJldmlldy1vcHRpb25zIHBvc3QtbWVudSIgc3R5bGU9Im1hcmdpbi10b3A6NXB4O21hcmdpbi1ib3R0b206OHB4OyIvPicpLmluc2VydEJlZm9yZShBcHAuc2VsZWN0aW9ucy5wcmV2aWV3KTsKICAgICAgICAgICAgICAgIHZhciBwcmV2aWV3VG9nZ2xlVGV4dCA9IEFwcC5zZWxlY3Rpb25zLnByZXZpZXcuaXMoJzp2aXNpYmxlJykgPyAnaGlkZSBwcmV2aWV3JyA6ICdzaG93IHByZXZpZXcnOwogICAgICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld1RvZ2dsZSA9ICQoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImhpZGUtcHJldmlldyIgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0ycHg7Ij4nICsgcHJldmlld1RvZ2dsZVRleHQgKyAnPC9hPicpLmNsaWNrKEFwcC5mdW5jcy50b2dnbGVQcmV2aWV3KS5hcHBlbmRUbyhBcHAuc2VsZWN0aW9ucy5wcmV2aWV3TWVudSk7CiAgICAgICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3TWVudS5hcHBlbmQoJyZuYnNwOyZuYnNwOycpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld1RvZ2dsZSAgPSBBcHAuZ2xvYmFscy5yb290LmZpbmQoJy5oaWRlLXByZXZpZXcnKS5vZmYoJ2NsaWNrJykuYXR0cignaHJlZicsJ2phdmFzY3JpcHQ6dm9pZCgwKScpLmNsaWNrKEFwcC5mdW5jcy50b2dnbGVQcmV2aWV3KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5kaWZmVG9nZ2xlICAgICA9ICQoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImhpZGUtcHJldmlldyIgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0ycHg7Ij5zaG93IGRpZmY8L2E+JykuY2xpY2soQXBwLmZ1bmNzLnRvZ2dsZURpZmYpLmFwcGVuZFRvKEFwcC5zZWxlY3Rpb25zLnByZXZpZXdNZW51KTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuZGlmZiAgICAgICAgICAgPSAkKCc8ZGl2IGNsYXNzPSJ3bWQtcHJldmlldyIvPicpLmhpZGUoKS5hcHBlbmRUbyhBcHAuc2VsZWN0aW9ucy5lZGl0b3IpOwogICAgICAgIH07CgogICAgICAgIEFwcC5mdW5jcy5zaG93UHJldmlldyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5kaWZmLmhpZGUoKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCdzaG93IGRpZmYnKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlldy5zaG93KCk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnByZXZpZXdUb2dnbGUudGV4dCgnaGlkZSBwcmV2aWV3Jyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIEFwcC5mdW5jcy5zaG93RGlmZiA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3LmhpZGUoKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld1RvZ2dsZS50ZXh0KCdzaG93IHByZXZpZXcnKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuZGlmZi5zaG93KCk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmRpZmZUb2dnbGUudGV4dCgnaGlkZSBkaWZmJyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIEFwcC5mdW5jcy50b2dnbGVQcmV2aWV3ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmRpZmYuaGlkZSgpOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5kaWZmVG9nZ2xlLnRleHQoJ3Nob3cgZGlmZicpOwogICAgICAgICAgICBpZigvaGlkZS8udGVzdChBcHAuc2VsZWN0aW9ucy5wcmV2aWV3VG9nZ2xlLnRleHQoKSkpIHJldHVybiBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3VG9nZ2xlLnRleHQoJ3Nob3cgcHJldmlldycpLCBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3LnRvZ2dsZSgpLCB0cnVlOwogICAgICAgICAgICBpZigvc2hvdy8udGVzdChBcHAuc2VsZWN0aW9ucy5wcmV2aWV3VG9nZ2xlLnRleHQoKSkpIHJldHVybiBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3VG9nZ2xlLnRleHQoJ2hpZGUgcHJldmlldycpLCBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3LnRvZ2dsZSgpLCB0cnVlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBBcHAuZnVuY3MudG9nZ2xlRGlmZiA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3LmhpZGUoKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld1RvZ2dsZS50ZXh0KCdzaG93IHByZXZpZXcnKTsKICAgICAgICAgICAgaWYoL2hpZGUvLnRlc3QoQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCkpKSByZXR1cm4gQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCdzaG93IGRpZmYnKSwgQXBwLnNlbGVjdGlvbnMuZGlmZi50b2dnbGUoKSwgdHJ1ZTsKICAgICAgICAgICAgaWYoL3Nob3cvLnRlc3QoQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCkpKSByZXR1cm4gQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCdoaWRlIGRpZmYnKSwgQXBwLnNlbGVjdGlvbnMuZGlmZi50b2dnbGUoKSwgdHJ1ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gUG9wdWxhdGUgZWRpdCBpdGVtIHNldHMgZnJvbSBET00gc2VsZWN0aW9ucwogICAgICAgIEFwcC5mdW5jcy5wb3BJdGVtcyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgaSA9IEFwcC5pdGVtcywgcyA9IEFwcC5zZWxlY3Rpb25zOwogICAgICAgICAgICBbJ3RpdGxlJywgJ2JvZHknLCAnc3VtbWFyeSddLmZvckVhY2goZnVuY3Rpb24odikgewogICAgICAgICAgICAgICAgaVt2XSA9IHNbdl0ubGVuZ3RoID8gc1t2XS52YWwoKSA6ICcnOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvLyBQb3B1bGF0ZSBvcmlnaW5hbCBpdGVtIHNldHMgZnJvbSBlZGl0IGl0ZW1zIGZvciB0aGUgZGlmZgogICAgICAgIEFwcC5mdW5jcy5wb3BPcmlnaW5hbHMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGkgPSBBcHAub3JpZ2luYWxzLCBzID0gQXBwLml0ZW1zOwogICAgICAgICAgICBbJ3RpdGxlJywgJ2JvZHknLCAnc3VtbWFyeSddLmZvckVhY2goZnVuY3Rpb24odikgewogICAgICAgICAgICAgICAgaVt2XSA9IHNbdl07CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBJbnNlcnQgZWRpdGluZyBidXR0b24KICAgICAgICBBcHAuZnVuY3MuY3JlYXRlQnV0dG9uID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghQXBwLnNlbGVjdGlvbnMucmVkb0J1dHRvbi5sZW5ndGgpIHJldHVybiBmYWxzZTsKCiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbldyYXBwZXIgPSAkKCc8bGkgY2xhc3M9IndtZC1tYWdpYy1lZGl0Ii8+Jyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkZpeCA9ICQoJzxpbWcgc3JjPSIvL2kuc3RhY2suaW1ndXIuY29tL09tNXBMLnBuZyIgY2xhc3M9IndtZC1idXR0b24gVG9vbGtpdEZpeCIgdGl0bGU9IkZpeCB0aGUgY29udGVudCEiIC8+Jyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkluZm8gPSAkKCc8ZGl2IGNsYXNzPSJUb29sa2l0SW5mbyI+Jyk7CgogICAgICAgICAgICAvLyBCdWlsZCB0aGUgYnV0dG9uCiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbldyYXBwZXIuYXBwZW5kKEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkZpeCk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbldyYXBwZXIuYXBwZW5kKEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkluZm8pOwoKICAgICAgICAgICAgLy8gSW5zZXJ0IGJ1dHRvbgogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5yZWRvQnV0dG9uLmFmdGVyKEFwcC5zZWxlY3Rpb25zLmJ1dHRvbldyYXBwZXIpOwoKICAgICAgICAgICAgLy8gQXR0YWNoIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aGUgYnV0dG9uCiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkZpeC5jbGljayhBcHAuZnVuY3MuZml4RXZlbnQpOwogICAgICAgICAgICAKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuYnV0dG9uV3JhcHBlci5jc3MoewogICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzogJ3JlbGF0aXZlJywKICAgICAgICAgICAgICAgICdsZWZ0JzogJzQxMHB4JywKICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycsCiAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAndmlzaWJsZScsCiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzU1JScsCiAgICAgICAgICAgICAgICAnd2hpdGUtc3BhY2UnOiAnbm93cmFwJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuYnV0dG9uRml4LmNzcyh7CiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnc3RhdGljJywKICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycsCiAgICAgICAgICAgICAgICAnd2lkdGgnOiAnYXV0bycsCiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5idXR0b25JbmZvLmNzcyh7CiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnc3RhdGljJywKICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycsCiAgICAgICAgICAgICAgICAndmVydGljYWwtYWxpZ24nOiAnYm90dG9tJywKICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6ICc1cHgnLAogICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywKICAgICAgICAgICAgICAgICdjb2xvcic6ICcjNDI0MjQyJywKICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kJzogJyNlZWUnLAogICAgICAgICAgICAgICAgJ2JvcmRlci1yYWRpdXMnOiAnM3B4JywKICAgICAgICAgICAgICAgICdwYWRkaW5nJzogJzNweCA2cHgnCiAgICAgICAgICAgIH0pLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICBBcHAuZnVuY3MuZml4RXZlbnQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIEFwcC5mdW5jcy5wb3BJdGVtcygpLCBBcHAucGlwZShBcHAuaXRlbXMsIEFwcC5waXBlTW9kcywgQXBwLmdsb2JhbHMub3JkZXIpLCBmYWxzZTsKICAgICAgICB9OwoKICAgICAgICBBcHAuZnVuY3MuZGlmZiA9IGZ1bmN0aW9uKGExLCBhMikgewogICAgICAgICAgICB2YXIgc3RyaW5ncyA9IFtdOwogICAgICAgICAgICBmdW5jdGlvbiBtYWFrUmlqKHR5cGUsIHJpaikgewogICAgICAgICAgICAgICAgaWYgKCF0eXBlKSByZXR1cm4gc3RyaW5ncy5wdXNoKHJpai5yZXBsYWNlKC9cPC9nLCAnJmx0OycpKSwgdHJ1ZTsKICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnKycpIHJldHVybiBzdHJpbmdzLnB1c2goJzxzcGFuIGNsYXNzPSJhZGQiPicgKyByaWoucmVwbGFjZSgvXDwvZywgJyZsdDsnKS5yZXBsYWNlKC8oPz1cbikvZywn4oa1JykgKyAnPC9zcGFuPicpLCB0cnVlOwogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICctJykgcmV0dXJuIHN0cmluZ3MucHVzaCgnPHNwYW4gY2xhc3M9ImRlbCI+JyArIHJpai5yZXBsYWNlKC9cPC9nLCAnJmx0OycpLnJlcGxhY2UoLyg/PVxuKS9nLCfihrUnKSArICc8L3NwYW4+JyksIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldERpZmYobWF0cml4LCBhMSwgYTIsIHgsIHkpIHsKICAgICAgICAgICAgICAgIGlmICh4ID4gMCAmJiB5ID4gMCAmJiBhMVt5IC0gMV0gPT09IGEyW3ggLSAxXSkgewogICAgICAgICAgICAgICAgICAgIGdldERpZmYobWF0cml4LCBhMSwgYTIsIHggLSAxLCB5IC0gMSk7CiAgICAgICAgICAgICAgICAgICAgbWFha1JpaihmYWxzZSwgYTFbeSAtIDFdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHggPiAwICYmICh5ID09PSAwIHx8IG1hdHJpeFt5XVt4IC0gMV0gPj0gbWF0cml4W3kgLSAxXVt4XSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RGlmZihtYXRyaXgsIGExLCBhMiwgeCAtIDEsIHkpOwogICAgICAgICAgICAgICAgICAgICAgICBtYWFrUmlqKCcrJywgYTJbeCAtIDFdKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHkgPiAwICYmICh4ID09PSAwIHx8IG1hdHJpeFt5XVt4IC0gMV0gPCBtYXRyaXhbeSAtIDFdW3hdKSkgewogICAgICAgICAgICAgICAgICAgICAgICBnZXREaWZmKG1hdHJpeCwgYTEsIGEyLCB4LCB5IC0gMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hYWtSaWooJy0nLCBhMVt5IC0gMV0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGExID0gYTEuc3BsaXQoLyg/PVxifFxXfF8pL2cpOwogICAgICAgICAgICBhMiA9IGEyLnNwbGl0KC8oPz1cYnxcV3xfKS9nKTsKCiAgICAgICAgICAgIHZhciBtYXRyaXggPSBuZXcgQXJyYXkoYTEubGVuZ3RoICsgMSk7CiAgICAgICAgICAgIHZhciB4LCB5OwogICAgICAgICAgICBmb3IgKHkgPSAwOyB5IDwgbWF0cml4Lmxlbmd0aDsgeSsrKSB7CiAgICAgICAgICAgICAgICBtYXRyaXhbeV0gPSBuZXcgQXJyYXkoYTIubGVuZ3RoICsgMSk7CgogICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IG1hdHJpeFt5XS5sZW5ndGg7IHgrKykgewogICAgICAgICAgICAgICAgICAgIG1hdHJpeFt5XVt4XSA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAoeSA9IDE7IHkgPCBtYXRyaXgubGVuZ3RoOyB5KyspIHsKICAgICAgICAgICAgICAgIGZvciAoeCA9IDE7IHggPCBtYXRyaXhbeV0ubGVuZ3RoOyB4KyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYTFbeSAtIDFdID09PSBhMlt4IC0gMV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W3ldW3hdID0gMSArIG1hdHJpeFt5IC0gMV1beCAtIDFdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFt5XVt4XSA9IE1hdGgubWF4KG1hdHJpeFt5IC0gMV1beF0sIG1hdHJpeFt5XVt4IC0gMV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGdldERpZmYobWF0cml4LCBhMSwgYTIsIHggLSAxLCB5IC0gMSk7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCcnKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAvLyBQaXBlIGRhdGEgdGhyb3VnaCBtb2R1bGVzIGluIHByb3BlciBvcmRlciwgcmV0dXJuaW5nIHRoZSByZXN1bHQKICAgICAgICBBcHAucGlwZSA9IGZ1bmN0aW9uKGRhdGEsIG1vZHMsIG9yZGVyKSB7CiAgICAgICAgICAgIHZhciBtb2ROYW1lOwogICAgICAgICAgICBmb3IgKHZhciBpIGluIG9yZGVyKSB7CiAgICAgICAgICAgICAgICBpZiAob3JkZXIuaGFzT3duUHJvcGVydHkoaSkpIHsKICAgICAgICAgICAgICAgICAgICBtb2ROYW1lID0gb3JkZXJbaV07CiAgICAgICAgICAgICAgICAgICAgbW9kc1ttb2ROYW1lXShkYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIEFwcC5waXBlTW9kcy5vbWl0ID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICBpZiAoIWRhdGEuYm9keSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBmb3IgKHZhciB0eXBlIGluIEFwcC5nbG9iYWxzLmNoZWNrcykgewogICAgICAgICAgICAgICAgZGF0YS5ib2R5ID0gZGF0YS5ib2R5LnJlcGxhY2UoQXBwLmdsb2JhbHMuY2hlY2tzW3R5cGVdLCBmdW5jdGlvbihtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIEFwcC5nbG9iYWxzLnJlcGxhY2VkU3RyaW5nc1t0eXBlXS5wdXNoKG1hdGNoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXBwLmdsb2JhbHMucGxhY2VIb2xkZXJzW3R5cGVdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgfTsKCiAgICAgICAgQXBwLnBpcGVNb2RzLmNvZGVmaXggPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHJlcGxhY2VkID0gQXBwLmdsb2JhbHMucmVwbGFjZWRTdHJpbmdzLmJsb2NrLCBzdHI7CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVwbGFjZWQpIHsKICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvdFg5cE0zLzEgICAgICAgICAgICAgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvdFg5cE0zLzIgICAgICAgICAgICAgICAgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvdFg5cE0zLzMKICAgICAgICAgICAgICAgIGlmICgvXmBbXl0rYCQvLnRlc3QocmVwbGFjZWRbaV0pKSByZXBsYWNlZFtpXSA9ICdcblxuJyArIC8oPyFgKSgoPyFgKVteXSkrLy5leGVjKHJlcGxhY2VkW2ldKVswXS5yZXBsYWNlKC8oLispL2csICcgICAgJDEnKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIEFwcC5waXBlTW9kcy5lZGl0ID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICBBcHAuZnVuY3MucG9wT3JpZ2luYWxzKCk7CgogICAgICAgICAgICAvLyBWaXN1YWxseSBjb25maXJtIGVkaXQgLSBTRSBtYWtlcyBpdCBlYXN5IGJlY2F1c2UgdGhlIGpRdWVyeSBjb2xvciBhbmltYXRpb24gcGx1Z2luIHNlZW1zIHRvIGJlIHRoZXJlIGJ5IGRlZmF1bHQKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuYm9keS5hbmltYXRlKHsgYmFja2dyb3VuZENvbG9yOiAnI2M4ZmZhNycgfSwgMTApOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5ib2R5LmFuaW1hdGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyB9LCAxMDAwKTsKCiAgICAgICAgICAgIC8vIExpc3Qgb2YgZmllbGRzIHRvIGJlIGVkaXRlZAogICAgICAgICAgICB2YXIgZmllbGRzID0ge2JvZHk6J2JvZHknLHRpdGxlOid0aXRsZSd9OwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBlZGl0aW5nIHJ1bGVzCiAgICAgICAgICAgIGZvciAodmFyIGogaW4gQXBwLmVkaXRzKSBmb3IgKHZhciBmaWVsZCBpbiBmaWVsZHMpIHsKICAgICAgICAgICAgICAgIHZhciBmaXggPSBBcHAuZnVuY3MuZml4SXQoZGF0YVtmaWVsZF0sIEFwcC5lZGl0c1tqXS5leHByLCBBcHAuZWRpdHNbal0ucmVwbGFjZW1lbnQsIEFwcC5lZGl0c1tqXS5yZWFzb24pOwogICAgICAgICAgICAgICAgaWYgKCFmaXgpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgaWYgKGZpeC5yZWFzb24gaW4gQXBwLmdsb2JhbHMucmVhc29ucykgQXBwLmdsb2JhbHMucmVhc29uc1tmaXgucmVhc29uXS5jb3VudCArPSBmaXguY291bnQ7CiAgICAgICAgICAgICAgICBlbHNlIEFwcC5nbG9iYWxzLnJlYXNvbnNbZml4LnJlYXNvbl0gPSB7IHJlYXNvbjpmaXgucmVhc29uLCBlZGl0SWQ6aiwgY291bnQ6Zml4LmNvdW50IH07CiAgICAgICAgICAgICAgICBkYXRhW2ZpZWxkXSA9IGZpeC5maXhlZDsKICAgICAgICAgICAgICAgIEFwcC5lZGl0c1tqXS5maXhlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJlbW92ZSBzaWxlbnQgY2hhbmdlIHJlYXNvbgogICAgICAgICAgICBkZWxldGUgQXBwLmdsb2JhbHMucmVhc29uc1tBcHAuY29uc3RzLnJlYXNvbnMuc2lsZW50XTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyByZWFzb25zLCBleGl0CiAgICAgICAgICAgIGlmIChBcHAuZ2xvYmFscy5yZWFzb25zID09IHt9KSByZXR1cm4gZmFsc2U7CgogICAgICAgICAgICAvLyBXZSBuZWVkIGEgcGxhY2UgdG8gc3RvcmUgdGhlIHJlYXNvbnMgYmVpbmcgYXBwbGllZCB0byB0aGUgc3VtbWFyeS4gCiAgICAgICAgICAgIHZhciByZWFzb25zID0gW107CiAgICAgICAgICAgIEFwcC5nbG9iYWxzLmNoYW5nZXMgPSAwOwoKICAgICAgICAgICAgZm9yICh2YXIgeiBpbiBBcHAuZ2xvYmFscy5yZWFzb25zKSB7CiAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCB0eXBlIG9mIGNoYW5nZSBtYWRlLCBhZGQgYSByZWFzb24gc3RyaW5nIHdpdGggdGhlIHJlYXNvbiB0ZXh0LAogICAgICAgICAgICAgICAgLy8gb3B0aW9uYWxseSB0aGUgcnVsZSBJRCwgYW5kIHRoZSBudW1iZXIgb2YgcmVwZWF0cyBpZiAyIG9yIG1vcmUuCiAgICAgICAgICAgICAgICByZWFzb25zLnB1c2goQXBwLmdsb2JhbHMucmVhc29uc1t6XS5yZWFzb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIChBcHAuZ2xvYmFscy5zaG93UnVsZXMgPyAnIFsnKyBBcHAuZ2xvYmFscy5yZWFzb25zW3pdLmVkaXRJZCArJ10nIDogJycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAoQXBwLmdsb2JhbHMuc2hvd0NvdW50cyA/ICgoQXBwLmdsb2JhbHMucmVhc29uc1t6XS5jb3VudCA+IDEpID8gJyAoJytBcHAuZ2xvYmFscy5yZWFzb25zW3pdLmNvdW50KycpJyA6ICcnKSA6ICcnKSApOwogICAgICAgICAgICAgICAgQXBwLmdsb2JhbHMuY2hhbmdlcyArPSBBcHAuZ2xvYmFscy5yZWFzb25zW3pdLmNvdW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcmVhc29uU3RyID0gcmVhc29ucy5sZW5ndGggPyByZWFzb25zLmpvaW4oJzsgJykrJy4nIDogJyc7ICAvLyBVbmlxdWUgcmVhc29ucyBzZXBhcmF0ZWQgYnkgOyBhbmQgdGVybWluYXRlZCBieSAuCgogICAgICAgICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoJ3N1bW1hcnlPcmlnJykpIGRhdGEuc3VtbWFyeU9yaWcgPSBkYXRhLnN1bW1hcnkudHJpbSgpIC8vIFJlbWVtYmVyIG9yaWdpbmFsIHN1bW1hcnkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oW14uO10pJC8sIiQxOyIpOwogICAgICAgICAgICBpZiAoZGF0YS5zdW1tYXJ5T3JpZy5sZW5ndGgpCiAgICAgICAgICAgICAgICBkYXRhLnN1bW1hcnlPcmlnID0gZGF0YS5zdW1tYXJ5T3JpZyArICcgJzsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgcmVhc29uU3RyID0gcmVhc29uU3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVhc29uU3RyLnNsaWNlKDEpOyAgLy8gQ2FwIGZpcnN0IGxldHRlci4KCiAgICAgICAgICAgIGRhdGEuc3VtbWFyeSA9IGRhdGEuc3VtbWFyeU9yaWcgKyByZWFzb25TdHI7CiAgICAgICAgICAgIC8vIExpbWl0IHN1bW1hcnkgdG8gMzAwIGNoYXJzCiAgICAgICAgICAgIGlmIChkYXRhLnN1bW1hcnkubGVuZ3RoID4gMzAwKSBkYXRhLnN1bW1hcnkgPSBkYXRhLnN1bW1hcnkuc3Vic3RyKDAsMzAwLTMpICsgJy4uLic7CgogICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICB9OyAgIAogICAgICAgIAogICAgICAgIC8vIFBvcHVsYXRlIHRoZSBkaWZmCiAgICAgICAgQXBwLnBpcGVNb2RzLmRpZmYgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuZGlmZi5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz0iZGlmZnRpdGxlIj4nICsgQXBwLmZ1bmNzLmRpZmYoQXBwLm9yaWdpbmFscy50aXRsZSwgQXBwLml0ZW1zLnRpdGxlLCB0cnVlKSArICc8L2Rpdj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iZGlmZmJvZHkiPicgKyBBcHAucGlwZU1vZHMucmVwbGFjZSh7Ym9keTpBcHAuZnVuY3MuZGlmZihBcHAub3JpZ2luYWxzLmJvZHksIEFwcC5pdGVtcy5ib2R5KX0sIHRydWUpLmJvZHkgKyAnPC9kaXY+Jyk7CiAgICAgICAgICAgIEFwcC5mdW5jcy5zaG93RGlmZigpOwogICAgICAgIH0KCiAgICAgICAgLy8gUmVwbGFjZSB0aGUgcHJldmlvdXNseSBvbWl0dGVkIGNvZGUKICAgICAgICBBcHAucGlwZU1vZHMucmVwbGFjZSA9IGZ1bmN0aW9uKGRhdGEsIGxpdGVyYWwpIHsKICAgICAgICAgICAgaWYgKCFkYXRhLmJvZHkpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBBcHAuZ2xvYmFscy5jaGVja3NyKSB7CiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgICAgICAgICBkYXRhLmJvZHkgPSBkYXRhLmJvZHkucmVwbGFjZShBcHAuZ2xvYmFscy5wbGFjZUhvbGRlckNoZWNrc1t0eXBlXSwgZnVuY3Rpb24obWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZSA9IEFwcC5nbG9iYWxzLnJlcGxhY2VkU3RyaW5nc1t0eXBlXVtpKytdOwogICAgICAgICAgICAgICAgICAgIGlmKGxpdGVyYWwgJiYgL2Jsb2NrfGxzZWMvLnRlc3QodHlwZSkpIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZnRlciA9IHJlcGxhY2UucmVwbGFjZSgvXlxuXG4vLCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXBlbmQgPSBhZnRlciAhPT0gcmVwbGFjZSA/ICc8c3BhbiBjbGFzcz0iYWRkIj5cblxuPC9zcGFuPjxzcGFuIGNsYXNzPSJkZWwiPmA8L3NwYW4+JyA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXBwZW5kICA9IGFmdGVyICE9PSByZXBsYWNlID8gJzxzcGFuIGNsYXNzPSJkZWwiPmA8L3NwYW4+JyA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIga2xhc3MgICA9IC9sc2VjLy50ZXN0KHR5cGUpID8gJyBjbGFzcz0ibGFuZy1ub25lIHByZXR0eXByaW50IHByZXR0eXByaW50ZWQiJyA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlcGVuZCArICc8cHJlJyArIGtsYXNzICsgJz48Y29kZT4nICsgYWZ0ZXIucmVwbGFjZSgvPC9nLCcmbHQ7JykucmVwbGFjZSgvXiAgICAvZ20sJycpICsgJzwvY29kZT48L3ByZT4nICsgYXBwZW5kOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihsaXRlcmFsICYmIC9xdW90ZS8udGVzdCh0eXBlKSkgcmV0dXJuICc8YmxvY2txdW90ZT4nICsgcmVwbGFjZS5yZXBsYWNlKC88L2csJyZsdDsnKS5yZXBsYWNlKC9ePi9nbSwnJykgKyAnPC9ibG9ja3F1b3RlPic7CiAgICAgICAgICAgICAgICAgICAgaWYobGl0ZXJhbCkgcmV0dXJuICc8Y29kZT4nICsgcmVwbGFjZS5yZXBsYWNlKC88L2csJyZsdDsnKS5yZXBsYWNlKC8oPzpeYHxgJCkvZywnJykgKyAnPC9jb2RlPic7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICB9OwogICAgICAgIAogICAgICAgIC8vIEhhbmRsZSBwaXBlIG91dHB1dAogICAgICAgIEFwcC5waXBlTW9kcy5vdXRwdXQgPSBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnRpdGxlLnZhbChkYXRhLnRpdGxlKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuYm9keS52YWwoZGF0YS5ib2R5LnJlcGxhY2UoL1xuezMsfS8sJ1xuXG4nKSk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnN1bW1hcnkudmFsKGRhdGEuc3VtbWFyeSk7CiAgICAgICAgICAgIEFwcC5nbG9iYWxzLnJvb3QuZmluZCgnLmFjdHVhbC1lZGl0LW92ZXJsYXknKS5yZW1vdmUoKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuc3VtbWFyeS5jc3Moe29wYWNpdHk6MX0pOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5idXR0b25JbmZvLnRleHQoQXBwLmdsb2JhbHMuY2hhbmdlcykuc2hvdygpOwogICAgICAgICAgICBTdGFja0V4Y2hhbmdlLk1hcmtkb3duRWRpdG9yLnJlZnJlc2hBbGxQcmV2aWV3cygpOwogICAgICAgIH07CgogICAgICAgIC8vIEluaXQgYXBwCiAgICAgICAgQXBwLmluaXQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGNvdW50ID0gMDsKICAgICAgICAgICAgdmFyIHRvb2xiYXJjaGsgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYoKytjb3VudCA9PT0gMTApIGNsZWFySW50ZXJ2YWwodG9vbGJhcmNoayk7CiAgICAgICAgICAgICAgICBpZighQXBwLmdsb2JhbHMucm9vdC5maW5kKCcud21kLWJ1dHRvbi1yb3cnKS5sZW5ndGgpIHJldHVybjsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodG9vbGJhcmNoayk7CiAgICAgICAgICAgICAgICBBcHAuZnVuY3MucG9wU2VsZWN0aW9ucygpOwogICAgICAgICAgICAgICAgQXBwLmZ1bmNzLmNyZWF0ZUJ1dHRvbigpOwogICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICByZXR1cm4gQXBwOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBBcHAuaW5pdCgpOwogICAgfQogICAgdHJ5IHsKICAgICAgICB2YXIgdGVzdCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKC8ucG9zdHMuKFxkKykuZWRpdC8pOwogICAgICAgIGlmKHRlc3QpIGV4dGVuZEVkaXRvcigkKCdmb3JtW2FjdGlvbl49Ii9wb3N0cy8nICsgdGVzdFsxXSArICciXScpKTsKICAgICAgICBlbHNlICQoZG9jdW1lbnQpLmFqYXhDb21wbGV0ZShmdW5jdGlvbigpIHsgCiAgICAgICAgICAgIHRlc3QgPSBhcmd1bWVudHNbMl0udXJsLm1hdGNoKC9wb3N0cy4oXGQrKS5lZGl0LWlubGluZS8pOwogICAgICAgICAgICBpZighdGVzdCkgewogICAgICAgICAgICAgICAgdGVzdCA9IGFyZ3VtZW50c1syXS51cmwubWF0Y2goL3Jldmlldy5pbmxpbmUtZWRpdC1wb3N0Lyk7CiAgICAgICAgICAgICAgICBpZighdGVzdCkgcmV0dXJuOwogICAgICAgICAgICAgICAgdGVzdCA9IGFyZ3VtZW50c1syXS5kYXRhLm1hdGNoKC9pZD0oXGQrKS8pOwogICAgICAgICAgICAgICAgaWYoIXRlc3QpIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBleHRlbmRFZGl0b3IoJCgnZm9ybVthY3Rpb25ePSIvcG9zdHMvJyArIHRlc3RbMV0gKyAnIl0nKSk7CiAgICAgICAgfSk7CiAgICAgICAgaWYoJCgnI3Bvc3QtZm9ybScpLmxlbmd0aCkgJCgnI3Bvc3QtZm9ybScpLmVhY2goZnVuY3Rpb24oKXsgZXh0ZW5kRWRpdG9yKCQodGhpcykpOyB9KTsKICAgICAgICAvLyBUaGlzIGlzIHRoZSBzdHlsaW5nIGZvciB0aGUgZGlmZiBvdXRwdXQuCiAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPHN0eWxlPicgKwogICAgICAgICAgICAgICAgICAgICAgICAgJy5kaWZmdGl0bGUgeycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICBjb2xvcjogcmdiKDM0LCAzNCwgMzQpOycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICBmb250LXNpemU6IDI0cHg7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIGxpbmUtaGVpZ2h0OiAzNnB4OycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICBtYXJnaW4tYm90dG9tOiAxMnB4OycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJ30nICsKICAgICAgICAgICAgICAgICAgICAgICAgICcuZGlmZmJvZHkgeycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIGZvbnQtZmFtaWx5OiAiY291cmllciBuZXciLCAibHVjaWRhIHNhbnMgdHlwZXdyaXRlciIsIG1vbm8sIG1vbm9zcGFjZScgKyAKICAgICAgICAgICAgICAgICAgICAgICAgICd9JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnLmFkZCB7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIGJhY2tncm91bmQ6ICNDRkM7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnfScgKwogICAgICAgICAgICAgICAgICAgICAgICAgJy5kZWwgeycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICBiYWNrZ3JvdW5kOiAjRkNDOycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJ30nICsKICAgICAgICAgICAgICAgICAgICAgICAgICc8L3N0eWxlPicpOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgfQp9KSgpOwoKLyogCiAgKiBUbyBUaXRsZSBDYXNlIDIuMSDigJMgaHR0cDovL2luZGl2aWRlZC5jb20vY29kZS90by10aXRsZS1jYXNlLwogICogQ29weXJpZ2h0IMKpIDIwMDjigJMyMDEzIERhdmlkIEdvdWNoLiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuCiAqLwoKU3RyaW5nLnByb3RvdHlwZS50b1RpdGxlQ2FzZSA9IGZ1bmN0aW9uKCl7CiAgdmFyIHNtYWxsV29yZHMgPSAvXihhfGFufGFuZHxhc3xhdHxidXR8Ynl8ZW58Zm9yfGlmfGlufG5vcnxvZnxvbnxvcnxwZXJ8dGhlfHRvfHZzP1wuP3x2aWEpJC9pOwoKICByZXR1cm4gdGhpcy5yZXBsYWNlKC9bQS1aYS16MC05XHUwMEMwLVx1MDBGRl0rW15ccy1dKi9nLCBmdW5jdGlvbihtYXRjaCwgaW5kZXgsIHRpdGxlKXsKICAgIGlmIChpbmRleCA+IDAgJiYgaW5kZXggKyBtYXRjaC5sZW5ndGggIT09IHRpdGxlLmxlbmd0aCAmJgogICAgICBtYXRjaC5zZWFyY2goc21hbGxXb3JkcykgPiAtMSAmJiB0aXRsZS5jaGFyQXQoaW5kZXggLSAyKSAhPT0gIjoiICYmCiAgICAgICh0aXRsZS5jaGFyQXQoaW5kZXggKyBtYXRjaC5sZW5ndGgpICE9PSAnLScgfHwgdGl0bGUuY2hhckF0KGluZGV4IC0gMSkgPT09ICctJykgJiYKICAgICAgdGl0bGUuY2hhckF0KGluZGV4IC0gMSkuc2VhcmNoKC9bXlxzLV0vKSA8IDApIHsKICAgICAgcmV0dXJuIG1hdGNoLnRvTG93ZXJDYXNlKCk7CiAgICB9CgogICAgaWYgKG1hdGNoLnN1YnN0cigxKS5zZWFyY2goL1tBLVpdfFwuLi8pID4gLTEpIHsKICAgICAgcmV0dXJuIG1hdGNoOwogICAgfQoKICAgIHJldHVybiBtYXRjaC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG1hdGNoLnN1YnN0cigxKTsKICB9KTsKfTsK"},{"name":"@Closey command auto complete","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://chat.stackoverflow.com/rooms/41570/so-close-vote-reviewers"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"ts":1450312190475,"data":{}},"enabled":true,"position":7,"file_url":"https://raw.githubusercontent.com/SO-Close-Vote-Reviewers/UserScripts/master/BotCommands.user.js","uuid":"e2d25a62-85bf-4485-bab9-bf6e3d090aaa","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBAQ2xvc2V5IGNvbW1hbmQgYXV0byBjb21wbGV0ZQovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9TTy1DbG9zZS1Wb3RlLVJldmlld2Vycy9Vc2VyU2NyaXB0cwovLyBAdmVyc2lvbiAgICAgIDAuMgovLyBAZGVzY3JpcHRpb24gIGNvbW1hbmQgY29tcGxldGlvbiBmb3IgYm90IGNvbW1hbmRzCi8vIEBhdXRob3IgICAgICAgcmVuZQovLyBAbWF0Y2ggICAgICAgICo6Ly9jaGF0LnN0YWNrb3ZlcmZsb3cuY29tL3Jvb21zLzQxNTcwL3NvLWNsb3NlLXZvdGUtcmV2aWV3ZXJzCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qZ2xvYmFsICQ6ZmFsc2UsIGRvY3VtZW50OmZhbHNlLCBjb25zb2xlOmZhbHNlICovCmZ1bmN0aW9uIHN0YXJ0QXV0b0NvbXBsZXRlKGpxdWVyeSkgewogICJ1c2Ugc3RyaWN0IjsKICAgIGlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsICdzdGFydHNXaXRoJywgewogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLCAgIAogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHsKICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gfHwgMDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhc3RJbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pID09PSBwb3NpdGlvbjsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIHZhciAkID0ganF1ZXJ5LAogICAgICAgIGlucCA9ICQoJyNpbnB1dCcpLCAgLy8gd2hlcmUgd2UgdHlwZSBtZXNzYWdlcwogICAgICAgIHBhcnNlID0gLyhAY2xvc2V5XHMrKShbXHd8XFddKykvaSwgLy8gLy9wYXJzZSBib3RuYW1lIGFuZCBjb21tYW5kcwogICAgICAgIGNtZHMgPSBbCiAgICAgICAgICAgICAvLyBwdWJsaWMKICAgICAgICAgICAgJ2FsaXZlJywKICAgICAgICAgICAgJ2NvbW1hbmRzJywKICAgICAgICAgICAgJ2hlbHAnLAogICAgICAgICAgICAncnVubmluZyBjb21tYW5kcycsCiAgICAgICAgICAgICdzdGF0dXMnLAogICAgICAgICAgICAgLy8gUmVnaXN0ZXJlZAogICAgICAgICAgICAnYXVkaXQgc3RhdHMnLCAvLyAtIFNob3dzIHN0YXRzIGFib3V0IHlvdXIgcmVjb3JkZWQgYXVkaXRzLgogICAgICAgICAgICAnY29tcGxldGVkIHRhZ3MnLCAvLyBbbWluIDwjPl0gLSBTaG93cyB0aGUgbGF0ZXN0IHRhZ3MgdGhhdCBoYXZlIGJlZW4gY29tcGxldGVkIGJ5IG11bHRpcGxlIHBlb3BsZS4KICAgICAgICAgICAgJ2N1cnJlbnQgc2Vzc2lvbicsIC8vIC0gVGVsbHMgaWYgdGhlIHVzZXIgaGFzIGFuIG9wZW4gc2Vzc2lvbiBvciBub3QsIGFuZCB3aGVuIGl0IHN0YXJ0ZWQuCiAgICAgICAgICAgICdjdXJyZW50IHRhZycsIC8vIC0gR2V0IHRoZSB0YWcgdGhhdCBoYXMgdGhlIG1vc3QgYW1vdW50IG9mIG1hbmFnZWFibGUgY2xvc2UgcXVldWUgaXRlbXMgZnJvbSB0aGUgU0VERSBxdWVyeS4KICAgICAgICAgICAgJ2VuZCBzZXNzaW9uJywgLy8gLSBJZiBhIHVzZXIgaGFzIGFuIG9wZW4gcmV2aWV3IHNlc3Npb24gdGhpcyBjb21tYW5kIHdpbGwgZm9yY2UgZW5kIHRoYXQgc2Vzc2lvbi4KICAgICAgICAgICAgJ2xhc3Qgc2Vzc2lvbiBzdGF0cycsIC8vIC0gU2hvd3Mgc3RhdHMgYWJvdXQgeW91ciBsYXN0IHJldmlldyBzZXNzaW9uLgogICAgICAgICAgICAnbGFzdCBzZXNzaW9uIGVkaXQgY291bnQnLCAvLyA8bmV3IGNvdW50PiAtIEVkaXRzIHRoZSBudW1iZXIgb2YgcmV2aWV3ZWQgaXRlbXMgaW4geW91ciBsYXN0IHJldmlldyBzZXNzaW9uLgogICAgICAgICAgICAnbmV4dCcsIC8vIDwjPiB0YWdzIC0gRGlzcGxheXMgdGhlIGZpcnN0IFggdGFncyBmcm9tIHRoZSBTRURFIHF1ZXJ5IHRvIGZvY3VzIG9uLgogICAgICAgICAgICAncmVmcmVzaCB0YWdzJywgLy8gLSBGb3JjZXMgYSByZWZyZXNoIG9mIHRoZSB0YWdzIG9idGFpbmVkIGZyb20gdGhlIFNFREUgcXVlcnkuCiAgICAgICAgICAgICdzdGFydCBldmVudCcsIC8vIC0gU2hvd3MgdGhlIGN1cnJlbnQgc3RhdHMgZnJvbSB0aGUgL3Jldmlldy9jbG9zZS9zdGF0cyBwYWdlIGFuZCB0aGUgbmV4dCAzIHRhZ3MgdG8gd29yayBvbi4KICAgICAgICAgICAgJ3N0YXJ0aW5nJywgLy8gLSBJbmZvcm1zIHRoZSBjaGF0Ym90IHRoYXQgeW91IGFyZSBzdGFydGluZyBhIG5ldyByZXZpZXcgc2Vzc2lvbi4KICAgICAgICAgICAgJ3N0YXRzJywgLy8gLSBTaG93cyB0aGUgc3RhdHMgYXQgdGhlIHRvcCBvZiB0aGUgL3Jldmlldy9jbG9zZS9zdGF0cyBwYWdlLgogICAgICAgICAgICAvLyBvd25lcgogICAgICAgICAgICAnYWRkIHVzZXInLAogICAgICAgICAgICAndHJhY2sgdXNlcicsIC8vIDxjaGF0IGlkPiAtIEFkZHMgdGhlIHVzZXIgdG8gdGhlIHJlZ2lzdGVyZWQgdXNlcnMgbGlzdC4KICAgICAgICAgICAgJ3N0b3AgYm90Jy8vIC0gVGhlIGJvdCB3aWxsIGxlYXZlIHRoZSBjaGF0IHJvb20gYW5kIHF1aXQgdGhlIHJ1bm5pbmcgYXBwbGljYXRpb24uCiAgICAgICAgXTsgLy8gYWxsIGtub3duIGNvbW1hbmRzCgogICAgLy8gY2xlYXIgYWxsIGhpbnRzIGFuZCByZW1vdmUgY2xpY2sgaGFuZGxlcnMKICAgIGZ1bmN0aW9uIGNsZWFySGludHMoKSB7CiAgICAgICAgJCgnI2Nsb3NleScpLmZpbmQoJ2xpJykuZWFjaChmdW5jdGlvbiAoKSB7ICQodGhpcykub2ZmKCdjbGljaycpOyB9KTsKICAgICAgICAkKCcjY2xvc2V5JykucmVtb3ZlKCk7CiAgICB9CgogICAgLy8gcHV0IHRoZSBjaG9vc2UgaGludCBpbiB0aGUgY2hhdCBtZXNzYWdlIHRleHQgYXJlYQogICAgZnVuY3Rpb24gY29tcGxldGUoYm90LCBjb21tYW5kKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaW5wLnZhbChib3QgKyBjb21tYW5kKTsKICAgICAgICAgICAgY2xlYXJIaW50cygpOwogICAgICAgIH07CiAgICB9CgogICAgLy8gYnVpbGQgb24gc2luZ2xlIGxlIHRoYXQgaG9sZHMgdGhlIGhpbnQKICAgIGZ1bmN0aW9uIGJ1aWxkSGludCh2YWx1ZSwgYm90KSB7CiAgICAgICAgdmFyIGxpID0gJCgnPGxpPjwvbGk+JykKICAgICAgICAgICAgLmNzcygnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKQogICAgICAgICAgICAuY3NzKCdtYXJnaW4tbGVmdCcsICczcHgnKQogICAgICAgICAgICAuY3NzKCdtYXJnaW4tcmlnaHQnLCAnM3B4JykKICAgICAgICAgICAgLmNzcygncGFkZGluZycsICcycHgnKQogICAgICAgICAgICAuY3NzKCdib3JkZXInLCAnc29saWQgMXB4IGJsdWUnKQogICAgICAgICAgICAudGV4dCh2YWx1ZSk7CiAgICAgICAgbGkub24oJ2NsaWNrJywgY29tcGxldGUoYm90LCB2YWx1ZSkpOwogICAgICAgIHJldHVybiBsaTsKICAgIH0KCiAgICBmdW5jdGlvbiBoaWdobGlnaHQobGkpIHsKICAgICAgICBsaS5hZGRDbGFzcygndGFiJyk7CiAgICAgICAgbGkuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJ3llbGxvdycpOwogICAgICAgIHJldHVybiBsaS50ZXh0KCk7CiAgICB9CiAgICBmdW5jdGlvbiBoaWdobGlnaHROZXh0SGludCgpIHsKICAgICAgICB2YXIgc2V0bmV4dCA9IGZhbHNlLAogICAgICAgICAgICBsaWYsCiAgICAgICAgICAgIHNlbGVjdGVkOwogICAgICAgICQoJyNjbG9zZXknKS5maW5kKCdsaScpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbGkgPSAkKHRoaXMpOwogICAgICAgICAgICBpZiAobGkuaGFzQ2xhc3MoJ3RhYicpKSB7CiAgICAgICAgICAgICAgICBzZXRuZXh0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGxpLnJlbW92ZUNsYXNzKCd0YWInKTsKICAgICAgICAgICAgICAgIGxpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICd3aGl0ZScpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHNldG5leHQpIHsKICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IGhpZ2hsaWdodChsaSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCFzZXRuZXh0KSB7CiAgICAgICAgICAgIGxpZiA9ICQoJyNjbG9zZXknKS5maW5kKCdsaScpOwogICAgICAgICAgICBpZiAobGlmLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gaGlnaGxpZ2h0KCQobGlmWzBdKSk7CiAgICAgICAgICAgICAgICBzZXRuZXh0ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7CiAgICB9CgogICAgZnVuY3Rpb24gaGFuZGxlS2V5KGNtZCwgYm90KSB7CiAgICAgICAgdmFyIGJvdGNtZCwKICAgICAgICAgICAgYywKICAgICAgICAgICAgY29udGFpbmVyOwoKICAgICAgICBjbGVhckhpbnRzKCk7CiAgICAgICAgY29udGFpbmVyID0gJCgnPHVsIGlkPSJjbG9zZXkiPjwvdWw+JykuY3NzKCd0ZXh0LWFsaWduJywgJ2xlZnQnKTsKICAgICAgICBmb3IgKGMgPSAwOyBjIDwgY21kcy5sZW5ndGg7IGMgPSBjICsgMSkgewogICAgICAgICAgICBib3RjbWQgPSBjbWRzW2NdOwogICAgICAgICAgICBpZiAoYm90Y21kLnN0YXJ0c1dpdGgoY21kKSAmJiBib3RjbWQgIT09IGNtZCkgewogICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChidWlsZEhpbnQoYm90Y21kLCBib3QpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkKCcjdGFiY29tcGxldGUtY29udGFpbmVyJykuYXBwZW5kKGNvbnRhaW5lcik7CiAgICB9CgogICAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoaykgewogICAgICAgIHZhciBCT1QgPSAxLAogICAgICAgICAgICBDT01NQU5EID0gMiwKICAgICAgICAgICAgcmVzdWx0ID0gcGFyc2UuZXhlYyhpbnAudmFsKCkpLAogICAgICAgICAgICBzZWxlY3RlZDsKCiAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCAmJgogICAgICAgICAgICAgICAgcmVzdWx0Lmxlbmd0aCA+IENPTU1BTkQgJiYKICAgICAgICAgICAgICAgIGsua2V5Q29kZSA9PT0gOSkgewogICAgICAgICAgICBzZWxlY3RlZCA9IGhpZ2hsaWdodE5leHRIaW50KCk7CiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBrLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBrLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgaW5wLnZhbChyZXN1bHRbQk9UXSArIHNlbGVjdGVkKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgogICAgaW5wLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIEJPVCA9IDEsCiAgICAgICAgICAgIENPTU1BTkQgPSAyLAogICAgICAgICAgICByZXN1bHQgPSBwYXJzZS5leGVjKGUucmVzdWx0KTsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgIGlmIChlLmtleUNvZGUgIT09IDkpIHsKICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCAmJgogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5sZW5ndGggPiBDT01NQU5EKSB7CiAgICAgICAgICAgICAgICBoYW5kbGVLZXkocmVzdWx0W0NPTU1BTkRdLCByZXN1bHRbQk9UXSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjbGVhckhpbnRzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKfQoKZnVuY3Rpb24gZ2V0SnF1ZXJ5KCkgewogICJ1c2Ugc3RyaWN0IjsKICAgIHJldHVybiAkIHx8IHVuc2FmZVdpbmRvdy5qUXVlcnk7Cn0KCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywKICAgIGZ1bmN0aW9uKCkgewogICAgICAgIHN0YXJ0QXV0b0NvbXBsZXRlKGdldEpxdWVyeSgpKTsKICAgIH0pOwo="},{"name":"Unclosed Request Review Script","options":{"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"user_agent":"","override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://chat.stackoverflow.com/rooms/41570/*","*://chat.stackoverflow.com/search?q=tagged%2Fcv-pls&Room=41570&page=*&pagesize=50&sort=newest"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]}},"storage":{"ts":1450746464288,"data":{}},"enabled":true,"position":8,"file_url":"https://raw.githubusercontent.com/SO-Close-Vote-Reviewers/UserScripts/master/UnclosedRequestReview.user.js","uuid":"ea33379b-d41e-4b0a-8231-2ab1c5a6b70f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBVbmNsb3NlZCBSZXF1ZXN0IFJldmlldyBTY3JpcHQKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vZ2l0aHViLmNvbS9UaW55LUdpYW50Ci8vIEB2ZXJzaW9uICAgICAgMS4wLjAuNwovLyBAZGVzY3JpcHRpb24gIEFkZHMgYSBidXR0b24gdG8gdGhlIGNoYXQgYnV0dG9ucyBjb250cm9sczsgY2xpY2tpbmcgb24gdGhlIGJ1dHRvbiB0YWtlcyB5b3UgdG8gdGhlIHJlY2VudCB1bmNsb3NlZCBjbG9zZSB2b3RlIHJlcXVlc3QgcXVlcnksIHRoZW4gaXQgc2NhbnMgdGhlIHJlc3VsdHMgIGZvciBjbG9zZWQgb3IgZGVsZXRlZCByZXF1ZXN0cywgb3IgZmFsc2UgcG9zaXRpdmVzIGFuZCBoaWRlcyB0aGVtLgovLyBAYXV0aG9yICAgICAgIEBUaW55R2lhbnQKLy8gQG1hdGNoICAgICAgICAqOi8vY2hhdC5zdGFja292ZXJmbG93LmNvbS9yb29tcy80MTU3MC8qCi8vIEBtYXRjaCAgICAgICAgKjovL2NoYXQuc3RhY2tvdmVyZmxvdy5jb20vc2VhcmNoP3E9dGFnZ2VkJTJGY3YtcGxzJlJvb209NDE1NzAmcGFnZT0qJnBhZ2VzaXplPTUwJnNvcnQ9bmV3ZXN0Ci8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gPT0vVXNlclNjcmlwdD09Ci8qIGpzaGludCAtVzA5NyAqLwoKaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnKSB7CiAgICB2YXIgcmVnZXhlcyA9IFsKICAgICAgICAvKD86dGFnZ2VkXC9jdi1wbCg/OmVhc2V8c3x6KXxcW2N2LXBsKD86ZWFzZXxzfHopXF0pLiooPzpxW15cL10qfHBvc3RzKVwvKFxkKykvLAogICAgICAgIC8oPzpxW15cL10qfHBvc3RzKVwvKFxkKykuKig/OnRhZ2dlZFwvY3YtcGwoPzplYXNlfHN8eil8XFtjdi1wbCg/OmVhc2V8c3x6KVxdKS8sCiAgICBdLCBwb3N0LCBtZXNzYWdlLCBpZCwgcmxlbjsKICAgIHZhciByZXF1ZXN0cyA9IFtdOwogICAgdmFyIGNsb3NlZCA9IFtdOwogICAgdmFyIG9wZW4gPSBbXTsKICAgICAgICAKICAgIGZ1bmN0aW9uIGFwcGVuZEluZm8oc2NvcGUsIGluZm8pIHsKICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICBub2RlLmNsYXNzTmFtZSA9ICdyZXF1ZXN0LWluZm8gbWVzc2FnZXMnOwogICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBpbmZvLnNjb3JlICsgJyAoKycgKyBpbmZvLnVwX3ZvdGVfY291bnQgKyAnLy0nICsgaW5mby5kb3duX3ZvdGVfY291bnQgKyAnKSBjOignICsgaW5mby5jbG9zZV92b3RlX2NvdW50ICsgJykgdjooJyArIGluZm8udmlld19jb3VudCArICcpJzsKICAgICAgICBzY29wZS5hcHBlbmRDaGlsZChub2RlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7CiAgICAgICAgZm9yKHZhciBpIGluIG9wZW4pIHsKICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9wZW5baV0ubXNnLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgaWYoKC9cZCsvLmV4ZWMocGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VybmFtZSBhW2hyZWZePSIvdXNlciJdJykuaHJlZil8fFtmYWxzZV0pWzBdID09PSBtZSkgewogICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYXBwZW5kSW5mbyhvcGVuW2ldLm1zZywgb3BlbltpXS5pbmZvKTsKICAgICAgICB9CiAgICAgICAgZm9yKHZhciBqIGluIGNsb3NlZCkgewogICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGNsb3NlZFtqXS5tc2c7CiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBtZXNzYWdlLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgbWVzc2FnZS5yZW1vdmUoKTsKICAgICAgICAgICAgaWYoIXBhcmVudC5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZScpKSBwYXJlbnQucmVtb3ZlKCk7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250ZW50IGEnKTsKICAgICAgICBmb3IodmFyIGkgaW4gT2JqZWN0LmtleXMobGlua3MpKSBsaW5rc1tpXS50YXJnZXQgPSAiX2JsYW5rIjsKICAgIH0KCiAgICBmdW5jdGlvbiBmb3JtYXRQb3N0cyhhcnIpIHsKICAgICAgICB2YXIgdG1wID0gW107CiAgICAgICAgZm9yKHZhciBpIGluIGFycikgdG1wLnB1c2goYXJyW2ldLnBvc3QpOwogICAgICAgIHJldHVybiB0bXAuam9pbignOycpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNodW5rQXJyYXkoYXJyLCBsZW4pIHsKICAgICAgICB2YXIgdG1wID0gW107CiAgICAgICAgdmFyIG51bSA9IE1hdGguY2VpbChhcnIubGVuZ3RoIC8gbGVuKTsKICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbnVtOyArK2kpIHsKICAgICAgICAgICAgdG1wLnB1c2goW10pOwogICAgICAgIH0KICAgICAgICB2YXIgaW5kID0gMDsKICAgICAgICBmb3IodmFyIGogaW4gYXJyKSB7CiAgICAgICAgICAgIGlmKGogPiAwICYmICEoaiAlIGxlbikpICsraW5kOwogICAgICAgICAgICB0bXBbaW5kXS5wdXNoKGFycltqXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0bXA7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNoZWNrUmVxdWVzdHMoKSB7CiAgICAgICAgdmFyIGN1cnJlbnRyZXEgPSByZXF1ZXN0cy5wb3AoKTsKCiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoKICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmKHRoaXMuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICAgICAgICAgICAgY2hlY2tEb25lKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciByZXNwb25zZSA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZSk7CiAgICAgICAgICAgIHZhciBpdGVtcyA9IHJlc3BvbnNlLml0ZW1zOwoKICAgICAgICAgICAgZm9yKHZhciBpIGluIGl0ZW1zKSB7CiAgICAgICAgICAgICAgICBpZighaXRlbXNbaV0uY2xvc2VkX2RhdGUpIHsKICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogaW4gY3VycmVudHJlcSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50cmVxW2pdLnBvc3QgPT0gaXRlbXNbaV0ucXVlc3Rpb25faWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4ucHVzaCh7IG1zZzogY3VycmVudHJlcVtqXS5tc2csIGluZm86IGl0ZW1zW2ldIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRyZXFbal07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yKHZhciBpIGluIGN1cnJlbnRyZXEpIGNsb3NlZC5wdXNoKGN1cnJlbnRyZXFbaV0pOwoKICAgICAgICAgICAgaWYoIXJlcXVlc3RzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgY2hlY2tEb25lKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNldFRpbWVvdXQoY2hlY2tSZXF1ZXN0cywgcmVzcG9uc2UuYmFja29mZiAqIDEwMDApOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vYXBpLnN0YWNrZXhjaGFuZ2UuY29tLzIuMi9xdWVzdGlvbnMvJyArIGZvcm1hdFBvc3RzKGN1cnJlbnRyZXEpICsgJz8nICsgWwogICAgICAgICAgICAncGFnZXNpemU9MTAwJywKICAgICAgICAgICAgJ3NpdGU9c3RhY2tvdmVyZmxvdycsCiAgICAgICAgICAgICdrZXk9WXZ2a2ZCYzNMT1NLKm13YVRQa1VWUSgoJywKICAgICAgICAgICAgJ2ZpbHRlcj0hKjFTZ1FHRE1BOHFMRXR2OGlxUUNBdmgxdFgyV0RFcmU1ZzBmRXJkUW4nCiAgICAgICAgXS5qb2luKCcmJyk7CgogICAgICAgIHhoci5vcGVuKCJHRVQiLCB1cmwpOwoKICAgICAgICB4aHIuc2VuZCgpOwogICAgfQogICAgCiAgICB2YXIgc2NvcGUgPSBkb2N1bWVudC5ib2R5OwogICAgCiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7CiAgICBzdHlsZS50ZXh0Q29udGVudCA9IFsKICAgICAgICAnLnJlcXVlc3QtaW5mbyB7JywKICAgICAgICAnICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsnLAogICAgICAgICcgICAgcG9zaXRpb246IGFic29sdXRlOycsCiAgICAgICAgJyAgICB0b3A6IC02cHg7JywKICAgICAgICAnICAgIGxlZnQ6IDEwMCU7JywKICAgICAgICAnICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7JywKICAgICAgICAnICAgIHBhZGRpbmc6IDZweCAxMHB4OycsCiAgICAgICAgJyAgICB3aWR0aDogYXV0bzsnLAogICAgICAgICcgICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCAjZmY3YjE4OycsCiAgICAgICAgJ30nLAogICAgICAgICcuY29udGVudCBhOnZpc2l0ZWQgeycsCiAgICAgICAgJyAgICBjb2xvcjogIzA0ODBERTsnLAogICAgICAgICd9JwogICAgXS5qb2luKCdcbicpOwogICAgc2NvcGUuYXBwZW5kQ2hpbGQoc3R5bGUpOwoKICAgIHZhciBtZSA9ICgvXGQrLy5leGVjKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3BiYXItbWVudS1saW5rcyBhW2hyZWZePSIvdXNlcnMiXScpLmhyZWYpfHxbZmFsc2VdKVswXTsKCiAgICB2YXIgbWVzc2FnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVzc2FnZScpOwoKICAgIGZvcih2YXIgaSBpbiBPYmplY3Qua2V5cyhtZXNzYWdlcykpIHsKICAgICAgICBtZXNzYWdlID0gKG1lc3NhZ2VzW2ldLnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JykuaW5uZXJIVE1MfHwnJykudHJpbSgpOwogICAgICAgIGlmICghbWVzc2FnZSkgY29udGludWU7CiAgICAgICAgdmFyIGlzcmVxID0gZmFsc2U7CiAgICAgICAgZm9yKHZhciBqIGluIHJlZ2V4ZXMpIHsKICAgICAgICAgICAgaWYocmVnZXhlc1tqXS50ZXN0KG1lc3NhZ2UpKSB7CiAgICAgICAgICAgICAgICBpc3JlcSA9IHRydWU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoIWlzcmVxKSB7CiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBtZXNzYWdlc1tpXS5wYXJlbnROb2RlLnBhcmVudE5vZGU7CiAgICAgICAgICAgIG1lc3NhZ2VzW2ldLnJlbW92ZSgpOwogICAgICAgICAgICBpZighcGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXNzYWdlJykpIHBhcmVudC5yZW1vdmUoKTsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIHZhciBtYXRjaGVzID0gL2h0dHAuKj8oPzpxW15cL10qfHBvc3RzKVwvKFxkKykvZy5leGVjKG1lc3NhZ2UpOwogICAgICAgIG1hdGNoZXMuc2hpZnQoKTsKICAgICAgICB2YXIgcG9zdHMgPSBbXTsKICAgICAgICBmb3IodmFyIGsgaW4gT2JqZWN0LmtleXMobWF0Y2hlcykpIHsKICAgICAgICAgICAgaWYoIW1hdGNoZXNba10pIGNvbnRpbnVlOwogICAgICAgICAgICBwb3N0cy5wdXNoKG1hdGNoZXNba10pOwogICAgICAgIH0KICAgICAgICBmb3IodmFyIGwgaW4gcG9zdHMpIHJlcXVlc3RzLnB1c2goeyBtc2c6IG1lc3NhZ2VzW2ldLCBwb3N0OiBwb3N0c1tsXX0pOwogICAgfQogICAgcmxlbiA9IHJlcXVlc3RzLmxlbmd0aDsKICAgIHJlcXVlc3RzID0gY2h1bmtBcnJheShyZXF1ZXN0cywgMTAwKTsKCiAgICBjaGVja1JlcXVlc3RzKCk7Cn0gZWxzZSB7CiAgICB2YXIgbm9kZXMgPSB7fTsKCiAgICBub2Rlcy5zY29wZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGF0LWJ1dHRvbnMnKTsKCiAgICBub2Rlcy5zY29wZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTsKCiAgICBub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgIG5vZGVzLmJ1dHRvbi5jbGFzc05hbWUgPSAnYnV0dG9uIHJlcXVlc3RzLWJ1dHRvbic7CiAgICBub2Rlcy5idXR0b24udGV4dENvbnRlbnQgPSAncmVxdWVzdHMnOwogICAgbm9kZXMuc2NvcGUuYXBwZW5kQ2hpbGQobm9kZXMuYnV0dG9uKTsKCiAgICBub2Rlcy5zY29wZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTsKCiAgICBub2Rlcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpewogICAgICAgIHdpbmRvdy5vcGVuKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3NlYXJjaD9xPXRhZ2dlZCUyRmN2LXBscyZSb29tPTQxNTcwJnBhZ2U9MSZwYWdlc2l6ZT01MCZzb3J0PW5ld2VzdCcpOwogICAgfSwgZmFsc2UpOwp9Cgo="},{"name":"Spam Reporter","options":{"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"user_agent":"","override":{"use_includes":[],"orig_includes":["/^https?:\\/\\/\\w*.?(stackexchange.com|stackoverflow.com|serverfault.com|superuser.com|askubuntu.com|stackapps.com|mathoverflow.net)\\/q(uestions)?\\/\\d+/"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1450835843056,"data":{}},"enabled":true,"position":9,"file_url":"https://raw.githubusercontent.com/Tiny-Giant/myuserscripts/master/SpamReporter.user.js","uuid":"f5f2e031-067d-4fb2-a7d7-caa2c91a8956","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBTcGFtIFJlcG9ydGVyCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL2dpdGh1Yi5jb20vVGlueS1HaWFudAovLyBAdmVyc2lvbiAgICAgIDEuMC4wLjAKLy8gQGRlc2NyaXB0aW9uICBBZGRzIGEgbGluayB0byB0aGUgcG9zdCBtZW51IGZvciBtb3N0IHBvc3RzLiAKLy8gQGF1dGhvciAgICAgICBAVGlueUdpYW50Ci8vIEBpbmNsdWRlICAgICAgL15odHRwcz86XC9cL1x3Ki4/KHN0YWNrZXhjaGFuZ2UuY29tfHN0YWNrb3ZlcmZsb3cuY29tfHNlcnZlcmZhdWx0LmNvbXxzdXBlcnVzZXIuY29tfGFza3VidW50dS5jb218c3RhY2thcHBzLmNvbXxtYXRob3ZlcmZsb3cubmV0KVwvcSh1ZXN0aW9ucyk/XC9cZCsvCi8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gPT0vVXNlclNjcmlwdD09Ci8qIGpzaGludCAtVzA5NyAqLwoKKGZ1bmN0aW9uKCl7CiAgICAndXNlIHN0cmljdCc7CgogICAgdmFyIG5vdGlmeSA9IChmdW5jdGlvbigpewogICAgICAgIHZhciBjb3VudCA9IDAsIHRpbWVvdXQ7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG0sdCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhtLHQpOwogICAgICAgICAgICBpZigkKCcjbm90aWZ5LScgKyBjb3VudCkubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7CiAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLm5vdGlmeS5jbG9zZShjb3VudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ub3RpZnkuc2hvdyhtLCsrY291bnQpOwogICAgICAgICAgICBpZih0KSB0aW1lb3V0ID0gc2V0VGltZW91dChTdGFja0V4Y2hhbmdlLm5vdGlmeS5jbG9zZS5iaW5kKG51bGwsY291bnQpLCB0KTsKICAgICAgICB9OwogICAgfSkoKTsKICAgIAogICAgdmFyIGVuZ2FnZSA9IGZ1bmN0aW9uKHNjb3BlKSB7CgogICAgICAgIGlmICghc2NvcGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB2YXIgcm9vbSA9IDQxNTcwOyAvLyB1c2UgNjg0MTQgZm9yIHRlc3RpbmcKICAgICAgICAKICAgICAgICB2YXIgcG9zdExpbmsgPSBzY29wZS5xdWVyeVNlbGVjdG9yKCcuc2hvcnQtbGluaycpLmhyZWY7CiAgICAgICAgCiAgICAgICAgdmFyIHJlcG9ydFNlbnQgPSBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgICAgIG5vdGlmeSgnRXJyb3Igc2VuZGluZyByZXF1ZXN0OiAnICsgcmVzcC5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBub3RpZnkoJ0Nsb3NlIHZvdGUgcmVxdWVzdCBzZW50LicsMTAwMCk7CiAgICAgICAgfTsKICAgICAgICAKICAgICAgICB2YXIgc2VuZFJlcG9ydCA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgbm90aWZ5KCdGYWlsZWQgc2VuZGluZyByZXBvcnQsIGNoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgZmtleSA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dC5tYXRjaCgvaGlkZGVuIiB2YWx1ZT0iKFtcZGFiY2RlZl17MzJ9KS8pWzFdOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFma2V5KSB7CiAgICAgICAgICAgICAgICBub3RpZnkoJ0ZhaWxlZCByZXRyaWV2aW5nIGtleSwgaXMgdGhlIHJvb20gVVJMIHZhbGlkPycpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgcmVwb3J0U3RyID0gJyEhL3JlcG9ydCAnICsgcG9zdExpbms7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2NoYXQuc3RhY2tvdmVyZmxvdy5jb20vY2hhdHMvJyArIHJvb20gKyAnL21lc3NhZ2VzL25ldycsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LAogICAgICAgICAgICAgICAgZGF0YTogJ3RleHQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChyZXBvcnRTdHIpICsgJyZma2V5PScgKyBma2V5LAogICAgICAgICAgICAgICAgb25sb2FkOiByZXBvcnRTZW50CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdChvcHRpb25zKTsKICAgICAgICB9OwogICAgICAgIAogICAgICAgIAogICAgICAgIHZhciByZXBvcnQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYoIWNvbmZpcm0oJ0RvIHlvdSByZWFsbHkgd2FudCB0byByZXBvcnQgdGhpcyBwb3N0PycpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywgCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vY2hhdC5zdGFja292ZXJmbG93LmNvbS9yb29tcy8nICsgcm9vbSwgCiAgICAgICAgICAgICAgICBvbmxvYWQ6IHNlbmRSZXBvcnQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KG9wdGlvbnMpOwogICAgICAgIH07CgogICAgICAgIHZhciBzZXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgc2VwLmNsYXNzTmFtZSA9ICdsc2VwJzsKICAgICAgICBzZXAudGV4dENvbnRlbnQgPSAnfCc7CiAgICAgICAgc2NvcGUuYXBwZW5kQ2hpbGQoc2VwKTsKICAgICAgICAKICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBsaW5rLmhyZWYgPSAnIyc7CiAgICAgICAgbGluay50ZXh0Q29udGVudCA9ICdyZXBvcnQnOwogICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXBvcnQsIGZhbHNlKTsKICAgICAgICBzY29wZS5hcHBlbmRDaGlsZChsaW5rKTsKICAgIH07CiAgICAKICAgIHZhciBtZW51cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3N0LW1lbnUnKTsKICAgIAogICAgZm9yKHZhciBpIGluIE9iamVjdC5rZXlzKG1lbnVzKSkgZW5nYWdlKG1lbnVzW2ldKTsKICAgIAogICAgJChkb2N1bWVudCkuYWpheENvbXBsZXRlKGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIHVybCA9IGFyZ3VtZW50c1syXS51cmw7CiAgICAgICAgaWYgKC9eXC9wb3N0c1wvYWpheC1sb2FkLXJlYWx0aW1lXC8vLnRlc3QodXJsKSkgZW5nYWdlKC9cZCsvLmV4ZWModXJsKVswXSk7CiAgICB9KTsKfSkoKTsK"}]}