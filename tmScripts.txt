{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Stack Exchange CV Request Generator","options":{"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"user_agent":"","override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/^https?:\\/\\/\\w*.?(stackoverflow|stackexchange|serverfault|superuser|askubuntu|stackapps)\\.com\\/(questions|posts|review|tools)\\/(?!tagged\\/|new\\/).*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]}},"storage":{"data":{},"ts":1456451831270},"enabled":true,"position":1,"file_url":"https://rawgit.com/SO-Close-Vote-Reviewers/UserScripts/master/SECloseVoteRequestGenerator.user.js","uuid":"92eb7581-a2c9-462d-af44-7eb8c903f8cb","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIFN0YWNrIEV4Y2hhbmdlIENWIFJlcXVlc3QgR2VuZXJhdG9yCi8vIEBuYW1lc3BhY2UgICAgICBodHRwczovL2dpdGh1Yi5jb20vU08tQ2xvc2UtVm90ZS1SZXZpZXdlcnMvCi8vIEB2ZXJzaW9uICAgICAgICAxLjUuNwovLyBAZGVzY3JpcHRpb24gICAgVGhpcyBzY3JpcHQgZ2VuZXJhdGVzIGZvcm1hdHRlZCBjbG9zZSB2b3RlIHJlcXVlc3RzIGFuZCBzZW5kcyB0aGVtIHRvIGEgc3BlY2lmaWVkIGNoYXQgcm9vbQovLyBAYXV0aG9yICAgICAgICAgQFRpbnlHaWFudAovLyBAaW5jbHVkZSAgICAgICAgL15odHRwcz86XC9cL1x3Ki4/KHN0YWNrb3ZlcmZsb3d8c3RhY2tleGNoYW5nZXxzZXJ2ZXJmYXVsdHxzdXBlcnVzZXJ8YXNrdWJ1bnR1fHN0YWNrYXBwcylcLmNvbVwvKHF1ZXN0aW9uc3xwb3N0c3xyZXZpZXd8dG9vbHMpXC8oPyF0YWdnZWRcL3xuZXdcLykuKi8KLy8gQHJlcXVpcmUgICAgICAgIGh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanMKLy8gQGdyYW50ICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vID09L1VzZXJTY3JpcHQ9PQoKaWYodHlwZW9mIFN0YWNrRXhjaGFuZ2UgPT09ICJ1bmRlZmluZWQiKQogICAgdmFyIFN0YWNrRXhjaGFuZ2UgPSB1bnNhZmVXaW5kb3cuU3RhY2tFeGNoYW5nZTsKCihmdW5jdGlvbigpewogICAgdmFyIHJlYXNvbnMgPSB7CiAgICAgICAgJ3QnOiAndG9vIGJyb2FkJywgCiAgICAgICAgJ3UnOiAndW5jbGVhcicsCiAgICAgICAgJ3AnOiAncG9iJywgCiAgICAgICAgJ2QnOiAnZHVwbGljYXRlJywKICAgICAgICAnbSc6ICdubyBtY3ZlJywKICAgICAgICAncic6ICdubyByZXBybycsCiAgICAgICAgJ3MnOiAnc3VwZXJ1c2VyJywKICAgICAgICAnZic6ICdzZXJ2ZXJmYXVsdCcsCiAgICAgICAgJ2wnOiAnbGlicmFyeS90b29sL3Jlc291cmNlJywKICAgICAgICAnZyc6ICdnaW1tZS10ZWgtY29kZXonLAogICAgICAgIGdldDogZnVuY3Rpb24ocikgeyAgCiAgICAgICAgICAgIHZhciBhID0gci5zcGxpdCgnICcpOwogICAgICAgICAgICBhLmZvckVhY2goZnVuY3Rpb24odixpKXsgCiAgICAgICAgICAgICAgICBhW2ldID0gcmVhc29uc1t2XSAmJiB2ICE9PSAnZ2V0JyA/IHJlYXNvbnNbdl0gOiB2OyAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBhLmpvaW4oJyAnKTsgCiAgICAgICAgfQogICAgfTsKCiAgICB2YXIgVVJMID0gImh0dHBzOi8vcmF3Z2l0LmNvbS9TTy1DbG9zZS1Wb3RlLVJldmlld2Vycy9Vc2VyU2NyaXB0cy9tYXN0ZXIvU0VDbG9zZVZvdGVSZXF1ZXN0R2VuZXJhdG9yLnVzZXIuanMiOwogICAgdmFyIG5vdGlmeWludCA9IDA7CiAgICBmdW5jdGlvbiBub3RpZnkobSx0KSB7CiAgICAgICAgdmFyIHRpbWVvdXQ7CiAgICAgICAgKGZ1bmN0aW9uKGkpewogICAgICAgICAgICB2YXIgZGl2ID0gJCgnI25vdGlmeS0nICsgKGkgLSAxKSk7CiAgICAgICAgICAgIGlmKGRpdi5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgICAgICAgICAgIGlmKGkgPiAxKVN0YWNrRXhjaGFuZ2Uubm90aWZ5LmNsb3NlKGktMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ub3RpZnkuc2hvdyhtLGkpOwogICAgICAgICAgICBpZih0KSB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5ub3RpZnkuY2xvc2UoaSk7CiAgICAgICAgICAgIH0sdCk7CiAgICAgICAgfSkoKytub3RpZnlpbnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzVmVyc2lvbk5ld2VyKHByb3Bvc2VkLCBjdXJyZW50KSB7CiAgICAgICAgcHJvcG9zZWQgPSBwcm9wb3NlZC5zcGxpdCgiLiIpOwogICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnNwbGl0KCIuIik7CgogICAgICAgIHdoaWxlIChwcm9wb3NlZC5sZW5ndGggPCBjdXJyZW50Lmxlbmd0aCkgcHJvcG9zZWQucHVzaCgiMCIpOwogICAgICAgIHdoaWxlIChjdXJyZW50Lmxlbmd0aCA8IHByb3Bvc2VkLmxlbmd0aCkgY3VycmVudC5wdXNoKCIwIik7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcG9zZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHBhcnNlSW50KHByb3Bvc2VkW2ldKSA+IHBhcnNlSW50KGN1cnJlbnRbaV0pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocGFyc2VJbnQocHJvcG9zZWRbaV0pIDwgcGFyc2VJbnQoY3VycmVudFtpXSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tVcGRhdGVzKGZvcmNlKSB7IAogICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9yYXdnaXQuY29tL1NPLUNsb3NlLVZvdGUtUmV2aWV3ZXJzL1VzZXJTY3JpcHRzL21hc3Rlci9TRUNsb3NlVm90ZVJlcXVlc3RHZW5lcmF0b3IudmVyc2lvbicsCiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHZhciBWRVJTSU9OID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0LnRyaW0oKTsKICAgICAgICAgICAgICAgIGlmKGlzVmVyc2lvbk5ld2VyKFZFUlNJT04sR01faW5mby5zY3JpcHQudmVyc2lvbikpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEFja25vd2xlZGdlZFZlcnNpb24gPSBnZXRTdG9yYWdlKCdMYXN0QWNrbm93bGVkZ2VkVmVyc2lvbicpOwogICAgICAgICAgICAgICAgICAgIGlmKGxhc3RBY2tub3dsZWRnZWRWZXJzaW9uICE9IFZFUlNJT04gfHwgZm9yY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29uZmlybSgnQSBuZXcgdmVyc2lvbiBvZiBUaGUgQ2xvc2UgVm90ZSBSZXF1ZXN0IEdlbmVyYXRvciBpcyBhdmFpbGFibGUsIHdvdWxkIHlvdSBsaWtlIHRvIGluc3RhbGwgaXQgbm93PycpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBVUkw7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0b3JhZ2UoJ0xhc3RBY2tub3dsZWRnZWRWZXJzaW9uJyxWRVJTSU9OKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZm9yY2UpIG5vdGlmeSgnTm8gbmV3IHZlcnNpb24gYXZhaWxhYmxlJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBoaWRlTWVudSgpIHsKICAgICAgICBjbG9zZVRhcmdldCgpOwogICAgICAgICQoJ2RpdicsIENWUkdVSS5pdGVtcy5zZW5kKS5oaWRlKCk7CiAgICAgICAgQ1ZSR1VJLmxpc3QuaGlkZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KHJlc3VsdCkgewogICAgICAgIFJvb21MaXN0LmdldFJvb20oZnVuY3Rpb24ocm9vbSl7CiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICB1cmw6IHJvb20udXJsLAogICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBma2V5ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0Lm1hdGNoKC9oaWRkZW4iIHZhbHVlPSIoW1xkYWJjZGVmXXszMn0pLylbMV07CiAgICAgICAgICAgICAgICAgICAgaWYoIWZrZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZ5KCdGYWlsZWQgcmV0cmlldmluZyBrZXksIGlzIHRoZSByb29tIFVSTCB2YWxpZD8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJvb20uaG9zdCArICcvY2hhdHMvJyArIHJvb20uaWQgKyAnL21lc3NhZ2VzL25ldycsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAndGV4dD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlc3VsdCkgKyAnJmZrZXk9JyArIGZrZXksCiAgICAgICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnkoJ0Nsb3NlIHZvdGUgcmVxdWVzdCBzZW50LicsMTAwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTWVudSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeSgnRmFpbGVkIHNlbmRpbmcgY2xvc2Ugdm90ZSByZXF1ZXN0LicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZU1lbnUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9uZXJyb3I6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIG5vdGlmeSgnRmFpbGVkIHJldHJpZXZpbmcgZmtleSBmcm9tIGNoYXQuJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGFwcGVuZEluZm8oKSB7CiAgICAgICAgaWYoZ2V0U3RvcmFnZSgnYXBwZW5kSW5mbycpID09PSAiMSIpIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICB2YXIgUm9vbUxpc3QgPSB7fTsKICAgIFJvb21MaXN0LnJvb21zID0ge307CiAgICBSb29tTGlzdC5zYXZlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgc2V0U3RvcmFnZSgncm9vbXMnLEpTT04uc3RyaW5naWZ5KHRoaXMucm9vbXMpKTsKICAgICAgICBjb25zb2xlLmxvZyhnZXRTdG9yYWdlKCdyb29tcycpKTsKICAgIH07CiAgICBSb29tTGlzdC5lYWNoID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5yb29tcykKICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5yb29tc1tpXSxpKTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH07CiAgICBSb29tTGlzdC5zZWFyY2ggPSBmdW5jdGlvbihrZXksdmFsdWUpIHsKICAgICAgICB2YXIgc3VjY2VzczsKICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24ocm9vbSl7CiAgICAgICAgICAgIGlmKHJvb21ba2V5XSA9PT0gdmFsdWUpCiAgICAgICAgICAgICAgICBzdWNjZXNzID0gcm9vbTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gc3VjY2VzczsKICAgIH07CiAgICBSb29tTGlzdC5jb3VudCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnJvb21zKS5sZW5ndGg7CiAgICB9OwogICAgUm9vbUxpc3QubmFtZSA9IGZ1bmN0aW9uKG5hbWUpICB7IHJldHVybiB0aGlzLnNlYXJjaCgnbmFtZScsbmFtZSk7ICB9OwogICAgUm9vbUxpc3QuaW5kZXggPSBmdW5jdGlvbihuYW1lKSB7IHJldHVybiB0aGlzLnNlYXJjaCgnaW5kZXgnLG5hbWUpOyB9OwogICAgUm9vbUxpc3QuaWQgPSBmdW5jdGlvbihuYW1lKSAgICB7IHJldHVybiB0aGlzLnNlYXJjaCgnaWQnLG5hbWUpOyAgICB9OwogICAgUm9vbUxpc3QudXJsID0gZnVuY3Rpb24obmFtZSkgICB7IHJldHVybiB0aGlzLnNlYXJjaCgndXJsJyxuYW1lKTsgICB9OwogICAgUm9vbUxpc3QuaW5zZXJ0ID0gZnVuY3Rpb24ocm9vbSkgewogICAgICAgIGlmKCFSb29tTGlzdC51cmwocm9vbS51cmwpKSB7CiAgICAgICAgICAgIHRoaXMucm9vbXNbcm9vbS51cmxdID0gcm9vbTsKICAgICAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLnJvb21zW3Jvb20udXJsXTsKICAgIH07CiAgICBSb29tTGlzdC5nZXRSb29tID0gZnVuY3Rpb24oY2FsbGJhY2ssdXJsKSB7CiAgICAgICAgdmFyIHJvb21zID0gdGhpcy5yb29tczsKICAgICAgICBpZighdXJsKSAKICAgICAgICAgICAgdXJsID0gZ2V0U3RvcmFnZShiYXNlICsgJ3Jvb20nKTsKICAgICAgICB2YXIgbSA9IC8oaHR0cHM/OlwvXC9jaGF0XC4obWV0YVwuKT9zdGFjayhvdmVyZmxvd3xleGNoYW5nZSlcLmNvbSlcL3Jvb21zXC8oLiopXC8uKi8uZXhlYyh1cmwpOwogICAgICAgIGlmKG0pIHsKICAgICAgICAgICAgdmFyIHJvb20gPSBSb29tTGlzdC51cmwodXJsKTsKICAgICAgICAgICAgaWYocm9vbSkgewogICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKHJvb20pOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpewogICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gLy4qPHRpdGxlPiguKilcIFx8LiovLmV4ZWMocmVzcG9uc2UucmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIGlmKCFuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeSgnRmFpbGVkIGZpbmRpbmcgcm9vbSBuYW1lLiBJcyBpdCBhIHZhbGlkIHJvb20/Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FsbGJhY2spIGNhbGxiYWNrKFJvb21MaXN0Lmluc2VydCh7IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogbVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1bNF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lWzFdCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICBub3RpZnkoJ0ZhaWxlZCByZXRyaWV2aW5nIHJvb20gbmFtZS4gSXMgaXQgYSB2YWxpZCByb29tPycpOwogICAgICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVybCk7CiAgICAgICAgICAgIG5vdGlmeSgnVGhlIGNoYXQgcm9vbSBVUkwgeW91IHN1cHBsaWVkIGlzIGludmFsaWQuJyk7CiAgICAgICAgICAgIGlmKGNhbGxiYWNrKSBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgfQogICAgfTsKICAgIFJvb21MaXN0LnNldFJvb20gPSBmdW5jdGlvbih1cmwpIHsKICAgICAgICB2YXIgZXhpc3RzOwogICAgICAgIGlmKHRoaXMudXJsKHVybCkpCiAgICAgICAgICAgIGV4aXN0cyA9IHRydWU7CiAgICAgICAgUm9vbUxpc3QuZ2V0Um9vbShmdW5jdGlvbihyb29tKSB7CiAgICAgICAgICAgIGlmKHJvb20gJiYgZ2V0U3RvcmFnZShiYXNlICsgJ3Jvb20nKSAhPT0gcm9vbS51cmwpIHsKICAgICAgICAgICAgICAgIHNldFN0b3JhZ2UoYmFzZSArICdyb29tJyxyb29tLnVybCk7CiAgICAgICAgICAgICAgICBDVlJHVUkucm9vbUxpc3QuZmluZCgnW3R5cGU9ImNoZWNrYm94Il0nKS5wcm9wKCdjaGVja2VkJyxmYWxzZSk7CiAgICAgICAgICAgICAgICBpZighZXhpc3RzKQogICAgICAgICAgICAgICAgICAgIENWUkdVSS5yb29tTGlzdC5hcHBlbmQoJCgnPGRkPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InRhcmdldC1yb29tIiB2YWx1ZT0iJyArIHJvb20udXJsICsgJyIgY2hlY2tlZD4nICsgcm9vbS5uYW1lICsgJzwvbGFiZWw+PGZvcm0+PGJ1dHRvbj4tPC9idXR0b24+PC9mb3JtPjwvZGQ+JykpOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIENWUkdVSS5yb29tTGlzdC5maW5kKCdbdmFsdWU9IicgKyByb29tLnVybCArICciXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTsKICAgICAgICAgICAgICAgIGNsb3NlVGFyZ2V0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LHVybCk7CiAgICB9OwogICAgUm9vbUxpc3QuaW5pdCA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmKCFnZXRTdG9yYWdlKCdyb29tcycpKQogICAgICAgICAgICBSb29tTGlzdC5nZXRSb29tKCk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBSb29tTGlzdC5yb29tcyA9IEpTT04ucGFyc2UoZ2V0U3RvcmFnZSgncm9vbXMnKSk7CiAgICB9OwoKICAgIC8vV3JhcCBsb2NhbCBzdG9yYWdlIGFjY2VzcyBzbyB0aGF0IHdlIGF2b2lkIGNvbGxpc2lvbnMgd2l0aCBvdGhlciBzY3JpcHRzCiAgICB2YXIgcHJlZml4ID0gIlNFQ2xvc2VWb3RlUmVxdWVzdEdlbmVyYXRvcl8iOyAvL3ByZWZpeCB0byBhdm9pZCBjbGFzaGVzIGluIGxvY2Fsc3RvcmFnZQogICAgZnVuY3Rpb24gZ2V0U3RvcmFnZShrZXkpIHsgcmV0dXJuIGxvY2FsU3RvcmFnZVtwcmVmaXggKyBrZXldOyB9CiAgICBmdW5jdGlvbiBzZXRTdG9yYWdlKGtleSwgdmFsKSB7IHJldHVybiAobG9jYWxTdG9yYWdlW3ByZWZpeCArIGtleV0gPSB2YWwpOyB9CgogICAgdmFyIGJhc2UgPSAnaHR0cDovLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7CgogICAgaWYoIWdldFN0b3JhZ2UoYmFzZSArICdyb29tJykpCiAgICAgICAgc2V0U3RvcmFnZShiYXNlICsgJ3Jvb20nLCAnaHR0cDovL2NoYXQuc3RhY2tvdmVyZmxvdy5jb20vcm9vbXMvNDE1NzAvc28tY2xvc2Utdm90ZS1yZXZpZXdlcnMnKTsKICAgIAogICAgCiAgICBSb29tTGlzdC5pbml0KCk7CgogICAgdmFyIENWUkdVSSA9IHt9OwogICAgQ1ZSR1VJLndycCAgICA9ICQoJzxzcGFuIGNsYXNzPSJjdnJndWkiIC8+Jyk7CiAgICBDVlJHVUkuYnV0dG9uID0gJCgnPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iY3YtYnV0dG9uIj5jdi1wbHM8L2E+Jyk7CiAgICBDVlJHVUkubGlzdCAgID0gJCgnPGRsIGNsYXNzPSJjdi1saXN0IiAvPicpOwogICAgQ1ZSR1VJLmNzcyAgICA9ICQoJzxzdHlsZT4ucG9zdC1tZW51ID4gc3BhbiA+IGF7cGFkZGluZzowIDNweCAycHggM3B4O2NvbG9yOiM4ODh9LnBvc3QtbWVudSA+IHNwYW4gPiBhOmhvdmVye2NvbG9yOiM0NDQ7dGV4dC1kZWNvcmF0aW9uOm5vbmV9IC5jdnJndWkgeyBwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jayB9IC5jdnJndWkgKiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3ggfSAuY3YtbGlzdCB7IGRpc3BsYXk6IG5vbmU7IG1hcmdpbjowOyB6LWluZGV4OjE7IHBvc2l0aW9uOmFic29sdXRlOyB3aGl0ZS1zcGFjZTpub3dyYXA7IGJvcmRlcjoxcHggc29saWQgI2NjYztib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kOiNGRkY7Ym94LXNoYWRvdzowcHggNXB4IDEwcHggLTVweCByZ2IoMCwwLDAsMC41KSB9IC5jdi1saXN0IGRkLCAuY3YtbGlzdCBkbCB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgfSAuY3YtbGlzdCBkbCBkZCB7IHBhZGRpbmc6IDBweDsgbWFyZ2luOiAwOyB3aWR0aDogMTAwJTsgZGlzcGxheTogdGFibGUgfSAuY3YtbGlzdCBkbCBsYWJlbCwgLmN2LWxpc3QgZGwgZm9ybSB7IGRpc3BsYXk6IHRhYmxlLWNlbGwgfSAuY3YtbGlzdCBkbCBidXR0b24geyBtYXJnaW46IDIuNXB4IDA7IH0gLmN2LWxpc3QgZGwgbGFiZWwgeyB3aWR0aDogMTAwJTsgcGFkZGluZzogMHB4OyB9ICAuY3YtbGlzdCAqIHsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgfSAuY3YtbGlzdCBkZCA+IGRpdiB7IHBhZGRpbmc6IDBweCAxNXB4OyBwYWRkaW5nLWJvdHRvbTogMTVweDsgfSAuY3YtbGlzdCBkZCA+IGRpdiA+IGZvcm0geyB3aGl0ZS1zcGFjZTogbm93cmFwIH0gLmN2LWxpc3QgZGQgPiBkaXYgPiBmb3JtID4gaW5wdXQgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGUgfSAuY3YtbGlzdCBkZCA+IGRpdiA+IGZvcm0gPiBpbnB1dFt0eXBlPSJ0ZXh0Il0geyB3aWR0aDogMzAwcHg7IG1hcmdpbi1yaWdodDogNXB4OyB9IC5jdi1saXN0IGhyIHsgbWFyZ2luOjAgMTVweDsgYm9yZGVyOiAwcHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjOyB9IC5jdi1saXN0IGEgeyBkaXNwbGF5OiBibG9jazsgcGFkZGluZzogMTBweCAxNXB4O30gIC5jdi1saXN0IGxhYmVsIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBwYWRkaW5nOiAxMHB4IDE1cHg7fSAuY3YtbGlzdCBsYWJlbDpsYXN0LWNoaWxkIHsgcGFkZGluZy1sZWZ0OiAwOyB9PC9zdHlsZT4nKTsKICAgIENWUkdVSS50YXJnZXQgPSAoZnVuY3Rpb24oKXsKICAgICAgICB2YXIgbGluayA9ICQoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSI+PC9hPicpLm9uKCdjbGljaycsZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIGRpdiA9ICQoJ2RpdicsICQodGhpcykucGFyZW50KCkpOwogICAgICAgICAgICAkKCdkaXYnLCBDVlJHVUkubGlzdCkubm90KGRpdikuaGlkZSgpOwogICAgICAgICAgICBpZihkaXYuaXMoJzpoaWRkZW4nKSkgewogICAgICAgICAgICAgICAgZGl2LnNob3coKS5maW5kKCdbdHlwZT0idGV4dCJdJykuZm9jdXMoKTsKICAgICAgICAgICAgICAgICQodGhpcykuaHRtbCgnU2V0IHRhcmdldCByb29tOicpOwogICAgICAgICAgICB9IGVsc2UgY2xvc2VUYXJnZXQoKTsKICAgICAgICB9KQogICAgICAgIFJvb21MaXN0LmdldFJvb20oZnVuY3Rpb24ocm9vbSl7CiAgICAgICAgICAgIGxpbmsuaHRtbChyb29tLm5hbWUpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBsaW5rOwogICAgfSkoKTsKICAgIGZ1bmN0aW9uIGNsb3NlVGFyZ2V0KCkgewogICAgICAgIFJvb21MaXN0LmdldFJvb20oZnVuY3Rpb24ocm9vbSl7ICQoQ1ZSR1VJLnRhcmdldCkuaHRtbChyb29tLm5hbWUpOyB9KTsKICAgICAgICAkKCdkaXYnLCBDVlJHVUkuaXRlbXMucm9vbSkuaGlkZSgpOwogICAgICAgICQoJ2RpdicsIENWUkdVSS5pdGVtcy5zZW5kKS5zaG93KCk7CiAgICAgICAgJCgnaW5wdXRbdHlwZT0idGV4dCJdJywgQ1ZSR1VJLml0ZW1zLnNlbmQpLmZvY3VzKCk7CiAgICB9CiAgICBDVlJHVUkuaXRlbXMgID0gewogICAgICAgIHNlbmQ6ICAgICQoJzxkZD48YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiPlNlbmQgcmVxdWVzdDwvYT48ZGl2IHN0eWxlPSJkaXNwbGF5Om5vbmUiPjxmb3JtPjxpbnB1dCB0eXBlPSJ0ZXh0Ii8+PGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlNlbmQiPjwvZm9ybT48L2Rpdj48aHI+PC9kZD4nKSwKICAgICAgICByb29tOiAgICAoZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKCc8ZGQ+PC9kZD4nKTsKICAgICAgICAgICAgdmFyIGxpc3QgPSAkKCc8ZGw+Jyk7CiAgICAgICAgICAgIHZhciBkaXYgPSAkKCc8ZGl2IHN0eWxlPSJkaXNwbGF5Om5vbmUiLz4nKTsKICAgICAgICAgICAgUm9vbUxpc3QuZ2V0Um9vbShmdW5jdGlvbihyKXsKICAgICAgICAgICAgICAgIFJvb21MaXN0LmVhY2goZnVuY3Rpb24ocm9vbSl7CiAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQoJCgnPGRkPjxsYWJlbD48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InRhcmdldC1yb29tIiB2YWx1ZT0iJyArIHJvb20udXJsICsgJyInICsgKHIudXJsID09PSByb29tLnVybCA/ICcgY2hlY2tlZCcgOiAnJyApICsgJz4nICsgcm9vbS5uYW1lICsgJzwvbGFiZWw+PGZvcm0+PGJ1dHRvbj4tPC9idXR0b24+PC9mb3JtPjwvZm9ybT48L2RkPicpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbGlzdC5vbignY2hhbmdlJyxmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICBSb29tTGlzdC5zZXRSb29tKGUudGFyZ2V0LnZhbHVlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbGlzdC5vbignc3VibWl0JywgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIHZhciByb29tID0gUm9vbUxpc3QudXJsKCQoJ1tuYW1lPSJ0YXJnZXQtcm9vbSJdJywgJChlLnRhcmdldCkucGFyZW50KCkpLnZhbCgpKTsKICAgICAgICAgICAgICAgICAgICBpZihyb29tKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKFJvb21MaXN0LmNvdW50KCkgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeSgnQ2Fubm90IHJlbW92ZSBsYXN0IHJvb20nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZigkKCdbY2hlY2tlZF0nLCAkKGUudGFyZ2V0KS5wYXJlbnQoKSkubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb29tTGlzdC5zZXRSb29tKCQoJ2lucHV0W25hbWU9InRhcmdldC1yb29tIl06bm90KFt2YWx1ZT0iJyArIHJvb20udXJsICsgJyJdKScsIGxpc3QpLnZhbCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgUm9vbUxpc3Qucm9vbXNbcm9vbS51cmxdOwogICAgICAgICAgICAgICAgICAgICAgICBSb29tTGlzdC5zYXZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZGl2LmFwcGVuZChsaXN0KTsKICAgICAgICAgICAgICAgIGRpdi5hcHBlbmQoJCgnPGZvcm0+PGlucHV0IHR5cGU9InRleHQiLz48aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iU2V0Ij48L2Zvcm0+Jykub24oJ3N1Ym1pdCcsZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAkKCdpbnB1dFt0eXBlPSJ0ZXh0Il0nLCB0aGlzKS52YWwoKTsKICAgICAgICAgICAgICAgICAgICBpZighcmVzcG9uc2UpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBSb29tTGlzdC5zZXRSb29tKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIGl0ZW0uYXBwZW5kKENWUkdVSS50YXJnZXQpOwogICAgICAgICAgICAgICAgaXRlbS5hcHBlbmQoZGl2KTsKICAgICAgICAgICAgICAgIGl0ZW0uYXBwZW5kKCQoJzxocj4nKSk7CiAgICAgICAgICAgICAgICBDVlJHVUkucm9vbUxpc3QgPSBsaXN0OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgfSkoKSwKICAgICAgICB1cGRhdGU6ICAkKCc8ZGQ+PGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIj5DaGVjayBmb3IgdXBkYXRlczwvYT4gICA8L2RkPicpCiAgICB9OwogICAgZm9yKHZhciBpdGVtIGluIENWUkdVSS5pdGVtcykgewogICAgICAgIENWUkdVSS5saXN0LmFwcGVuZChDVlJHVUkuaXRlbXNbaXRlbV0pOwogICAgfQogICAgQ1ZSR1VJLndycC5hcHBlbmQoQ1ZSR1VJLmJ1dHRvbik7CiAgICBDVlJHVUkud3JwLmFwcGVuZChDVlJHVUkubGlzdCk7CiAgICBDVlJHVUkud3JwLmFwcGVuZChDVlJHVUkuY3NzKTsKCiAgICAkKCcjcXVlc3Rpb24gLnBvc3QtbWVudScpLmFwcGVuZChDVlJHVUkud3JwKTsKICAgIAogICAgJCgnLnF1ZXN0aW9uJykub24oJ2NsaWNrJywgJ1t0eXBlPSJzdWJtaXQiXSwgLm5ldy1wb3N0LWFjdGl2aXR5IGEnLCBmdW5jdGlvbihlKXsKICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgdmFyIG1lbnVDaGVjayA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmKCQoJyNxdWVzdGlvbiAucG9zdC1tZW51JykubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG1lbnVDaGVjayk7CiAgICAgICAgICAgICAgICAkKCcjcXVlc3Rpb24gLnBvc3QtbWVudScpLmFwcGVuZChDVlJHVUkud3JwKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7CgogICAgJChkb2N1bWVudCkub24oJ2NsaWNrJyxmdW5jdGlvbigpewogICAgICAgIGlmKENWUkdVSS5saXN0LmlzKCc6dmlzaWJsZScpKQogICAgICAgICAgICBoaWRlTWVudSgpOwogICAgfSk7CgogICAgJCgnYTpub3QoLmN2cmd1aSBhKScpLm9uKCdjbGljaycsZnVuY3Rpb24oKXsKICAgICAgICBpZihDVlJHVUkubGlzdC5pcygnOnZpc2libGUnKSkgCiAgICAgICAgICAgIGhpZGVNZW51KCk7CiAgICB9KTsKICAgICQoJy5jdi1saXN0ICo6bm90KGEpJykub24oJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSk7CgogICAgQ1ZSR1VJLmJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbihlKXsgCiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAkKCdkaXYnLCBDVlJHVUkubGlzdCkuaGlkZSgpOwogICAgICAgIENWUkdVSS5saXN0LnRvZ2dsZSgpOyAKICAgIH0pOwoKICAgIENWUkdVSS5pdGVtcy5zZW5kLm9uKCdjbGljaycsZnVuY3Rpb24oZSl7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBpZigkKCdkaXYnLCBDVlJHVUkuaXRlbXMuc2VuZCkuaXMoJzpoaWRkZW4nKSkKICAgICAgICAgICAgY2xvc2VUYXJnZXQoKTsKICAgICAgICBlbHNlICQoJ2RpdicsIENWUkdVSS5pdGVtcy5zZW5kKS5oaWRlKCk7CiAgICB9KTsKCiAgICAkKCdmb3JtJywgQ1ZSR1VJLml0ZW1zLnNlbmQpLm9uKCdzdWJtaXQnLGZ1bmN0aW9uKGUpewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgcmVhc29uID0gJCgnaW5wdXRbdHlwZT0idGV4dCJdJywgQ1ZSR1VJLml0ZW1zLnNlbmQpLnZhbCgpOwogICAgICAgIGlmKCFyZWFzb24pIHJldHVybiBmYWxzZTsKICAgICAgICByZWFzb24gPSByZWFzb25zLmdldChyZWFzb24pOwogICAgICAgIHZhciB0aXQgPSAnWycgKyAkKCcjcXVlc3Rpb24taGVhZGVyIGgxIGEnKS50ZXh0KCkucmVwbGFjZSgvXFsoLiopXF0vZywgJygkMSknKSArICddKCcgKyBiYXNlICsgJCgnI3F1ZXN0aW9uIC5zaG9ydC1saW5rJykuYXR0cignaHJlZicpICsgJyknOyAKICAgICAgICB2YXIgdXNyID0gJCgnLnBvc3Qtc2lnbmF0dXJlOm5vdChbYWxpZ249InJpZ2h0Il0pIC51c2VyLWRldGFpbHMnKS50ZXh0KCkudHJpbSgpLm1hdGNoKC9bXlxuXSsvKVswXS50cmltKCksIHRpbTsKICAgICAgICBpZigkKCcjcXVlc3Rpb24gLm93bmVyIGEnKS5sZW5ndGgpIHVzciA9ICdbJyArIHVzciArICddKCcgKyBiYXNlICsgJCgnI3F1ZXN0aW9uIC5vd25lciBhJykuYXR0cignaHJlZicpICsgJyknOwogICAgICAgIGlmKCQoJyNxdWVzdGlvbiAub3duZXIgLnJlbGF0aXZldGltZScpLmxlbmd0aCkgdGltID0gJCgnI3F1ZXN0aW9uIC5vd25lciAucmVsYXRpdmV0aW1lJykuYXR0cigndGl0bGUnKTsKICAgICAgICB2YXIgcmVzdWx0ID0gJ1t0YWc6Y3YtcGxzXSAnICsgcmVhc29uICsgJyAnICsgdGl0ICsgJyAtICcgKyB1c3IgKyAodGltID8gJyAtICcgKyB0aW0gOiAnJyk7CiAgICAgICAgc2VuZFJlcXVlc3QocmVzdWx0KTsKICAgIH0pOwoKICAgIENWUkdVSS5pdGVtcy51cGRhdGUub24oJ2NsaWNrJyxmdW5jdGlvbihlKXsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIGhpZGVNZW51KCk7CiAgICAgICAgY2hlY2tVcGRhdGVzKHRydWUpOwogICAgfSk7CgogICAgdmFyIGNvbWJvOwogICAgJChkb2N1bWVudCkua2V5ZG93bihmdW5jdGlvbihlKSB7CiAgICAgICAgaWYoZS5jdHJsS2V5ICYmIGUuc2hpZnRLZXkgJiYgZS53aGljaCA9PT0gNjUpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBjb21ibyA9IHRydWU7CiAgICAgICAgfQogICAgfSk7CiAgICAkKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbihlKSB7CiAgICAgICAgaWYoY29tYm8pIHsKICAgICAgICAgICAgY29tYm8gPSBmYWxzZTsKICAgICAgICAgICAgaWYoJCgnZGl2JywgQ1ZSR1VJLml0ZW1zLnNlbmQpLmlzKCc6aGlkZGVuJykpIHsKICAgICAgICAgICAgICAgIENWUkdVSS5saXN0LnNob3coKTsKICAgICAgICAgICAgICAgICQoJ2RpdicsIENWUkdVSS5pdGVtcy5zZW5kKS5zaG93KCkuZmluZCgnaW5wdXRbdHlwZT0idGV4dCJdJykuZm9jdXMoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGhpZGVNZW51KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IAogICAgfSk7CiAgICBzZXRUaW1lb3V0KGNoZWNrVXBkYXRlcyk7CiAgICB2YXIgY2xvc2VyZWFzb25zID0gewogICAgICAgIDQ6ICJHZW5lcmFsIENvbXB1dGluZyIsCiAgICAgICAgNzogIlNlcnZlcmZhdWx0LmNvbSIsCiAgICAgICAgMTY6ICJSZXF1ZXN0IGZvciBPZmYtU2l0ZSBSZXNvdXJjZSIsCiAgICAgICAgMTM6ICJObyBNQ1ZFIiwKICAgICAgICAxMTogIlR5cG8gb3IgQ2Fubm90IFJlcHJvZHVjZSIsCiAgICAgICAgMzogImN1c3RvbSIsCiAgICAgICAgMjogIkJlbG9uZ3Mgb24gYW5vdGhlciBzaXRlIgogICAgfTsKICAgICQoJy5jbG9zZS1xdWVzdGlvbi1saW5rJykuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICB2YXIgY3BjaGVjayA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBwb3B1cCA9ICQoJyNwb3B1cC1jbG9zZS1xdWVzdGlvbicpLCBzZWxlY3RlZDsKICAgICAgICAgICAgaWYoIXBvcHVwLmxlbmd0aCkgcmV0dXJuOwogICAgICAgICAgICBjbGVhckludGVydmFsKGNwY2hlY2spOwogICAgICAgICAgICB2YXIgcmVtYWluaW5ndm90ZXMgPSAkKCcucmVtYWluaW5nLXZvdGVzJywgcG9wdXApOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYoJCgnaW5wdXQnLCByZW1haW5pbmd2b3RlcykubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgY2hlY2tib3ggPSAkKCc8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBzdHlsZT0idmVydGljYWwtYWxpZ246bWlkZGxlO21hcmdpbi1sZWZ0OiA1cHg7Ij5TZW5kIGN2LXBscyByZXF1ZXN0PC9sYWJlbD4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgICQoJy5yZW1haW5pbmctdm90ZXMnLCBwb3B1cCkuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgICAgICAgJCgnW25hbWU9ImNsb3NlLXJlYXNvbiJdJykuY2hhbmdlKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQgJiYgKHNlbGVjdGVkID0gJCh0aGlzKSkgJiYgJCgnaW5wdXRbdHlwZT0idGV4dCJdJywgQ1ZSR1VJLml0ZW1zLnNlbmQpLnZhbCh0aGlzLnZhbHVlLnJlcGxhY2UoLyg/IV4pKFtBLVpdKS9nLCAnICQxJykpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgnW25hbWU9ImNsb3NlLWFzLW9mZi10b3BpYy1yZWFzb24iXScpLmNoYW5nZShmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkICYmIChzZWxlY3RlZCA9ICQodGhpcykpICYmICQoJ2lucHV0W3R5cGU9InRleHQiXScsIENWUkdVSS5pdGVtcy5zZW5kKS52YWwoY2xvc2VyZWFzb25zW3RoaXMudmFsdWVdKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoJy5wb3B1cC1zdWJtaXQnKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmKHNlbGVjdGVkLnZhbCgpID09PSAnMycpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gc2VsZWN0ZWQucGFyZW50KCkucGFyZW50KCk7CiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbdHlwZT0idGV4dCJdJywgQ1ZSR1VJLml0ZW1zLnNlbmQpLnZhbCgkKCd0ZXh0YXJlYScscGFyZW50KS52YWwoKS5yZXBsYWNlKCQoJ1t0eXBlPSJoaWRkZW4iXScscGFyZW50KS52YWwoKSwnJykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2hlY2tib3guZmluZCgnaW5wdXQnKS5pcygnOmNoZWNrZWQnKSAmJiAkKCdmb3JtJywgQ1ZSR1VJLml0ZW1zLnNlbmQpLnN1Ym1pdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LCAxMDApOwogICAgfSk7Cn0pKCk7Cg=="},{"name":"stackoverflow-comment-reply","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://stackoverflow.com/*","*://serverfault.com/*","*://superuser.com/*","*://meta.stackoverflow.com/*","*://meta.serverfault.com/*","*://meta.superuser.com/*","*://stackapps.com/*","*://*.stackexchange.com/*","*://askubuntu.com/*","*://meta.askubuntu.com/*","*://answers.onstartups.com/*","*://meta.answers.onstartups.com/*","*://mathoverflow.net/*","*://area51.stackexchange.com/proposals/*"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831289},"enabled":true,"position":2,"file_url":"https://bitbucket.org/balpha/user-scripts/raw/tip/comment-reply-links/comment-reply-links.user.js","uuid":"b30320e8-9e48-4191-9a0a-15f6c81e1d21","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIHN0YWNrb3ZlcmZsb3ctY29tbWVudC1yZXBseQovLyBAbmFtZXNwYWNlICAgICAgc3RhY2tvdmVyZmxvdwovLyBAZGVzY3JpcHRpb24gICAgQWRkICJyZXBseSIgbGlua3MgdG8gY29tbWVudHMKLy8gQHZlcnNpb24gICAgICAgIDEuMQovLyBAbWF0Y2ggICAgICAgICAgKjovL3N0YWNrb3ZlcmZsb3cuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9zZXJ2ZXJmYXVsdC5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3N1cGVydXNlci5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL21ldGEuc3RhY2tvdmVyZmxvdy5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL21ldGEuc2VydmVyZmF1bHQuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9tZXRhLnN1cGVydXNlci5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL3N0YWNrYXBwcy5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovLyouc3RhY2tleGNoYW5nZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL2Fza3VidW50dS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgKjovL21ldGEuYXNrdWJ1bnR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vYW5zd2Vycy5vbnN0YXJ0dXBzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAqOi8vbWV0YS5hbnN3ZXJzLm9uc3RhcnR1cHMuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9tYXRob3ZlcmZsb3cubmV0LyoKLy8gQG1hdGNoICAgICAgICAgICo6Ly9hcmVhNTEuc3RhY2tleGNoYW5nZS5jb20vcHJvcG9zYWxzLyoKLy8gQGF1dGhvciAgICAgICAgIEJlbmphbWluIER1bWtlLXZvbiBkZXIgRWhlCi8vID09L1VzZXJTY3JpcHQ9PQoKLy8gVGhhbmtzIHRvIFNob2c5IGZvciB0aGlzIGlkZWEgZm9yIG1ha2luZyB0aGUgc2NyaXB0IHdvcmsgaW4gYm90aAovLyBDaHJvbWUgYW5kIEZpcmVmb3g6Ci8vIGh0dHA6Ly9tZXRhLnN0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80NjU2MgpmdW5jdGlvbiB3aXRoX2pxdWVyeShmKSB7CiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICBzY3JpcHQudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOwogICAgc2NyaXB0LnRleHRDb250ZW50ID0gIigiICsgZi50b1N0cmluZygpICsgIikoalF1ZXJ5KSI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7Cn07Cgp3aXRoX2pxdWVyeShmdW5jdGlvbigkKSB7CiAgICAgICAgCiAgICAkKGRvY3VtZW50KS5hamF4Q29tcGxldGUoZnVuY3Rpb24oKXsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLmNvbW1lbnRzIikuZWFjaChwdXRfcmVwbHlfbGlua3MpOwogICAgICAgIH0sIDEwMCk7CiAgICB9KTsKICAgICAgICAKICAgIC8vIGV2ZW50IGhhbmRsZXIgZm9yIGEgY2xpY2sgb24gdGhlIHJlcGx5IGxpbmtzCiAgICBmdW5jdGlvbiByZXBseSgpIHsKICAgICAgICB2YXIgY29tbWVudGxpbmsgPSAkKHRoaXMpLmNsb3Nlc3QoIi5jb21tZW50cyIpLm5leHQoKS5jbGljaygpOwogICAgICAgIHZhciBjb21tZW50bGlua0lkID0gY29tbWVudGxpbmsuYXR0cigiaWQiKTsKICAgICAgICB2YXIgdXNlcm5hbWUgPSBnb29kaWZ5KCQodGhpcykucHJldigpLnRleHQoKS5yZXBsYWNlKC/imaYvLCAiIikpCiAgICAgICAgdmFyIGZvcm1pZCA9IGNvbW1lbnRsaW5rSWQucmVwbGFjZSgvXi4qLShcZCspJC8sICJhZGQtY29tbWVudC0kMSIpOwogICAgICAgIHZhciB0YSA9ICQoIiMiICsgZm9ybWlkICsgIiB0ZXh0YXJlYSIpWzBdOwogICAgICAgIHZhciBzdGFydCA9IHRhLnNlbGVjdGlvblN0YXJ0OwogICAgICAgIHZhciBlbmQgPSB0YS5zZWxlY3Rpb25FbmQ7CiAgICAgICAgdmFyIHNoaWZ0ID0gdXNlcm5hbWUubGVuZ3RoICsgMzsKICAgICAgICB0YS52YWx1ZSA9ICJAIiArIHVzZXJuYW1lICsgIjogIiArIHRhLnZhbHVlOwogICAgICAgIHRhLmZvY3VzKCk7CiAgICAgICAgdGEuc2VsZWN0aW9uU3RhcnQgPSBzdGFydCArIHNoaWZ0OwogICAgICAgIHRhLnNlbGVjdGlvbkVuZCA9IGVuZCArIHNoaWZ0OwogICAgfTsKCiAgICBmdW5jdGlvbiBwdXRfcmVwbHlfbGlua3MoKSB7CiAgICAgICAgJCh0aGlzKS5maW5kKCIuY29tbWVudDpub3QoOmhhcygucmVwbHktbGluaykpIC5jb21tZW50LXVzZXIiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiPHNwYW4gY2xhc3M9J3JlcGx5LWxpbmsnIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjsnIHRpdGxlPSdyZXBseSc+ICZjcmFycjs8L3NwYW4+IikuY2xpY2socmVwbHkpLmluc2VydEFmdGVyKHRoaXMpOwogICAgICAgIH0pOwogICAgfQogICAgICAgICAgICAKICAgICQoIi5jb21tZW50cyIpLmVhY2gocHV0X3JlcGx5X2xpbmtzKTsKICAgIAogICAgZnVuY3Rpb24gZ29vZGlmeShzKSB7CiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvICsvZywgIiIpOwogICAgfSAgCiAgICAKfSk7"},{"name":"Stack Exchange like I like it","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":["/^https?:\\/\\/(chat|blog|careers)\\..*/"],"orig_includes":[],"orig_matches":["*://stackexchange.com/*","*://*.stackexchange.com/*/*","*://stackoverflow.com/*/*","*://*.stackoverflow.com/*/*","*://stackapps.com/*/*","*://serverfault.com/*/*","*://superuser.com/*/*","*://askubuntu.com/*/*","*://mathoverflow.net/*/*"],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831303},"enabled":true,"position":3,"file_url":"https://github.com/calraith/gm_scripts/raw/master/se_like_I_like_it.user.js","uuid":"a490bb56-67fc-4b13-ba27-3ac98ef75e75","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFN0YWNrIEV4Y2hhbmdlIGxpa2UgSSBsaWtlIGl0Ci8vIEBuYW1lc3BhY2UgICBodHRwOi8vc3RhY2thcHBzLm9yZy8KLy8gQGRlc2NyaXB0aW9uIERvdWJsZS1jbGljayBhIGNvZGUgYmxvY2sgdG8gc2VsZWN0IGFsbCArIGVkaXQgYm94IGF1dG8gaW5kZW50IC8gdGFiIGtleSBiZWhhdmlvciBlbmhhbmNlbWVudHMKLy8gQG1hdGNoCQkqOi8vc3RhY2tleGNoYW5nZS5jb20vKgovLyBAbWF0Y2gJCSo6Ly8qLnN0YWNrZXhjaGFuZ2UuY29tLyovKgovLyBAbWF0Y2gJCSo6Ly9zdGFja292ZXJmbG93LmNvbS8qLyoKLy8gQG1hdGNoCQkqOi8vKi5zdGFja292ZXJmbG93LmNvbS8qLyoKLy8gQG1hdGNoCQkqOi8vc3RhY2thcHBzLmNvbS8qLyoKLy8gQG1hdGNoCQkqOi8vc2VydmVyZmF1bHQuY29tLyovKgovLyBAbWF0Y2gJCSo6Ly9zdXBlcnVzZXIuY29tLyovKgovLyBAbWF0Y2gJCSo6Ly9hc2t1YnVudHUuY29tLyovKgovLyBAbWF0Y2gJCSo6Ly9tYXRob3ZlcmZsb3cubmV0LyovKgovLyBAZXhjbHVkZSAgICAgL15odHRwcz86XC9cLyhjaGF0fGJsb2d8Y2FyZWVycylcLi4qLwovLyBAdmVyc2lvbiAgICAgMS41LjEKLy8gQGRvd25sb2FkVVJMCWh0dHBzOi8vZ2l0aHViLmNvbS9jYWxyYWl0aC9nbV9zY3JpcHRzL3Jhdy9tYXN0ZXIvc2VfbGlrZV9JX2xpa2VfaXQudXNlci5qcwovLyBAZ3JhbnQgICAgICAgR01faW5mbwovLyA9PS9Vc2VyU2NyaXB0PT0KCi8vIFwvLisvCnZhciBrZXkgPSB7Cgl0YWI6IDksCgllbnRlcjogMTMsCgllbmQ6IDM1LAoJaG9tZTogMzYsCgljb2RlOiAwLAoJaGlzdG9yeTogWzAsMF0sCgljb250YWluczogZnVuY3Rpb24od2hhdCkgewoJCS8vIGZhc3Rlc3QgbG9vcCBtZXRob2QgZm9yIHRoaXMgYXBwbGljYXRpb24KCQkvLyBzZWUgaHR0cDovL2pzcGVyZi5jb20vb2JqZWN0LWl0ZXJhdGlvbi1saWtlLWEtYm9zcwoJCWZvciAodmFyIGkgaW4gdGhpcykgewoJCQlpZiAoaSA9PT0gJ2NvZGUnKSByZXR1cm4gZmFsc2U7CgkJCWlmICh0aGlzW2ldID09PSB3aGF0KSByZXR1cm4gdHJ1ZTsKCQl9Cgl9Cn07CgpmdW5jdGlvbiBmaXhUYWJzKGUpIHsKCWUgPSBlIHx8IGV2ZW50OwoJa2V5LmNvZGUgPSBlLmtleUNvZGUgfHwgZS5jaGFyQ29kZTsKCgkvLyBjYXB0dXJlIHRoaXMgKyBwcmV2aW91cyBrZXkgY29kZSB0byBkZXRlY3QgZG91YmxlIGhvbWUgb3IgZW5kCglrZXkuaGlzdG9yeS5wdXNoKGtleS5jb2RlKTsKCWtleS5oaXN0b3J5LnNoaWZ0KCk7CgoJaWYgKCFrZXkuY29udGFpbnMoa2V5LmNvZGUpKSByZXR1cm47CS8vIG5vdCBhIGNoYXJhY3RlciB0aGlzIHNjcmlwdCBoYW5kbGVzCgoJdmFyIGVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKCWlmIChlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAndGV4dGFyZWEnKSByZXR1cm47CS8vIG5vdCBpbiBhIHRleHRhcmVhCglpZiAoZWwubmFtZSA9PSAnY29tbWVudCcpIHJldHVybjsJLy8gbm90IGFuIGVkaXQgZW50cnkgYm94CgoJLy8gQWxsIHN5c3RlbXMgZ28hCgl2YXIgc3RhcnQgPSBlbC5zZWxlY3Rpb25TdGFydCwKCQllbmQgPSBlbC5zZWxlY3Rpb25FbmQsCgkJc2hpZnRTdGFydCA9IHNoaWZ0RW5kID0gMCwKCQkvLyBpbmRlbnQgcmVnZXhwIHJlcGxhY2VtZW50IGZ1bmN0aW9uCgkJdGFiRmlsbCA9IGZ1bmN0aW9uKG1hdGNoLCAkMSwgb2Zmc2V0KSB7CgkJCWZvciAodmFyIGk9MCwgcmV0PScnLCBsZW49bWF0Y2gubGVuZ3RoLCBtPWxlbiAvIDQ7IGk8bTsgaSsrKSByZXQgKz0gJ1x0JzsKCQkJLy8gY29tcGVuc2F0ZSBmb3IgY3Vyc29yIGRyaWZ0CgkJCWlmIChvZmZzZXQgPCBzdGFydCkgewoJCQkJc2hpZnRTdGFydCAtPSAobGVuIC0gaSk7CgkJCQlpZiAob2Zmc2V0ICsgbGVuID4gc3RhcnQpIHNoaWZ0U3RhcnQgKz0gb2Zmc2V0ICsgbGVuIC0gc3RhcnQ7CgkJCX0KCQkJaWYgKG9mZnNldCA8IGVuZCkgewoJCQkJc2hpZnRFbmQgLT0gKGxlbiAtIGkpOwoJCQkJaWYgKG9mZnNldCArIGxlbiA+IGVuZCkgc2hpZnRFbmQgKz0gb2Zmc2V0ICsgbGVuIC0gZW5kOwoJCQl9CgkJCXJldHVybiByZXQ7CgkJfTsKCgkvLyBSZXBsYWNlIHNwYWNlIGluZGVudHMgd2l0aCB0YWJzLgoJZWwudmFsdWUgPSBlbC52YWx1ZS5yZXBsYWNlKC8oPzpeXHQqKSggezR9KSsvbWcsIHRhYkZpbGwpOwoJaWYgKHNoaWZ0U3RhcnQpIHsKCQlzdGFydCArPSBzaGlmdFN0YXJ0OyBlbmQgKz0gc2hpZnRFbmQ7CgkJZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCk7Cgl9CgoJc2VsZWN0ZWQgPSBlbC52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7Cgl2YXIgaW5wdXRBcnIgPSBlbC52YWx1ZS5zcGxpdCgnXG4nKTsKCgkvLyBpbnB1dEFycltyb3ddIGNvbnRhaW5zIHN0YXJ0LCBhbmQgcG9zIGNvbnRhaW5zIHRoZSBpZHggb2YgdGhlIGxhc3QgY2hhciBvZiB0aGUgcHJldmlvdXMgbGluZQoJZm9yICh2YXIgcm93PXBvcz0wO3BvcytpbnB1dEFycltyb3ddLmxlbmd0aDxzdGFydDtyb3crKyl7cG9zKz1pbnB1dEFycltyb3ddLmxlbmd0aCsxfQoKCXN3aXRjaCAoa2V5LmNvZGUpIHsKCgkJY2FzZSBrZXkudGFiOgoKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJLy8gaWYgc2VsZWN0aW9uIHNwYW5zIG1vcmUgdGhhbiBvbmUgbGluZQoJCQlpZiAoc2VsZWN0ZWQuaW5kZXhPZignXG4nKSA+IC0xKSB7CgkJCQkvLyBjb3VudCBudW1iZXIgb2Ygcm93cyBpbmNsdWRlZCBpbiBzZWxlY3Rpb24KCQkJCXZhciByb3dzU2VsZWN0ZWQgPSBzZWxlY3RlZC5zcGxpdCgnXG4nKS5sZW5ndGg7CgoJCQkJLy8gZXhwYW5kIHNlbGVjdGlvbiB0byBjb3ZlciBiZWdpbm5pbmcgb2Ygc3RhcnQgcm93IHVudGlsIGVuZCBvZiBlbmQgcm93CgkJCQkvLyByZXBsYWNlIGFsbCA0LXNwYWNlIHNlcXVlbmNlcyB3aXRoIGEgdGFiIGFuZCB1cGRhdGUgcG9zaXRpb24gaW5kZXhlcwoJCQkJLy8gaWYgc2hpZnQga2V5LCByZW1vdmUgb25lIGxldmVsIG9mIGluZGVudCBwZXIgc2VsZWN0ZWQgcm93OyBvdGhlcndpc2UsIGFkZCBhIGxldmVsIG9mIGluZGVudC4KCQkJCWZvciAoc3RhcnQgPSBwb3MsIHN0b3AgPSByb3cgKyByb3dzU2VsZWN0ZWQ7IHJvdyA8IHN0b3A7IHJvdysrKSB7CgkJCQkJaW5wdXRBcnJbcm93XSA9IChlLnNoaWZ0S2V5KSA/IGlucHV0QXJyW3Jvd10ucmVwbGFjZSgvXiggezR9fFx0KS8sJycpIDogJ1x0JyArIGlucHV0QXJyW3Jvd107CgkJCQkJcG9zKz1pbnB1dEFycltyb3ddLmxlbmd0aCArIDE7CgkJCQl9CgkJCQllbmQgPSAtLXBvczsKCQkJCWVsLnZhbHVlID0gaW5wdXRBcnIuam9pbignXG4nKTsKCQkJCWVsLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBlbmQpOwoKCQkJLy8gZWxzZSBzZWxlY3Rpb24gZG9lcyBub3Qgc3BhbiBtdWx0aXBsZSBsaW5lcy4KCQkJLy8gSWYgbm90IHNoaWZ0IGtleSwgc2ltcGx5IGluc2VydCBhIHRhYiAob3ZlcndyaXRpbmcgYW55IGxlYWRpbmcgc3BhY2VzKSBhbmQgYWR2YW5jZSB0aGUgY3Vyc29yLgoJCQl9IGVsc2UgaWYgKCFlLnNoaWZ0S2V5KSB7CgoJCQkJZWwudmFsdWUgPSBlbC52YWx1ZS5zdWJzdHJpbmcoMCwgc3RhcnQpLnJlcGxhY2UoLyggKykkLywgZnVuY3Rpb24oJDEpIHsgc3RhcnQgLT0gJDEubGVuZ3RoOyByZXR1cm4gJyc7IH0pCgkJCQkJKyAnXHQnCgkJCQkJKyBlbC52YWx1ZS5zdWJzdHJpbmcoZW5kKS5yZXBsYWNlKC9eICsvLCAnJyk7CgkJCQllbC5zZXRTZWxlY3Rpb25SYW5nZSgrK3N0YXJ0LCBzdGFydCk7CgoJCQkvLyBvdGhlcndpc2UsIGhhbmRsZSBzaGlmdCt0YWIKCQkJfSBlbHNlIHsKCgkJCQkvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgkJCQlUaGUgZm9sbG93aW5nIGNvZGUgYmxvY2sgbWltaWNzIHRoZSBiZWhhdmlvciBvZiBOb3RlcGFkKysuCgkJCQlJZiBhIHVzZXIgZG9lcyBzaGlmdC10YWIsIE5QUCBkb2VzIG5vdCBjaGFuZ2UgdGhlCgkJCQlpbmRlbnRhdGlvbiBvZiB0aGUgbGluZSB1bmxlc3MgdGhlIGN1cnNvciBpcyBhdCB0aGUKCQkJCWJlZ2lubmluZyBvZiBhbGwgbm9uLXdoaXRlc3BhY2Ugb24gdGhlIGxpbmUuICBJbnN0ZWFkLAoJCQkJTlBQIG1vdmVzIHRoZSBjdXJzb3IgYmFjayBvbmUgdGFiIHN0b3AuCgkJCQk9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCgkJCQl2YXIgY3Vyc29ySW5Qb3MgPSBzdGFydCAtIHBvcywgY3Vyc29yTW92ZWQsIHRhYlN0b3A7CgoJCQkJLy8gV2hpbGUgdGhlIGN1cnNvciBpcyBub3QgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZSBhbmQgdGhlcmUncwoJCQkJLy8gbm9uLXdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaW5lIGFuZCB0aGUgY3Vyc29yLAoJCQkJLy8gYW5kIHN0YXJ0IGlzIG5vdCBhdCB0aGUgcHJldmlvdXMgdGFiIHN0b3AKCQkJCXdoaWxlIChjdXJzb3JJblBvcyAmJiAvXFMvLnRlc3QoaW5wdXRBcnJbcm93XS5zdWJzdHJpbmcoMCxjdXJzb3JJblBvcykpICYmICF0YWJTdG9wKSB7CgkJCQkJY3Vyc29yTW92ZWQgPSBzdGFydC0tOwoJCQkJCWN1cnNvckluUG9zLS07CgkJCQkJdmFyIGluZGVudExldmVsID0gKGlucHV0QXJyW3Jvd10ubWF0Y2goL15ccysvKSB8fCBbJyddKVswXS5sZW5ndGgsCgkJCQkJCXRlbXBDdXJzb3IgPSBjdXJzb3JJblBvcyAtIGluZGVudExldmVsLAoJCQkJCQl0YWJTdG9wID0gISh0ZW1wQ3Vyc29yICUgNCk7CgkJCQl9CgoJCQkJLy8gSWYgY3Vyc29yIHdhcyBub3QgbW92ZWQsIG91dGRlbnQuCgkJCQlpZiAoIWN1cnNvck1vdmVkKSB7CgkJCQkJaWYgKC9ccy8udGVzdChpbnB1dEFycltyb3ddLmNoYXJBdChjdXJzb3JJblBvcykpKSBzdGFydCsrOwoJCQkJCWlucHV0QXJyW3Jvd10gPSBpbnB1dEFycltyb3ddLnJlcGxhY2UoL14oICt8XHQpLywKCQkJCQkJZnVuY3Rpb24oJDEpIHsgaWYgKHN0YXJ0ID4gcG9zKSBzdGFydCAtPSAkMS5sZW5ndGg7IHJldHVybiAnJzsgfQoJCQkJCSk7CgkJCQkJZWwudmFsdWUgPSBpbnB1dEFyci5qb2luKCdcbicpOwoJCQkJfQoJCQkJZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIHN0YXJ0KTsKCQkJfQoKCQlicmVhazsKCgkJY2FzZSBrZXkuZW50ZXI6CgoJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQkvLyBjdHJsK0VudGVyIHRvIHN1Ym1pdAoJCQlpZiAoZS5jdHJsS2V5KSB7CgkJCQlkbyB7IGVsID0gZWwucGFyZW50Tm9kZSB8fCBudWxsOyB9IHdoaWxlIChlbCAmJiBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnZm9ybScpOwoJCQkJcmV0dXJuIGVsID8gZWwuc3VibWl0KCkgOiBmYWxzZTsKCQkJfQoKCQkJLy8gdW5pZnkgaW5kZW50YXRpb24gb2YgcHJldmlvdXMgbGluZSBhcyB0YWJzCgkJCXZhciBpbmRlbnQgPSAoaW5wdXRBcnJbcm93XS5tYXRjaCgvXlxzKy8pIHx8IFsnJ10pWzBdOwoKCQkJLy8gaW5zZXJ0IG5ld2xpbmUgKyBpbmRlbnQsIGRpc2NhcmRpbmcgY29udGVudHMgb2YgdXNlciBzZWxlY3Rpb24gaWYgYW55CgkJCWVsLnZhbHVlID0gZWwudmFsdWUuc3Vic3RyaW5nKDAsIHBvcykKCQkJCSsgaW5wdXRBcnJbcm93XS5zdWJzdHJpbmcoMCwgc3RhcnQgLSBwb3MpCgkJCQkrICdcbicgKyBpbmRlbnQKCQkJCSsgZWwudmFsdWUuc3Vic3RyaW5nKGVuZCk7CgkJCXN0YXJ0Kz1pbmRlbnQubGVuZ3RoKzE7CgkJCWVsLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBzdGFydCk7CgoJCWJyZWFrOwoKCQljYXNlIGtleS5ob21lOgoKCQkJdmFyIGN1cnNvckluUG9zID0gc3RhcnQgLSBwb3MsIG5ld1N0YXJ0ID0gc3RhcnQsIGN1cnNvck1vdmVkOwoKCQkJLy8gSWYgbm90IGRvdWJsZS1wcmVzc2VkIGFuZCBsaW5lIGlzIHdyYXBwZWQsIGFsbG93IGRlZmF1bHQgYmVoYXZpb3IKCQkJaWYgKGN1cnNvckluUG9zID4gZWwuY29scyAmJiBrZXkuaGlzdG9yeVswXSAhPT0ga2V5LmhvbWUpIHJldHVybjsKCQkJaWYgKGtleS5oaXN0b3J5WzBdID09IGtleS5oaXN0b3J5WzFdKSBrZXkuaGlzdG9yeVsxXSA9IDA7CgoJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQkvLyBJZiBjdXJzb3IgaXMgaW4gdGhlIHdoaXRlc3BhY2UgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZSwgYWR2YW5jZSB0byB0ZXh0CgkJCXdoaWxlIChjdXJzb3JJblBvcyA8IGlucHV0QXJyW3Jvd10ubGVuZ3RoICYmIC9ccy8udGVzdChpbnB1dEFycltyb3ddLmNoYXJBdChjdXJzb3JJblBvcykpKSB7CgkJCQljdXJzb3JNb3ZlZCA9IG5ld1N0YXJ0Kys7CgkJCQljdXJzb3JJblBvcysrOwoJCQl9CgoJCQkvLyBJZiBjdXJzb3IgaXMgYWZ0ZXIgbm9uLXdoaXRlc3BhY2UsIHJlZ3Jlc3MgdG8gYmVnaW5uaW5nIG9mIHRleHQKCQkJd2hpbGUgKGN1cnNvckluUG9zICYmIC9cUy8udGVzdChpbnB1dEFycltyb3ddLnN1YnN0cmluZygwLGN1cnNvckluUG9zKSkpIHsKCQkJCWN1cnNvck1vdmVkID0gbmV3U3RhcnQtLTsKCQkJCWN1cnNvckluUG9zLS07CgkJCX0KCgkJCS8vIElmIHRoZSBjdXJzb3Igd2Fzbid0IG1vdmVkLCBtb3ZlIGl0IHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpbmUuCgkJCWlmICghY3Vyc29yTW92ZWQpIG5ld1N0YXJ0IC09IGN1cnNvckluUG9zOwoKCQkJaWYgKGUuc2hpZnRLZXkpIHsKCQkJCWlmIChzdGFydCA+IG5ld1N0YXJ0KSBlbC5zZXRTZWxlY3Rpb25SYW5nZShuZXdTdGFydCwgZW5kLCAnYmFja3dhcmQnKTsKCQkJCWVsc2UgZWwuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIG5ld1N0YXJ0KTsKCQkJfQoJCQllbHNlIGVsLnNldFNlbGVjdGlvblJhbmdlKG5ld1N0YXJ0LCBuZXdTdGFydCk7CgoJCWJyZWFrOwoKCQljYXNlIGtleS5lbmQ6CgoJCQkvLyBpZiBub3QgZG91YmxlLXByZXNzZWQsIGFsbG93IGRlZmF1bHQgYmVoYXZpb3IuCgkJCWlmIChpbnB1dEFycltyb3ddLmxlbmd0aCA8PSBlbC5jb2xzIHx8IGtleS5oaXN0b3J5WzBdICE9PSBrZXkuZW5kKSByZXR1cm47CgkJCWlmIChrZXkuaGlzdG9yeVswXSA9PSBrZXkuaGlzdG9yeVsxXSkga2V5Lmhpc3RvcnlbMV0gPSAwOwoKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJdmFyIG5ld0VuZCA9IHBvcyArIGlucHV0QXJyW3Jvd10ubGVuZ3RoOwoKCQkJLy8gc2VsZWN0IHRvIG5leHQgXG4KCQkJaWYgKGUuc2hpZnRLZXkpIGVsLnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0LCBuZXdFbmQpOwoJCQllbHNlIGVsLnNldFNlbGVjdGlvblJhbmdlKG5ld0VuZCwgbmV3RW5kKTsKCgkJYnJlYWs7CgoJfQkvLyBlbmQgc3dpdGNoKGtleS5jb2RlKQp9CS8vIGVuZCBmaXhUYWJzKCkKCmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmaXhUYWJzLCB0cnVlKTsKCi8qIGVuZCBrZXlib2FyZCBiZWhhdmlvciBtb2RzICovCgpmdW5jdGlvbiBzZWxlY3RBbGwoKSB7Cgl2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOwoJLy8gc2VsZWN0IHBhcmVudCBpZiBwYXJlbnQgPT09IDxwcmU+OyBlbHNlIHNlbGVjdCBzZWxmCglyYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAncHJlJyA/IHRoaXMuY2hpbGROb2Rlc1swXSA6IHRoaXMpOwoJdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTsKCXNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTsKCXNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7Cn0KCmZ1bmN0aW9uIGFkZERibENsaWNrKCkgewoJdmFyIGNvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29kZScpOwoJZm9yICh2YXIgaT0wOyBpPGNvZGUubGVuZ3RoOyBpKyspIHsKCQkvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoJCUlmIHBhcmVudCBub2RlIGlzIDxwcmU+LCBhZGQgbGlzdGVuZXIgdG8gcGFyZW50LiAgVGhpcyBhbGxvd3MgZG91YmxlLQoJCWNsaWNraW5nIGFueXdoZXJlIHdpdGhpbiBhIGNvZGUgYmxvY2sgdG8gc2VsZWN0IGFsbCwgYXMgd2VsbCBhcyBkb3VibGUtCgkJY2xpY2tpbmcgaW5saW5lIGNvZGUgc25pcHBldHMgdGhlIHBvc3RlciBlbmNsb3NlZCBpbiBiYWNrdGlja3MuCgkJPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi8KCQl2YXIgbm9kZSA9IChjb2RlW2ldLnBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3ByZScgPyBjb2RlW2ldLnBhcmVudE5vZGUgOiBjb2RlW2ldKTsKCQlub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgc2VsZWN0QWxsLCB0cnVlKTsKCQlub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgc2VsZWN0QWxsLCB0cnVlKTsKCQlub2RlLnRpdGxlID0gJ2RvdWJsZS1jbGljayB0byBzZWxlY3QgYWxsJzsKCX0KfQphZGREYmxDbGljaygpOwoKLy8gbGlzdGVuIGZvciBzdHVmZiBsaWtlICJzaG93IDEgbW9yZSBjb21tZW50Igp2YXIgY3JlZXAgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihhZGREYmxDbGljayk7CmNyZWVwLm9ic2VydmUoZG9jdW1lbnQsIHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWV9KTsKCi8qIGVuZCBkb3VibGUtY2xpY2sgbW9kcyAqLwoKLy8gSWYgb24gaHR0cDovL3N0YWNrZXhjaGFuZ2UuY29tLywgY2hlY2sgZm9yIHNpdGVzIG5vdCBpbmNsdWRlZCBpbiBtZXRhZGF0YSBAbWF0Y2ggZGlyZWN0aXZlcwppZiAoL2h0dHBzPzpcL1wvc3RhY2tleGNoYW5nZVwuY29tL2kudGVzdChsb2NhdGlvbi5ocmVmKSAmJiBHTV9pbmZvKSB7Cgl2YXIgWEhSID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7Cgl3aXRoIChYSFIpIHsKCQlvcGVuKCJHRVQiLCAiaHR0cDovL3N0YWNrZXhjaGFuZ2UuY29tL3NpdGVzP3ZpZXc9bGlzdCIsIHRydWUpOwoJCW9uZXJyb3IgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9OwoJCW9ubG9hZCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfTsKCQlvbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKCQkJaWYgKFhIUi5yZWFkeVN0YXRlID09IDQpIHsKCQkJCXZhciBkb20gPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoKTsKCQkJCWRvbS5kb2N1bWVudEVsZW1lbnQuaW5uZXJIVE1MID0gWEhSLnJlc3BvbnNlVGV4dDsKCQkJCXZhciBsaXN0ID0gZG9tLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xpc3Qtdmlldy1jb250YWluZXInKVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpOwoJCQkJdmFyIG1hdGNoZXMgPSBHTV9pbmZvLnNjcmlwdC5tYXRjaGVzOwoJCQkJZm9yICh2YXIgaT1mb3VuZD0wOyBpPGxpc3QubGVuZ3RoOyBpKyspIHsKCQkJCQlpZiAoLyh0d2l0dGVyfGJsb2cpL2kudGVzdChsaXN0W2ldLmhyZWYpKSBjb250aW51ZTsKCQkJCQlmb3IgKHZhciBqPTA7IGo8bWF0Y2hlcy5sZW5ndGg7IGorKykgewoJCQkJCQl2YXIgcnhwID0gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVzW2pdLnJlcGxhY2UoL1wvXCokLywnJykucmVwbGFjZSgvW1wuXC9cKl0vZywgZnVuY3Rpb24obSkgewoJCQkJCQkJcmV0dXJuIChtID09ICcqJykgPyAnLionIDogJ1xcJyArIG07CgkJCQkJCX0pICsgJyQnLCAnaScpOwoJCQkJCQlpZiAocnhwLnRlc3QobGlzdFtpXS5ocmVmKSkgeyBmb3VuZD0xOyBicmVhazsgfQoJCQkJCX0KCQkJCQlpZiAoIWZvdW5kKSBjb25zb2xlLmxvZygnTmV3IHN0YWNrZXhjaGFuZ2UgZG9tYWluOiAnICsgbGlzdFtpXS5ocmVmKTsKCQkJCQllbHNlIGZvdW5kPTA7CgkJCQl9CgkJCX0KCQl9OwoJCXNlbmQoJycpOwoJfQp9Cg=="},{"name":"StackExchange obvious followed link color","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?\\:\\/\\/([a-z\\.]*\\.)?stackexchange\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?askubuntu\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?superuser\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?serverfault\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?stackoverflow\\.com\\/.*/","/https?\\:\\/\\/([a-z\\.]*\\.)?answers.onstartups\\.com\\/.*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831318},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/3362-stackexchange-obvious-followed-link-color/code/StackExchange%20obvious%20followed%20link%20color.user.js","uuid":"6ea166e0-79ab-4e14-9f4e-fe17128833fc","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgU3RhY2tFeGNoYW5nZSBvYnZpb3VzIGZvbGxvd2VkIGxpbmsgY29sb3IKLy8gQG5hbWVzcGFjZSBodHRwOi8vb3N0ZXJtaWxsZXIub3JnLwovLyBAdmVyc2lvbiAxLjAwCi8vIEBkZXNjcmlwdGlvbiBDaGFuZ2UgdGhlIGNvbG9yIG9mIGZvbGxvd2VkIGxpbmtzIG9uIGFsbCBTdGFja0V4Y2hhbmdlIHNpdGVzIHNvIHRoZXkgdGhleSBhcmUgZWFzaWx5IGRpc3Rpbmd1aXNoYWJsZS4KLy8gQGluY2x1ZGUgL2h0dHBzP1w6XC9cLyhbYS16XC5dKlwuKT9zdGFja2V4Y2hhbmdlXC5jb21cLy4qLwovLyBAaW5jbHVkZSAvaHR0cHM/XDpcL1wvKFthLXpcLl0qXC4pP2Fza3VidW50dVwuY29tXC8uKi8KLy8gQGluY2x1ZGUgL2h0dHBzP1w6XC9cLyhbYS16XC5dKlwuKT9zdXBlcnVzZXJcLmNvbVwvLiovCi8vIEBpbmNsdWRlIC9odHRwcz9cOlwvXC8oW2EtelwuXSpcLik/c2VydmVyZmF1bHRcLmNvbVwvLiovCi8vIEBpbmNsdWRlIC9odHRwcz9cOlwvXC8oW2EtelwuXSpcLik/c3RhY2tvdmVyZmxvd1wuY29tXC8uKi8KLy8gQGluY2x1ZGUgL2h0dHBzP1w6XC9cLyhbYS16XC5dKlwuKT9hbnN3ZXJzLm9uc3RhcnR1cHNcLmNvbVwvLiovCi8vIEBncmFudCBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKZnVuY3Rpb24gYWRkQ3NzKGNzc1N0cmluZykgewogICAgdmFyIG5ld0NzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICBuZXdDc3MudHlwZSA9ICJ0ZXh0L2NzcyI7CiAgICBuZXdDc3MuaW5uZXJIVE1MID0gY3NzU3RyaW5nOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChuZXdDc3MpOwogICAgY29uc29sZS5sb2coImFwcGVuZGVkIGNzcyIpOwp9CgphZGRDc3MgKAogICAgJy5xdWVzdGlvbi1oeXBlcmxpbms6dmlzaXRlZCwgLnJlc3VsdC1saW5rIGE6dmlzaXRlZCB7Y29sb3I6ICMwMDAwOEIgISBpbXBvcnRhbnQ7fScKKTsg"},{"name":"Unclosed Request Review Script","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://chat.stackoverflow.com/rooms/41570/*","*://chat.stackoverflow.com/search?q=tagged%2Fcv-pls&Room=41570&page=*&pagesize=50&sort=newest"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831340},"enabled":true,"position":5,"file_url":"https://raw.githubusercontent.com/SO-Close-Vote-Reviewers/UserScripts/master/UnclosedRequestReview.user.js","uuid":"ea33379b-d41e-4b0a-8231-2ab1c5a6b70f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBVbmNsb3NlZCBSZXF1ZXN0IFJldmlldyBTY3JpcHQKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vZ2l0aHViLmNvbS9UaW55LUdpYW50Ci8vIEB2ZXJzaW9uICAgICAgMS4wLjEuMQovLyBAZGVzY3JpcHRpb24gIEFkZHMgYSBidXR0b24gdG8gdGhlIGNoYXQgYnV0dG9ucyBjb250cm9sczsgY2xpY2tpbmcgb24gdGhlIGJ1dHRvbiB0YWtlcyB5b3UgdG8gdGhlIHJlY2VudCB1bmNsb3NlZCBjbG9zZSB2b3RlIHJlcXVlc3QgcXVlcnksIHRoZW4gaXQgc2NhbnMgdGhlIHJlc3VsdHMgIGZvciBjbG9zZWQgb3IgZGVsZXRlZCByZXF1ZXN0cywgb3IgZmFsc2UgcG9zaXRpdmVzIGFuZCBoaWRlcyB0aGVtLgovLyBAYXV0aG9yICAgICAgIEBUaW55R2lhbnQKLy8gQG1hdGNoICAgICAgICAqOi8vY2hhdC5zdGFja292ZXJmbG93LmNvbS9yb29tcy80MTU3MC8qCi8vIEBtYXRjaCAgICAgICAgKjovL2NoYXQuc3RhY2tvdmVyZmxvdy5jb20vc2VhcmNoP3E9dGFnZ2VkJTJGY3YtcGxzJlJvb209NDE1NzAmcGFnZT0qJnBhZ2VzaXplPTUwJnNvcnQ9bmV3ZXN0Ci8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gPT0vVXNlclNjcmlwdD09Ci8qIGpzaGludCAtVzA5NyAqLwoKaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnKSB7CiAgICB2YXIgcmVnZXhlcyA9IFsKICAgICAgICAvKD86dGFnZ2VkXC9jdi1wbCg/OmVhc2V8c3x6KXxcW2N2LXBsKD86ZWFzZXxzfHopXF0pLiooPzpxW15cL10qfHBvc3RzKVwvKFxkKykvLAogICAgICAgIC8oPzpxW15cL10qfHBvc3RzKVwvKFxkKykuKig/OnRhZ2dlZFwvY3YtcGwoPzplYXNlfHN8eil8XFtjdi1wbCg/OmVhc2V8c3x6KVxdKS8sCiAgICBdLCBwb3N0LCBtZXNzYWdlLCBpZCwgcmxlbjsKICAgIHZhciByZXF1ZXN0cyA9IFtdOwogICAgdmFyIGNsb3NlZCA9IFtdOwogICAgdmFyIG9wZW4gPSBbXTsKICAgICAgICAKICAgIGZ1bmN0aW9uIGFwcGVuZEluZm8oc2NvcGUsIGluZm8pIHsKICAgICAgICB2YXIgdGV4dCA9IGluZm8uc2NvcmUgKyAnICgrJyArIGluZm8udXBfdm90ZV9jb3VudCArICcvLScgKyBpbmZvLmRvd25fdm90ZV9jb3VudCArICcpIGM6KCcgKyBpbmZvLmNsb3NlX3ZvdGVfY291bnQgKyAnKSB2OignICsgaW5mby52aWV3X2NvdW50ICsgJyknOwogICAgICAgIHZhciBleGlzdGluZyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3IoJy5yZXF1ZXN0LWluZm8nKTsKICAgICAgICBpZihleGlzdGluZykgewogICAgICAgICAgICBleGlzdGluZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpKTsKICAgICAgICAgICAgZXhpc3RpbmcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpOwogICAgICAgICAgICBzY29wZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuc3R5bGUubWluSGVpZ2h0ID0gZXhpc3RpbmcuY2xpZW50SGVpZ2h0ICsgJ3B4JzsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICBub2RlLmNsYXNzTmFtZSA9ICdyZXF1ZXN0LWluZm8gbWVzc2FnZXMnOwogICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpOwogICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0OwogICAgICAgIHNjb3BlLmFwcGVuZENoaWxkKG5vZGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHsKICAgICAgICBmb3IodmFyIGkgaW4gb3BlbikgewogICAgICAgICAgICB2YXIgcGFyZW50ID0gb3BlbltpXS5tc2cucGFyZW50Tm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICBpZigoL1xkKy8uZXhlYyhwYXJlbnQucXVlcnlTZWxlY3RvcignLnVzZXJuYW1lIGFbaHJlZl49Ii91c2VyIl0nKS5ocmVmKXx8W2ZhbHNlXSlbMF0gPT09IG1lKSB7CiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBhcHBlbmRJbmZvKG9wZW5baV0ubXNnLCBvcGVuW2ldLmluZm8pOwogICAgICAgIH0KICAgICAgICBmb3IodmFyIGogaW4gY2xvc2VkKSB7CiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gY2xvc2VkW2pdLm1zZzsKICAgICAgICAgICAgdmFyIHBhcmVudCA9IG1lc3NhZ2UucGFyZW50Tm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICBtZXNzYWdlLnJlbW92ZSgpOwogICAgICAgICAgICBpZighcGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXNzYWdlJykpIHBhcmVudC5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgICAgdmFyIGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRlbnQgYScpOwogICAgICAgIGZvcih2YXIgaSBpbiBPYmplY3Qua2V5cyhsaW5rcykpIGxpbmtzW2ldLnRhcmdldCA9ICJfYmxhbmsiOwogICAgfQoKICAgIGZ1bmN0aW9uIGZvcm1hdFBvc3RzKGFycikgewogICAgICAgIHZhciB0bXAgPSBbXTsKICAgICAgICBmb3IodmFyIGkgaW4gYXJyKSB0bXAucHVzaChhcnJbaV0ucG9zdCk7CiAgICAgICAgcmV0dXJuIHRtcC5qb2luKCc7Jyk7CiAgICB9CgogICAgZnVuY3Rpb24gY2h1bmtBcnJheShhcnIsIGxlbikgewogICAgICAgIHZhciB0bXAgPSBbXTsKICAgICAgICB2YXIgbnVtID0gTWF0aC5jZWlsKGFyci5sZW5ndGggLyBsZW4pOwogICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBudW07ICsraSkgewogICAgICAgICAgICB0bXAucHVzaChbXSk7CiAgICAgICAgfQogICAgICAgIHZhciBpbmQgPSAwOwogICAgICAgIGZvcih2YXIgaiBpbiBhcnIpIHsKICAgICAgICAgICAgaWYoaiA+IDAgJiYgIShqICUgbGVuKSkgKytpbmQ7CiAgICAgICAgICAgIHRtcFtpbmRdLnB1c2goYXJyW2pdKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRtcDsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gY2hlY2tSZXF1ZXN0cygpIHsKICAgICAgICB2YXIgY3VycmVudHJlcSA9IHJlcXVlc3RzLnBvcCgpOwoKICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgogICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYodGhpcy5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcyk7CiAgICAgICAgICAgICAgICBjaGVja0RvbmUoKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlKTsKICAgICAgICAgICAgdmFyIGl0ZW1zID0gcmVzcG9uc2UuaXRlbXM7CgogICAgICAgICAgICBmb3IodmFyIGkgaW4gaXRlbXMpIHsKICAgICAgICAgICAgICAgIGlmKCFpdGVtc1tpXS5jbG9zZWRfZGF0ZSkgewogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaiBpbiBjdXJyZW50cmVxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRyZXFbal0ucG9zdCA9PSBpdGVtc1tpXS5xdWVzdGlvbl9pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Blbi5wdXNoKHsgbXNnOiBjdXJyZW50cmVxW2pdLm1zZywgaW5mbzogaXRlbXNbaV0gfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY3VycmVudHJlcVtqXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3IodmFyIGkgaW4gY3VycmVudHJlcSkgY2xvc2VkLnB1c2goY3VycmVudHJlcVtpXSk7CgogICAgICAgICAgICBpZighcmVxdWVzdHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjaGVja0RvbmUoKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2V0VGltZW91dChjaGVja1JlcXVlc3RzLCByZXNwb25zZS5iYWNrb2ZmICogMTAwMCk7CiAgICAgICAgfSk7CgogICAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy9hcGkuc3RhY2tleGNoYW5nZS5jb20vMi4yL3F1ZXN0aW9ucy8nICsgZm9ybWF0UG9zdHMoY3VycmVudHJlcSkgKyAnPycgKyBbCiAgICAgICAgICAgICdwYWdlc2l6ZT0xMDAnLAogICAgICAgICAgICAnc2l0ZT1zdGFja292ZXJmbG93JywKICAgICAgICAgICAgJ2tleT1ZdnZrZkJjM0xPU0sqbXdhVFBrVVZRKCgnLAogICAgICAgICAgICAnZmlsdGVyPSEqMVNnUUdETUE4cUxFdHY4aXFRQ0F2aDF0WDJXREVyZTVnMGZFcmRRbicKICAgICAgICBdLmpvaW4oJyYnKTsKCiAgICAgICAgeGhyLm9wZW4oIkdFVCIsIHVybCk7CgogICAgICAgIHhoci5zZW5kKCk7CiAgICB9CiAgICAKICAgIHZhciBzY29wZSA9IGRvY3VtZW50LmJvZHk7CiAgICAKICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJzsKICAgIHN0eWxlLnRleHRDb250ZW50ID0gWwogICAgICAgICcucmVxdWVzdC1pbmZvIHsnLAogICAgICAgICcgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOycsCiAgICAgICAgJyAgICBwb3NpdGlvbjogYWJzb2x1dGU7JywKICAgICAgICAnICAgIHRvcDogLTZweDsnLAogICAgICAgICcgICAgbGVmdDogMTAwJTsnLAogICAgICAgICcgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsnLAogICAgICAgICcgICAgcGFkZGluZzogNnB4IDEwcHg7JywKICAgICAgICAnICAgIHdpZHRoOiBhdXRvOycsCiAgICAgICAgJyAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICNmZjdiMTg7JywKICAgICAgICAnfScsCiAgICAgICAgJy5jb250ZW50IGE6dmlzaXRlZCB7JywKICAgICAgICAnICAgIGNvbG9yOiAjMDQ4MERFOycsCiAgICAgICAgJ30nCiAgICBdLmpvaW4oJ1xuJyk7CiAgICBzY29wZS5hcHBlbmRDaGlsZChzdHlsZSk7CgogICAgdmFyIG1lID0gKC9cZCsvLmV4ZWMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvcGJhci1tZW51LWxpbmtzIGFbaHJlZl49Ii91c2VycyJdJykuaHJlZil8fFtmYWxzZV0pWzBdOwoKICAgIHZhciBtZXNzYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZXNzYWdlJyk7CgogICAgZm9yKHZhciBpIGluIE9iamVjdC5rZXlzKG1lc3NhZ2VzKSkgewogICAgICAgIG1lc3NhZ2UgPSAobWVzc2FnZXNbaV0ucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKS5pbm5lckhUTUx8fCcnKS50cmltKCk7CiAgICAgICAgaWYgKCFtZXNzYWdlKSBjb250aW51ZTsKICAgICAgICB2YXIgaXNyZXEgPSBmYWxzZTsKICAgICAgICBmb3IodmFyIGogaW4gcmVnZXhlcykgewogICAgICAgICAgICBpZihyZWdleGVzW2pdLnRlc3QobWVzc2FnZSkpIHsKICAgICAgICAgICAgICAgIGlzcmVxID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghaXNyZXEpIHsKICAgICAgICAgICAgdmFyIHBhcmVudCA9IG1lc3NhZ2VzW2ldLnBhcmVudE5vZGUucGFyZW50Tm9kZTsKICAgICAgICAgICAgbWVzc2FnZXNbaV0ucmVtb3ZlKCk7CiAgICAgICAgICAgIGlmKCFwYXJlbnQucXVlcnlTZWxlY3RvcignLm1lc3NhZ2UnKSkgcGFyZW50LnJlbW92ZSgpOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgdmFyIG1hdGNoZXMgPSBtZXNzYWdlLm1hdGNoKC9odHRwLio/KD86cVteXC9dKnxwb3N0cylcLyhcZCspL2cpOwogICAgICAgIHZhciBwb3N0cyA9IFtdOwogICAgICAgIGZvcih2YXIgayBpbiBPYmplY3Qua2V5cyhtYXRjaGVzKSkgewogICAgICAgICAgICBwb3N0cy5wdXNoKC8oPzpxW15cL10qfHBvc3RzKVwvKFxkKykvLmV4ZWMobWF0Y2hlc1trXSlbMV0pOwogICAgICAgIH0KICAgICAgICBmb3IodmFyIGwgaW4gcG9zdHMpIHJlcXVlc3RzLnB1c2goeyBtc2c6IG1lc3NhZ2VzW2ldLCBwb3N0OiBwb3N0c1tsXX0pOwogICAgfQogICAgcmxlbiA9IHJlcXVlc3RzLmxlbmd0aDsKICAgIHJlcXVlc3RzID0gY2h1bmtBcnJheShyZXF1ZXN0cywgMTAwKTsKCiAgICBjaGVja1JlcXVlc3RzKCk7Cn0gZWxzZSB7CiAgICB2YXIgbm9kZXMgPSB7fTsKCiAgICBub2Rlcy5zY29wZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGF0LWJ1dHRvbnMnKTsKCiAgICBub2Rlcy5zY29wZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTsKCiAgICBub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgIG5vZGVzLmJ1dHRvbi5jbGFzc05hbWUgPSAnYnV0dG9uIHJlcXVlc3RzLWJ1dHRvbic7CiAgICBub2Rlcy5idXR0b24udGV4dENvbnRlbnQgPSAncmVxdWVzdHMnOwogICAgbm9kZXMuc2NvcGUuYXBwZW5kQ2hpbGQobm9kZXMuYnV0dG9uKTsKCiAgICBub2Rlcy5zY29wZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpKTsKCiAgICBub2Rlcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpewogICAgICAgIHdpbmRvdy5vcGVuKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL3NlYXJjaD9xPXRhZ2dlZCUyRmN2LXBscyZSb29tPTQxNTcwJnBhZ2U9MSZwYWdlc2l6ZT01MCZzb3J0PW5ld2VzdCcpOwogICAgfSwgZmFsc2UpOwp9Cgo="},{"name":"Stack Exchange: Add Timeline and Revisions links to posts","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.askubuntu.com/questions/*","*://*.mathoverflow.net/questions/*","*://*.serverfault.com/questions/*","*://*.stackapps.com/questions/*","*://*.stackexchange.com/questions/*","*://*.stackoverflow.com/questions/*","*://*.superuser.com/questions/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831358},"enabled":true,"position":6,"file_url":"https://gist.github.com/BrockA/5761948/raw/Add_Timeline_Button_to_Stack_Exchange_questions.user.js","uuid":"88d06f2f-ef9a-464b-85ee-432a3c718aa2","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFN0YWNrIEV4Y2hhbmdlOiBBZGQgVGltZWxpbmUgYW5kIFJldmlzaW9ucyBsaW5rcyB0byBwb3N0cwovLyBAZGVzY3JpcHRpb24gQWRkcyBsaW5rcyB0byBwb3N0cyB0byBhbHdheXMgc2hvdyBoaXN0b3J5IGFuZCBsaW5rcyB0byBxdWVzdGlvbnMgdG8gc2hvdyB0aGUgVGltZWxpbmUiLgovLyBAbmFtZXNwYWNlICAgU3RhY2tFeGNoYW5nZQovLyBAbWF0Y2ggICAgICAgKjovLyouYXNrdWJ1bnR1LmNvbS9xdWVzdGlvbnMvKgovLyBAbWF0Y2ggICAgICAgKjovLyoubWF0aG92ZXJmbG93Lm5ldC9xdWVzdGlvbnMvKgovLyBAbWF0Y2ggICAgICAgKjovLyouc2VydmVyZmF1bHQuY29tL3F1ZXN0aW9ucy8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi5zdGFja2FwcHMuY29tL3F1ZXN0aW9ucy8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvKgovLyBAbWF0Y2ggICAgICAgKjovLyouc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLnN1cGVydXNlci5jb20vcXVlc3Rpb25zLyoKLy8gQHZlcnNpb24gICAgIDEuMgovLyBAaGlzdG9yeSAgICAgMS4yIFVwZGF0ZWQgbWF0Y2ggbGlzdAovLyBAaGlzdG9yeSAgICAgMS4xIEFkZGVkIHJldmlzaW9ucyBsaW5rCi8vID09L1VzZXJTY3JpcHQ9PQoKZnVuY3Rpb24gYWRkVXRpbGl0eUxpbmtzICgkKSB7CgogICAgJCgiLnBvc3QtbWVudSIpLmVhY2ggKCBmdW5jdGlvbiAoSikgewogICAgICAgIHZhciBqVGhpcyAgID0gJCh0aGlzKTsKICAgICAgICB2YXIgaHJlZiAgICA9IGpUaGlzLmZpbmQgKCdhW2NsYXNzPSJzaG9ydC1saW5rIl0nKS5hdHRyICgiaHJlZiIpOwogICAgICAgIHZhciBpZE10Y2ggID0gaHJlZi5zcGxpdCAoL1txYV1cLyhcZCspLyk7CiAgICAgICAgaWYgKGlkTXRjaC5sZW5ndGggPiAyKSB7CiAgICAgICAgICAgIHZhciBpZCAgPSBpZE10Y2hbMV07CiAgICAgICAgICAgIGpUaGlzLmFwcGVuZCAoCiAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9ImxzZXAiPnw8L3NwYW4+PGEgaHJlZj0iL3Bvc3RzLycgKyBpZCArICcvcmV2aXNpb25zIj5yZXZpc2lvbnM8L2E+JwogICAgICAgICAgICApOwoKICAgICAgICAgICAgaWYgKEogPT09IDApIHsgIC8vLS0gUXVlc3Rpb24gb25seQogICAgICAgICAgICAgICAgalRoaXMuYXBwZW5kICgKICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9ImxzZXAiPnw8L3NwYW4+PGEgaHJlZj0iL3Bvc3RzLycgKyBpZCArICcvdGltZWxpbmUiPnRpbWVsaW5lPC9hPicKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9ICk7CiAgICAkKCIucmV2Y2VsbDMudm0+ZGl2IikuZWFjaCAoZnVuY3Rpb24gKCkgewogICAgICAgIC8vLS0gTG9va3MgbGlrZSBhIHRpbWVib21iLi4uCiAgICAgICAgZ3VpZCA9ICQodGhpcykuZmluZCAoImEiKS5hdHRyICgiaHJlZiIpLm1hdGNoICgvXHd7OH0gKD86LVx3ezR9ICl7M30tXHd7MTJ9LylbMF07CiAgICAgICAgJCh0aGlzKS5wcmVwZW5kICgnPGEgaHJlZj0iI3JldicgKyBndWlkICsgJyI+bGluazwvYT48c3BhbiBjbGFzcz0ibHNlcCI+fDwvc3Bhbj4nKTsKICAgIH0gKTsKfQoKd2l0aFBhZ2VzX2pRdWVyeSAoYWRkVXRpbGl0eUxpbmtzKTsKCmZ1bmN0aW9uIHdpdGhQYWdlc19qUXVlcnkgKE5BTUVEX0Z1bmN0aW9uVG9SdW4pIHsKICAgIC8vLS0tIFVzZSBuYW1lZCBmdW5jdGlvbnMgZm9yIGNsYXJpdHkgYW5kIGRlYnVnZ2luZy4uLgogICAgdmFyIGZ1bmNUZXh0ICAgICAgICA9IE5BTUVEX0Z1bmN0aW9uVG9SdW4udG9TdHJpbmcgKCk7CiAgICB2YXIgZnVuY05hbWUgICAgICAgID0gZnVuY1RleHQucmVwbGFjZSAoL15mdW5jdGlvblxzKyhcdyspXHMqXCgoLnxcbnxccikrJC8sICIkMSIpOwogICAgdmFyIHNjcmlwdCAgICAgICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKCJzY3JpcHQiKTsKICAgIHNjcmlwdC50ZXh0Q29udGVudCAgPSBmdW5jVGV4dCArICJcblxuIjsKICAgIHNjcmlwdC50ZXh0Q29udGVudCArPSAnalF1ZXJ5KGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkgeycgKyBmdW5jTmFtZSArICcoalF1ZXJ5KTt9ICk7JzsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQgKHNjcmlwdCk7Cn07Cg=="},{"name":"Chat Reply Helper for Stack Exchange sites","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/^https?:\\/\\/chat\\.stackexchange\\.com/.*$/","/^https?:\\/\\/chat\\.stackoverflow\\.com/.*$/","/^https?:\\/\\/chat\\.meta\\.stackexchange\\.com/.*$/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831374},"enabled":true,"position":7,"file_url":"https://raw.githubusercontent.com/oliversalzburg/se-chat-reply-highlight/master/dist/se-chat-replyhelper.user.js","uuid":"4d7672e8-fd1e-4a91-a55f-fbe9bc041877","source":"LyoqIEBwcmVzZXJ2ZQovLyA9PVVzZXJTY3JpcHQ9PQovLyBAbmFtZSAgICAgICAgICAgQ2hhdCBSZXBseSBIZWxwZXIgZm9yIFN0YWNrIEV4Y2hhbmdlIHNpdGVzCi8vIEBuYW1lc3BhY2UgICAgICBodHRwOi8vb2xpdmVyc2FsemJ1cmcuZ2l0aHViLmNvbS8KLy8gQHZlcnNpb24gICAgICAgIDIuNS4xCi8vIEBkZXNjcmlwdGlvbiAgICBIYW5kbGUgc3RydWN0dXJlZCBjb252ZXJzYXRpb25zIG1vcmUgY29udmVuaWVudGx5Ci8vIEBob21lcGFnZSAgICAgICBodHRwczovL2dpdGh1Yi5jb20vb2xpdmVyc2FsemJ1cmcvc2UtY2hhdC1yZXBseS1oaWdobGlnaHQKLy8gQGdyYW50ICAgICAgICAgIG5vbmUKLy8gQGluY2x1ZGUgL15odHRwcz86XC9cL2NoYXRcLnN0YWNrZXhjaGFuZ2VcLmNvbS8uKiQvCi8vIEBpbmNsdWRlIC9eaHR0cHM/OlwvXC9jaGF0XC5zdGFja292ZXJmbG93XC5jb20vLiokLwovLyBAaW5jbHVkZSAvXmh0dHBzPzpcL1wvY2hhdFwubWV0YVwuc3RhY2tleGNoYW5nZVwuY29tLy4qJC8KCi8vID09L1VzZXJTY3JpcHQ9PQoqLwoKLy8galF1ZXJ5IENhcmV0IFBsdWdpbgovKgogKgogKiBDb3B5cmlnaHQgKGMpIDIwMTAgQy4gRi4sIFdvbmcgKDxhIGhyZWY9Imh0dHA6Ly9jbG91ZGdlbi53MG5nLmhrIj5DbG91ZGdlbiBFeGFtcGxldCBTdG9yZTwvYT4pCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZToKICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAKICoKICovCi8vIEBmb3JtYXR0ZXI6b2ZmCihmdW5jdGlvbihlLHQsbixyKXtlLmZuLmNhcmV0PWZ1bmN0aW9uKGkscyl7dmFyIG8sdSxhPXRoaXNbMF0sZj1lLmJyb3dzZXIubXNpZTtpZih0eXBlb2YgaT09PSJvYmplY3QiJiZ0eXBlb2YgaS5zdGFydD09PSJudW1iZXIiJiZ0eXBlb2YgaS5lbmQ9PT0ibnVtYmVyIil7bz1pLnN0YXJ0O3U9aS5lbmR9ZWxzZSBpZih0eXBlb2YgaT09PSJudW1iZXIiJiZ0eXBlb2Ygcz09PSJudW1iZXIiKXtvPWk7dT1zfWVsc2UgaWYodHlwZW9mIGk9PT0ic3RyaW5nIil7aWYoKG89YS52YWx1ZS5pbmRleE9mKGkpKT4tMSl1PW8raVt0XTtlbHNlIG89bnVsbH1lbHNlIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKT09PSJbb2JqZWN0IFJlZ0V4cF0iKXt2YXIgbD1pLmV4ZWMoYS52YWx1ZSk7aWYobCE9bnVsbCl7bz1sLmluZGV4O3U9bytsWzBdW3RdfX1pZih0eXBlb2YgbyE9InVuZGVmaW5lZCIpe2lmKGYpe3ZhciBjPXRoaXNbMF0uY3JlYXRlVGV4dFJhbmdlKCk7Yy5jb2xsYXBzZSh0cnVlKTtjLm1vdmVTdGFydCgiY2hhcmFjdGVyIixvKTtjLm1vdmVFbmQoImNoYXJhY3RlciIsdS1vKTtjLnNlbGVjdCgpfWVsc2V7dGhpc1swXS5zZWxlY3Rpb25TdGFydD1vO3RoaXNbMF0uc2VsZWN0aW9uRW5kPXV9dGhpc1swXS5mb2N1cygpO3JldHVybiB0aGlzfWVsc2V7aWYoZil7dmFyIGg9ZG9jdW1lbnQuc2VsZWN0aW9uO2lmKHRoaXNbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpIT0idGV4dGFyZWEiKXt2YXIgcD10aGlzLnZhbCgpLGQ9aFtuXSgpW3JdKCk7ZC5tb3ZlRW5kKCJjaGFyYWN0ZXIiLHBbdF0pO3ZhciB2PWQudGV4dD09IiI/cFt0XTpwLmxhc3RJbmRleE9mKGQudGV4dCk7ZD1oW25dKClbcl0oKTtkLm1vdmVTdGFydCgiY2hhcmFjdGVyIiwtcFt0XSk7dmFyIG09ZC50ZXh0W3RdfWVsc2V7dmFyIGQ9aFtuXSgpLGc9ZFtyXSgpO2cubW92ZVRvRWxlbWVudFRleHQodGhpc1swXSk7Zy5zZXRFbmRQb2ludCgiRW5kVG9FbmQiLGQpO3ZhciB2PWcudGV4dFt0XS1kLnRleHRbdF0sbT12K2QudGV4dFt0XX19ZWxzZXt2YXIgdj1hLnNlbGVjdGlvblN0YXJ0LG09YS5zZWxlY3Rpb25FbmR9dmFyIHk9YS52YWx1ZS5zdWJzdHJpbmcodixtKTtyZXR1cm57c3RhcnQ6dixlbmQ6bSx0ZXh0OnkscmVwbGFjZTpmdW5jdGlvbihlKXtyZXR1cm4gYS52YWx1ZS5zdWJzdHJpbmcoMCx2KStlK2EudmFsdWUuc3Vic3RyaW5nKG0sYS52YWx1ZVt0XSl9fX19fSkoJCwibGVuZ3RoIiwiY3JlYXRlUmFuZ2UiLCJkdXBsaWNhdGUiKQovLyBAZm9ybWF0dGVyOm9uCgokLmZuLnJldmVyc2UgPSBbXS5yZXZlcnNlOwoKLyoqCiAqIENvbnN0cnVjdHMgYSBuZXcgUmVwbHlIZWxwZXIgaW5zdGFuY2UKICogQGNvbnN0cnVjdG9yCiAqLwpmdW5jdGlvbiBSZXBseUhlbHBlcigpIHsKICB0aGlzLnJlZ2lzdGVySGFuZGxlcigpOwogIHRoaXMuZW5hYmxlUXVvdGVCdWJibGUoKTsKfQoKUmVwbHlIZWxwZXIucHJvdG90eXBlID0gewoKICBxdW90ZWRNZXNzYWdlIDogbnVsbCwKCiAgLyoqCiAgICogUmVwbHkgdG8gYSBtZXNzYWdlIHdpdGggYSBnaXZlbiBJRAogICAqIEBwYXJhbSBpZCBUaGUgSUQgb2YgdGhlIG1lc3NhZ2UgdG8gcmVwbHkgdG8KICAgKiBAcGFyYW0gdHJpZ2dlciBUaGUgc3RyaW5nIHRoYXQgdHJpZ2dlcmVkIG91ciBzY3JpcHQgdG8gcnVuLgogICAqLwogIHJlcGx5VG8gOiBmdW5jdGlvbiggaWQsIHRyaWdnZXIgKSB7CiAgICB0cmlnZ2VyID0gdHJpZ2dlciB8fCAiOiI7CiAgICAvLyBJZiA6IHdhc24ndCBvdXIgdHJpZ2dlciwgd2UgYXNzdW1lIHRoYXQgd2UnbGwgbmVlZCBhZGRpdGlvbmFsIHBhZGRpbmcgYWZ0ZXIgdGhlIHRyaWdnZXIuCiAgICB2YXIgX3BhZGRpbmcgPSAiIjsKICAgIGlmKCAiOiIgIT0gdHJpZ2dlciAmJiAhdHJpZ2dlci5tYXRjaCggLyAkLyApICkgewogICAgICBfcGFkZGluZyA9ICIgIjsKICAgIH0KCiAgICB2YXIgX2lucHV0RWxlbWVudCA9ICQoICIjaW5wdXQiICk7CiAgICB2YXIgX2NhcmV0UG9zaXRpb24gPSBfaW5wdXRFbGVtZW50LmNhcmV0KCkuc3RhcnQ7CiAgICB2YXIgX2N1cnJlbnRUZXh0ID0gX2lucHV0RWxlbWVudC52YWwoKTsKICAgIHZhciBfbmV3VGV4dCA9IF9jdXJyZW50VGV4dC5yZXBsYWNlKCBuZXcgUmVnRXhwKCAiXiIgKyB0cmlnZ2VyICsgIlxcZCogPyIgKSwgdHJpZ2dlciArIF9wYWRkaW5nICsgaWQgKyAiICIgKTsKICAgIF9pbnB1dEVsZW1lbnQudmFsKCBfbmV3VGV4dCApOwogICAgX2lucHV0RWxlbWVudC5jYXJldCggX2NhcmV0UG9zaXRpb24sIF9jYXJldFBvc2l0aW9uICk7CiAgfSwKCiAgLyoqCiAgICogU2Nyb2xsIGEgZ2l2ZW4gbWVzc2FnZSBpbnRvIHZpZXcKICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzY3JvbGwgaW50byB2aWV3IChqUXVlcnkgb2JqZWN0KQogICAqLwogIHNjcm9sbFRvIDogZnVuY3Rpb24oIG1lc3NhZ2UgKSB7CiAgICBpZiggIW1lc3NhZ2Uub2Zmc2V0KCkgKSByZXR1cm47CgogICAgdmFyIF90YXJnZXQgPSBtZXNzYWdlLm9mZnNldCgpLnRvcCAtIDEwOwogICAgaWYoIF90YXJnZXQgPCAwICkgX3RhcmdldCA9IDA7CiAgICAkKCAiaHRtbCwgYm9keSIgKS5hbmltYXRlKCB7IHNjcm9sbFRvcCA6IF90YXJnZXQgfSwgNTAgKTsKICB9LAoKICAvKioKICAgKiBEb2VzIGFsbCB0aGUgdGhpbmdzIG5lZWRlZCB0byBtYXJrIGEgbmV3IG1lc3NhZ2UgYXMgdGhlIG1lc3NhZ2UgdGhhdCBpcyBiZWluZyByZXBsaWVkIHRvLgogICAqIEBwYXJhbSBfdGFyZ2V0CiAgICovCiAgdXBkYXRlUmVwbHkgOiBmdW5jdGlvbiggX3RhcmdldCwgX3RyaWdnZXIgKSB7CiAgICAvLyBQdXQgb3VyIG1hcmtlciBhbmQgaGlnaGxpZ2h0IGNsYXNzZXMgb24gaXQuLi4KICAgIF90YXJnZXQuYWRkQ2xhc3MoICJyZXBseS1jaGlsZCBzZS1oaWdobGlnaHQtaGVscGVyIiApOwogICAgLy8gLi4uYW5kIG1ha2Ugc3VyZSBpdCdzIHNjcm9sbGVkIGludG8gdmlldy4KICAgIHRoaXMuc2Nyb2xsVG8oIF90YXJnZXQgKTsKCiAgICAvLyBOb3cgZ3JhYiB0aGUgSUQgb2YgdGhlIG5ldyBtZXNzYWdlLi4uCiAgICB2YXIgX2lkID0gX3RhcmdldC5hdHRyKCAiaWQiICk7CiAgICAvLyAuLi5hbmQgdXBkYXRlIG91ciBpbnB1dCBib3guCiAgICBpZiggX2lkICkgdGhpcy5yZXBseVRvKCBfaWQuc3Vic3RyaW5nKCAibWVzc2FnZS0iLmxlbmd0aCApLCBfdHJpZ2dlciApOwogIH0sCgogIHJlZ2lzdGVySGFuZGxlciA6IGZ1bmN0aW9uKCkgewogICAgdmFyIHJlcGx5SGVscGVyID0gdGhpczsKICAgICQoICIjaW5wdXQiICkua2V5ZG93bigKICAgICAgZnVuY3Rpb24oIGUgKSB7CiAgICAgICAgLy8gU3RvcmUgcmVmZXJlbmNlIHRvIGlucHV0IGVsZW1lbnQKICAgICAgICB2YXIgX2lucHV0RWxlbWVudCA9ICQoICIjaW5wdXQiICk7CiAgICAgICAgLy8gRG9uJ3QgdXNlIHJlcGx5LXRvIGhlbHBlciB3aGVuIGEgcHJldmlvdXMgbWVzc2FnZSBpcyBiZWluZyBlZGl0ZWQKICAgICAgICBpZiggX2lucHV0RWxlbWVudC5oYXNDbGFzcyggImVkaXRpbmciICkgKSByZXR1cm47CgogICAgICAgIC8vIFN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSB0ZXh0IGluIHRoZSBpbnB1dCBlbGVtZW50CiAgICAgICAgdmFyIF90ZXh0ID0gX2lucHV0RWxlbWVudC52YWwoKTsKICAgICAgICAvLyBSdW4gYSBtYWdpYyByZWd1bGFyIGV4cHJlc3Npb24gb24gdGhlIGlucHV0IHRleHQKICAgICAgICAvLyAtIExpbmUgaGFzIHRvIHN0YXJ0IHdpdGggOgogICAgICAgIC8vIC0gRm9sbG93ZWQgYnkgZWl0aGVyCiAgICAgICAgLy8gICAgIC0gRW5kIG9mIExpbmUKICAgICAgICAvLyAgICAgLSBPbmUgb3IgbW9yZSBkaWdpdHMKICAgICAgICAvLyAgICAgLSBBIHNwYWNlCiAgICAgICAgdmFyIF9pZE1hdGNoID0gX3RleHQubWF0Y2goIC9eKDp8ISF0ZWxsID8pKCR8XGQrfCApLyApOwoKICAgICAgICAvLyBJZiB0aGUgZXhwcmVzc2lvbiBtYXRjaGVkIGFueXRoaW5nLi4uCiAgICAgICAgaWYoIF9pZE1hdGNoICkgewogICAgICAgICAgLy8gMzggPSBVcCBBcnJvdywgNDAgPT0gRG93biBBcnJvdwogICAgICAgICAgaWYoIDM4ID09IGUua2V5Q29kZSB8fCA0MCA9PSBlLmtleUNvZGUgKSB7CgogICAgICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggY2hhcmFjdGVyIHNlcXVlbmNlIGNhdXNlZCBvdXIgcmVwbHkgaGVscGVyIHRvIGJlIGludm9rZWQuCiAgICAgICAgICAgIHZhciBfdHJpZ2dlciA9IF9pZE1hdGNoWyAxIF07CgogICAgICAgICAgICAvLyBGaW5kIHRoZSBwb3NpdGlvbiBvZiB0aGUgY2FyZXQKICAgICAgICAgICAgdmFyIF9jYXJldFBvc2l0aW9uID0gX2lucHV0RWxlbWVudC5jYXJldCgpLnN0YXJ0OwogICAgICAgICAgICAvLyBJZiBpdCBpcyBiZWhpbmQgdGhlIElELCBkb24ndCBkbyBhbnl0aGluZyAoY291bGQgY29uZmxpY3Qgd2l0aCBtdWx0aS1saW5lIGVkaXRpbmcpLgogICAgICAgICAgICBpZiggX2NhcmV0UG9zaXRpb24gPiBfaWRNYXRjaFsgMCBdLmxlbmd0aCArIDEgKSByZXR1cm47CgogICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWYgdGhlIHVzZXIgaXMgbW92aW5nIHVwd2FyZHMgb3IgZG93bndhcmRzCiAgICAgICAgICAgIHZhciBfZGlyZWN0aW9uID0gKCAzOCA9PSBlLmtleUNvZGUgKSA/IC0xIDogMTsKCiAgICAgICAgICAgIC8vIEZpbmQgdGhlIG1lc3NhZ2UgdGhhdCB3YXMgcHJldmlvdXNseSBzZWxlY3RlZCBieSB0aGUgdXNlciwKICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBub3cgd2FudCB0byBzZWxlY3QgYW5vdGhlciBtZXNzYWdlIHJlbGF0aXZlIHRvIGl0LgogICAgICAgICAgICB2YXIgX3ByZXZpb3VzTWFya2VyID0gJCggIi5yZXBseS1jaGlsZC5zZS1oaWdobGlnaHQtaGVscGVyIiApOwogICAgICAgICAgICAvLyBEaWQgd2UgZmluZCBhIHByZXZpb3VzIG1hcmtlcj8KICAgICAgICAgICAgaWYoIDAgPCBfcHJldmlvdXNNYXJrZXIubGVuZ3RoICkgewogICAgICAgICAgICAgIC8vIFdlIG9ubHkgY2FyZSBhYm91dCB0aGUgZmlyc3QgbWF0Y2gKICAgICAgICAgICAgICBfcHJldmlvdXNNYXJrZXIgPSBfcHJldmlvdXNNYXJrZXIuZmlyc3QoKTsKICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHByZXZpb3VzIENTUyBtYXJrZXIgY2xhc3NlcyBmcm9tIGl0LgogICAgICAgICAgICAgIF9wcmV2aW91c01hcmtlci5yZW1vdmVDbGFzcyggInJlcGx5LWNoaWxkIHNlLWhpZ2hsaWdodC1oZWxwZXIiICk7CgogICAgICAgICAgICAgIC8vIEdyYWIgYSBjb2xsZWN0aW9uIG9mIGFsbCBtZXNzYWdlcy4KICAgICAgICAgICAgICB2YXIgX21lc3NhZ2VzID0gJCggIi5tZXNzYWdlcyAubWVzc2FnZSIgKTsKICAgICAgICAgICAgICAvLyBSZXZlcnNlIHRoZSBzZWxlY3Rpb24sIGRlcGVuZGluZyBvbiB3aGljaCBkaXJlY3Rpb24gd2UncmUgbW92aW5nLgogICAgICAgICAgICAgIGlmKCAtMSA9PSBfZGlyZWN0aW9uICkgX21lc3NhZ2VzID0gX21lc3NhZ2VzLnJldmVyc2UoKTsKCiAgICAgICAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGFsbCBtZXNzYWdlcy4KICAgICAgICAgICAgICBfbWVzc2FnZXMuZWFjaCggZnVuY3Rpb24oIGluZGV4LCBpdGVtICkgewogICAgICAgICAgICAgICAgLy8gSWYgdGhlIG1lc3NhZ2Ugd2UncmUgY3VycmVudGx5IGxvb2tpbmcgYXQsIGlzIHRoZSBvbmUgd2UgcHJldmlvdXNseSBtYXJrZWQuLi4KICAgICAgICAgICAgICAgIGlmKCAkKCBpdGVtICkuYXR0ciggImlkIiApID09IF9wcmV2aW91c01hcmtlci5hdHRyKCAiaWQiICkgKSB7CiAgICAgICAgICAgICAgICAgIC8vIC4uLnNlbGVjdCB0aGUgbWVzc2FnZSBhZnRlciBpdCBhcyB0aGUgbmV3IHRhcmdldC4KICAgICAgICAgICAgICAgICAgdmFyIF90YXJnZXQgPSAkKCBfbWVzc2FnZXNbIGluZGV4ICsgMSBdICkuZmlyc3QoKTsKICAgICAgICAgICAgICAgICAgaWYoICFfdGFyZ2V0ICkgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgcmVwbHlIZWxwZXIudXBkYXRlUmVwbHkoIF90YXJnZXQsIF90cmlnZ2VyICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSApOwoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBJZiBubyBtZXNzYWdlIHdhcyBwcmV2aW91c2x5IHNlbGVjdGVkLCBqdXN0IHRhcmdldCB0aGUgbGFzdCBtZXNzYWdlIGluIHRoZSBsb2cuCiAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlcyA9ICQoICIubWVzc2FnZXMgLm1lc3NhZ2UiICk7CiAgICAgICAgICAgICAgdmFyIF90YXJnZXQgPSBfbWVzc2FnZXMubGFzdCgpOwogICAgICAgICAgICAgIGlmKCAhX3RhcmdldCApIHJldHVybjsKCiAgICAgICAgICAgICAgcmVwbHlIZWxwZXIudXBkYXRlUmVwbHkoIF90YXJnZXQsIF90cmlnZ2VyICk7CgogICAgICAgICAgICAgIC8vIElmIHdlIHdlcmUganVzdCBiZWdpbm5pbmcgYSBuZXcgcmVwbHksIHB1dCB0aGUgY2FyZXQgYWZ0ZXIgdGhlIElECiAgICAgICAgICAgICAgaWYoIF90ZXh0ID09IF90cmlnZ2VyICkgewogICAgICAgICAgICAgICAgdmFyIF9uZXdDYXJldFBvc2l0aW9uID0gX2lucHV0RWxlbWVudC52YWwoKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBfaW5wdXRFbGVtZW50LmNhcmV0KCBfbmV3Q2FyZXRQb3NpdGlvbiwgX25ld0NhcmV0UG9zaXRpb24gKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGlzbid0IHJlcGx5aW5nIHRvIGFueXRoaW5nLAogICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBtYXJrZXJzIGFyZSBjbGVhcmVkLgogICAgICAgICAgJCggIi5yZXBseS1jaGlsZC5zZS1oaWdobGlnaHQtaGVscGVyIiApLnJlbW92ZUNsYXNzKCAicmVwbHktY2hpbGQgc2UtaGlnaGxpZ2h0LWhlbHBlciIgKTsKICAgICAgICB9CiAgICAgIH0gKTsKCiAgICAkKCBkb2N1bWVudCApLm9uKCAiY2xpY2siLCAiLm5ld3JlcGx5IiwgZnVuY3Rpb24oIGV2ZW50ICkgewogICAgICByZXBseUhlbHBlci51cGRhdGVSZXBseSggJCggdGhpcyApLnBhcmVudHMoICIubWVzc2FnZXMgLm1lc3NhZ2UiICkgKTsKICAgIH0gKTsKICB9LAoKICAvKioKICAgKiBFbmFibGVzIGEgYnViYmxlIHRoYXQgc2hvd3MgdGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UgcmVwbGllZCB0by4KICAgKiBUaGlzIGJ1YmJsZSBpcyBzaG93biB3aGVuIGhvdmVyaW5nIG92ZXIgdGhlIGljb24gdGhhdCBpbmRpY2F0ZXMgdGhhdCBhIG1lc3NhZ2UgaXMgYSByZXBseS4KICAgKi8KICBlbmFibGVRdW90ZUJ1YmJsZSA6IGZ1bmN0aW9uKCkgewogICAgJCggZG9jdW1lbnQgKS5vbiggIm1vdXNlbW92ZSIsIGZ1bmN0aW9uKCBldmVudCApIHsKICAgICAgaWYoIG51bGwgPT0gcmVwbHlIZWxwZXIucXVvdGVkTWVzc2FnZSApIHJldHVybjsKCiAgICAgIC8vIERldGVybWluZSB0aGUgaGVpZ2h0IG9mIHRoZSByZXBseSBidWJibGUuCiAgICAgIC8vIFdlIG5lZWQgdG8gZG8gdGhpcyBoZXJlIGJlY2F1c2Ugd2hlbiB3ZSBhdHRhY2ggdGhlIGJ1YmJsZSB0byB0aGUgRE9NLAogICAgICAvLyB0aGUgaGVpZ2h0IGlzIG5vdCB5ZXQgYXZhaWxhYmxlLgogICAgICB2YXIgbWVzc2FnZUhlaWdodCA9IHJlcGx5SGVscGVyLnF1b3RlZE1lc3NhZ2UuaGVpZ2h0KCk7CiAgICAgIGlmKCAwID09IG1lc3NhZ2VIZWlnaHQgKSByZXR1cm47CgogICAgICAvLyBDYWxjdWxhdGUgdGhlIGNvcnJlY3QgcG9zaXRpb24gZm9yIHRoZSBidWJibGUuCiAgICAgIHZhciBsZWZ0ID0gZXZlbnQucGFnZVg7CiAgICAgIHZhciB0b3AgPSBldmVudC5wYWdlWSAtICggbWVzc2FnZUhlaWdodCArIDMwICk7CiAgICAgIHJlcGx5SGVscGVyLnF1b3RlZE1lc3NhZ2UuYXR0ciggInN0eWxlIiwgInBvc2l0aW9uIDogYWJzb2x1dGU7IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxlZnQ6IiArIGxlZnQgKyAicHg7IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRvcDoiICsgdG9wICsgInB4OyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ6LWluZGV4IDogMzsiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWluLXdpZHRoIDogMHB4OyIKICAgICAgKTsKICAgIH0gKTsKCiAgICAkKCBkb2N1bWVudCApLm9uKCAibW91c2VlbnRlciIsICIucmVwbHktaW5mbyIsIGZ1bmN0aW9uKCBldmVudCApIHsKICAgICAgdmFyIHF1b3RlZE1lc3NhZ2UgPSBudWxsOwoKICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBJRCBvZiB0aGUgbWVzc2FnZSB0aGF0IHdhcyByZXBsaWVkIHRvLgogICAgICB2YXIgaHJlZiA9ICQoIHRoaXMgKS5hdHRyKCAiaHJlZiIgKTsKICAgICAgdmFyIGhhc2hQb3NpdGlvbiA9IGhyZWYubGFzdEluZGV4T2YoICIjIiApOwogICAgICB2YXIgb3JpZ2luYWxJZCA9IGhyZWYuc3Vic3RyKCBoYXNoUG9zaXRpb24gKyAxICk7CgogICAgICAvLyBGaW5kIHRoZSBvcmlnaW5hbCBtZXNzYWdlIChpZiBpdCBpcyBzdGlsbCBpbiB0aGUgbG9nKS4KICAgICAgdmFyIG9yaWdpbmFsTWVzc2FnZSA9ICQoICIjbWVzc2FnZS0iICsgb3JpZ2luYWxJZCApOwogICAgICBpZiggMCA8IG9yaWdpbmFsTWVzc2FnZS5sZW5ndGggKSB7CiAgICAgICAgLy8gR2V0IHRoZSBhY3R1YWwgbWVzc2FnZQogICAgICAgIHZhciBtZXNzYWdlQ29udGVudCA9ICQoICIuY29udGVudCIsIG9yaWdpbmFsTWVzc2FnZSApLmh0bWwoKTsKCiAgICAgICAgLy8gV2FzIHRoZSBtZXNzYWdlIGZyb20gdXM/CiAgICAgICAgdmFyIHdhc01pbmUgPSBvcmlnaW5hbE1lc3NhZ2UucGFyZW50cyggIi51c2VyLWNvbnRhaW5lciIgKS5oYXNDbGFzcyggIm1pbmUiICk7CgogICAgICAgIC8vIFRyeSB0byBmaW5kIGEgdGltZXN0YW1wCiAgICAgICAgLy8gV2Ugc2VhcmNoIGEgYml0IGhlcmUgYW5kIHRoZXJlLCBhcyBvdGhlciBleHRlbnNpb25zIGNhbiBhZGQgdGltZXN0YW1wcyBhdCBvdGhlciBwbGFjZXMuCiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IG51bGw7CiAgICAgICAgdmFyIG1lc3NhZ2VDaGlsZCA9ICQoICIudGltZXN0YW1wIiwgb3JpZ2luYWxNZXNzYWdlICk7CiAgICAgICAgdmFyIG1lc3NhZ2VTaWJsaW5nID0gJCggb3JpZ2luYWxNZXNzYWdlICkuc2libGluZ3MoICIudGltZXN0YW1wIiApOwogICAgICAgIGlmKCAwIDwgbWVzc2FnZUNoaWxkLmxlbmd0aCApIHsKICAgICAgICAgIHRpbWVzdGFtcCA9IG1lc3NhZ2VDaGlsZDsKICAgICAgICB9IGVsc2UgaWYoIDAgPCBtZXNzYWdlU2libGluZy5sZW5ndGggKSB7CiAgICAgICAgICB0aW1lc3RhbXAgPSBtZXNzYWdlU2libGluZzsKICAgICAgICB9CgogICAgICAgIC8vIEZpbmQgdGhlIGF1dGhvcgogICAgICAgIHZhciBhdXRob3IgPSBudWxsOwogICAgICAgIHZhciBzaWduYXR1cmUgPSBvcmlnaW5hbE1lc3NhZ2UucGFyZW50cyggIi5tZXNzYWdlcyIgKS5zaWJsaW5ncyggIi5zaWduYXR1cmUiICk7CiAgICAgICAgaWYoIDAgPCBzaWduYXR1cmUubGVuZ3RoICkgewogICAgICAgICAgYXV0aG9yID0gc2lnbmF0dXJlLmNsb25lKCk7CiAgICAgICAgICAvLyBSZW1vdmUgYWxsIGJ1dCB0aGUgdGlueSBzaWduYXR1cmUKICAgICAgICAgIHZhciB0aW55U2lnbmF0dXJlID0gJCggIi50aW55LXNpZ25hdHVyZSIsIGF1dGhvciApLmRldGFjaCgpOwogICAgICAgICAgJCggYXV0aG9yICkuZW1wdHkoKS5hcHBlbmQoIHRpbnlTaWduYXR1cmUgKTsKICAgICAgICAgICQoIHRpbnlTaWduYXR1cmUgKS5zaG93KCk7CgogICAgICAgICAgLy8gQ29uc3RydWN0IG91ciBuZXcgYXV0aG9yIG92ZXJsYXkKICAgICAgICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBvcmlnaW5hbE1lc3NhZ2UucGFyZW50cyggIi5tZXNzYWdlcyIgKS5jc3MoICJiYWNrZ3JvdW5kLWNvbG9yIiApOwogICAgICAgICAgYXV0aG9yLmF0dHIoICJzdHlsZSIsICJiYWNrZ3JvdW5kLWNvbG9yIDogIiArIGJhY2tncm91bmRDb2xvciArICI7IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIDogaW5oZXJpdDsiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYm9yZGVyLXRvcCA6IDFweCBzb2xpZCBibGFjazsiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYm9yZGVyLXJpZ2h0IDogMXB4IHNvbGlkIGJsYWNrOyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJib3JkZXItbGVmdCA6IDFweCBzb2xpZCBibGFjazsiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cyA6IDZweDsiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMgOiA2cHg7IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBhZGRpbmcgOiAycHggNXB4IDJweCA1cHg7IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInotaW5kZXggOiAyOyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwb3NpdGlvbiA6IHJlbGF0aXZlOyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0b3AgOiAxcHg7IgogICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIC8vIENvbnN0cnVjdCB0aGUgZmluYWwgbWVzc2FnZSBlbGVtZW50LgogICAgICAgIHF1b3RlZE1lc3NhZ2UgPSAkKAogICAgICAgICAgIjxkaXYgY2xhc3M9J3VzZXItY29udGFpbmVyIG1vbm9sb2d1ZSc+IgogICAgICAgICAgICArICI8ZGl2IGNsYXNzPSdtZXNzYWdlcyc+IgogICAgICAgICAgICArICI8ZGl2IGNsYXNzPSdtZXNzYWdlJz4iCiAgICAgICAgICAgICsgIjxkaXYgY2xhc3M9J2NvbnRlbnQnPiIKICAgICAgICAgICAgKyBtZXNzYWdlQ29udGVudAogICAgICAgICAgICArICI8L2Rpdj4iCiAgICAgICAgICAgICsgIjwvZGl2PiIKICAgICAgICAgICAgKyAiPC9kaXY+IgogICAgICAgICAgICArICI8L2Rpdj4iCiAgICAgICAgKTsKICAgICAgICBxdW90ZWRNZXNzYWdlLmF0dHIoICJzdHlsZSIsICJwb3NpdGlvbiA6IGFic29sdXRlOyIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRvcCA6IC05OTk5OyIKICAgICAgICApOwogICAgICAgICQoICIubWVzc2FnZXMiLCBxdW90ZWRNZXNzYWdlICkuYXR0ciggInN0eWxlIiwgImJvcmRlciA6IDFweCBzb2xpZCBibGFjazsiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJib3JkZXItdG9wLWxlZnQtcmFkaXVzIDogMDsiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXgtd2lkdGggOiA2NjBweDsiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCA6IGluaGVyaXQ7IgoKICAgICAgICApOwoKICAgICAgICAvLyBBZGQgbWFya2VyIGlmIHRoZSBtZXNzYWdlIHdhcyBmcm9tIHVzLgogICAgICAgIGlmKCB3YXNNaW5lICkgewogICAgICAgICAgcXVvdGVkTWVzc2FnZS5hZGRDbGFzcyggIm1pbmUiICk7CiAgICAgICAgfQoKICAgICAgICAvLyBBZGQgdGhlIHRpbWVzdGFtcAogICAgICAgIGlmKCB0aW1lc3RhbXAgKSB7CiAgICAgICAgICB2YXIgdGltZXN0YW1wTm9kZSA9ICQoICI8ZGl2IGNsYXNzPSd0aW1lc3RhbXAnPiIgKyB0aW1lc3RhbXAudGV4dCgpICsgIjwvZGl2PiIgKTsKICAgICAgICAgICQoICIubWVzc2FnZSIsIHF1b3RlZE1lc3NhZ2UgKS5iZWZvcmUoIHRpbWVzdGFtcE5vZGUgKTsKICAgICAgICB9CiAgICAgICAgLy8gQWRkIHRoZSBhdXRob3IKICAgICAgICBpZiggYXV0aG9yICkgewogICAgICAgICAgJCggIi5tZXNzYWdlcyIsIHF1b3RlZE1lc3NhZ2UgKS5iZWZvcmUoIGF1dGhvciApOwogICAgICAgIH0KCiAgICAgICAgLy8gQWRkIHRoZSBidWJibGUgdG8gdGhlIERPTS4KICAgICAgICAkKCB0aGlzICkucGFyZW50cyggIi5tb25vbG9ndWUiICkuYmVmb3JlKCBxdW90ZWRNZXNzYWdlICk7CgogICAgICAgIC8vIFJlbWVtYmVyIHRoZSBlbGVtZW50IGZvciBsYXRlciByZW1vdmFsLgogICAgICAgIHJlcGx5SGVscGVyLnF1b3RlZE1lc3NhZ2UgPSBxdW90ZWRNZXNzYWdlOwogICAgICB9CiAgICB9ICk7CgogICAgJCggZG9jdW1lbnQgKS5vbiggIm1vdXNlbGVhdmUiLCAiLnJlcGx5LWluZm8iLCBmdW5jdGlvbiggZXZlbnQgKSB7CiAgICAgIGlmKCBudWxsICE9IHJlcGx5SGVscGVyLnF1b3RlZE1lc3NhZ2UgKSB7CiAgICAgICAgLy8gUmVtb3ZlIHRoZSBxdW90ZSBidWJibGUKICAgICAgICByZXBseUhlbHBlci5xdW90ZWRNZXNzYWdlLnJlbW92ZSgpOwogICAgICAgIHJlcGx5SGVscGVyLnF1b3RlZE1lc3NhZ2UgPSBudWxsOwogICAgICB9CiAgICB9ICk7CiAgfQp9OwoKLy8gQ29uc3RydWN0IGV4dGVuc2lvbiBpbnN0YW5jZQp2YXIgcmVwbHlIZWxwZXIgPSBuZXcgUmVwbHlIZWxwZXIoKTs="},{"name":"Helpful Flag Percentage","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.stackexchange.com/users/flag-summary/*","*://*.stackoverflow.com/users/flag-summary/*","*://*.stackapps.com/users/flag-summary/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831385},"enabled":true,"position":8,"uuid":"a0dec57b-c225-47bc-8e4a-4677037b017f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBIZWxwZnVsIEZsYWcgUGVyY2VudGFnZQovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vdXNlcnMvMTQ1NDUzOC8KLy8gQGF1dGhvciAgICAgICBlbmtpCi8vIEBtYXRjaCAgICAgICAgKjovLyouc3RhY2tleGNoYW5nZS5jb20vdXNlcnMvZmxhZy1zdW1tYXJ5LyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5zdGFja292ZXJmbG93LmNvbS91c2Vycy9mbGFnLXN1bW1hcnkvKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnN0YWNrYXBwcy5jb20vdXNlcnMvZmxhZy1zdW1tYXJ5LyoKLy8gPT0vVXNlclNjcmlwdD09Ci8qanNsaW50IGJyb3dzZXI6IHRydWUsIHdoaXRlOiB0cnVlKi8KLypqc2xpbnQgdGhpcyAqLwovKmdsb2JhbCAkLCBqUXVlcnkqLwokKGZ1bmN0aW9uICgpIHsKJ3VzZSBzdHJpY3QnOwoKICAgIHZhciBoZWxwZnVsRmxhZ3MgPSAwOwogICAgJCgidGQgPiBhOmNvbnRhaW5zKCdoZWxwZnVsJykiKS5wYXJlbnQoKS5wcmV2KCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgaGVscGZ1bEZsYWdzICs9IHBhcnNlSW50KCQodGhpcykudGV4dCgpLnJlcGxhY2UoIiwiLCIiKSk7CiAgICB9KTsKCiAgICB2YXIgZGVjbGluZWRGbGFncyA9IDA7CiAgICAkKCJ0ZCA+IGE6Y29udGFpbnMoJ2RlY2xpbmVkJykiKS5wYXJlbnQoKS5wcmV2KCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVjbGluZWRGbGFncyArPSBwYXJzZUludCgkKHRoaXMpLnRleHQoKS5yZXBsYWNlKCIsIiwiIikpOwogICAgfSk7CgogICAgaWYgKGhlbHBmdWxGbGFncyA+IDApIHsKCiAgICAgICAgdmFyIHBlcmNlbnRIZWxwZnVsID0gTnVtYmVyKE1hdGgucm91bmQoKGhlbHBmdWxGbGFncyAvIChoZWxwZnVsRmxhZ3MgKyBkZWNsaW5lZEZsYWdzKSkgKiAxMDAgKyAnZTInKSArICdlLTInKTsKCiAgICAgICAgaWYgKHBlcmNlbnRIZWxwZnVsID4gMTAwICkgewogICAgICAgICAgICBwZXJjZW50SGVscGZ1bCA9IDEwMDsKICAgICAgICB9CgogICAgICAgIHZhciBwZXJjZW50Q29sb3I7CiAgICAgICAgaWYgKHBlcmNlbnRIZWxwZnVsID49IDkwKSB7CiAgICAgICAgICAgIHBlcmNlbnRDb2xvciA9ICJsaW1lZ3JlZW4iOwogICAgICAgIH0gZWxzZSBpZiAocGVyY2VudEhlbHBmdWwgPj0gODApIHsKICAgICAgICAgICAgcGVyY2VudENvbG9yID0gImRhcmtvcmFuZ2UiOwogICAgICAgIH0gZWxzZSBpZiAocGVyY2VudEhlbHBmdWwgPCA4MCkgewogICAgICAgICAgICBwZXJjZW50Q29sb3IgPSAicmVkIjsKICAgICAgICB9IAoKICAgICAgICB2YXIgY3NzID0gIjxzdHlsZT5cCiAgICAgICAgICAgICAgICAgICAgI3Byb2dyZXNzIHtcCiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNjY2M7XAogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwcHg7XAogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjIwcHg7XAogICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDZweCAxMHB4IDEwcHggMDtcCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDBweDtcCiAgICAgICAgICAgICAgICAgICB9XAogICAgICAgICAgICAgICAgICAgICNwcm9ncmVzczphZnRlciB7XAogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnJztcCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1wKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIiArIHBlcmNlbnRDb2xvciArICI7XAogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogIiArIHBlcmNlbnRIZWxwZnVsICsgIiU7XAogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XAogICAgICAgICAgICAgICAgICAgIH1cCiAgICAgICAgICAgICAgICAgICAgI3BlcmNlbnRIZWxwZnVsIHtcCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcCiAgICAgICAgICAgICAgICAgICAgfVwKICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPiI7CgogICAgICAgICQoJ2hlYWQnKS5hcHBlbmQoY3NzKTsKCiAgICAgICAgJCgiI2ZsYWctc3RhdC1pbmZvLXRhYmxlIikuYmVmb3JlKCI8aDMgaWQ9J3BlcmNlbnRIZWxwZnVsJyB0aXRsZT0ncGVuZGluZywgYWdlZCBhd2F5IGFuZCBkaXNwdXRlZCBmbGFncyBhcmUgbm90IGNvdW50ZWQnPjxzcGFuIGlkPSdwZXJjZW50Jz4iICsgcGVyY2VudEhlbHBmdWwgKyAiJTwvc3Bhbj4gaGVscGZ1bDwvaDM+Iik7CiAgICAgICAgJCgic3BhbiNwZXJjZW50IikuY3NzKCJjb2xvciIsIHBlcmNlbnRDb2xvcik7CgogICAgICAgICQoIiNwZXJjZW50SGVscGZ1bCIpLmFmdGVyKCI8ZGl2IGlkPSdwcm9ncmVzcyc+PC9kaXY+Iik7CiAgICB9Cn0pOw=="},{"name":"StackUnderflow","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["https://stackoverflow.com/*","http://stackoverflow.com/*","https://www.stackoverflow.com/*","http://www.stackoverflow.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{"blacklisted_5813490":"bfalse","favourite_5813490":"bfalse"},"ts":1456451831401},"enabled":true,"position":9,"file_url":"https://github.com/MarcinOrlowski/StackUnderflow/raw/master/stackunderflow.user.js","uuid":"a11df221-cb98-410d-b25a-c9ddfd9f05bd","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBTdGFja1VuZGVyZmxvdwovLyBAbmFtZXNwYWNlICAgIG1hcmNpbm9ybG93c2tpLmNvbS90YW1wZXJtb25rZXkvc3RhY2t1bmRlcmZsb3cKLy8gQHZlcnNpb24gICAgICAxLjAuMAovLyBAZGVzY3JpcHRpb24gIEJyaW5ncyB1c2VyIGJsYWNrbGlzdGluZywgZmF2b3VyaWVzIGFuZCBvdGhlciBnb29kaWVzIHRvIFN0YWNrT3ZlcmZsb3cuY29tCi8vIEBhdXRob3IgICAgICAgTWFyY2luIE9ybG93c2tpCi8vIEBkb3dubG9hZFVSTCAgaHR0cHM6Ly9naXRodWIuY29tL01hcmNpbk9ybG93c2tpL1N0YWNrVW5kZXJmbG93L3Jhdy9tYXN0ZXIvc3RhY2t1bmRlcmZsb3cudXNlci5qcwovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cuc3RhY2tvdmVyZmxvdy5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHA6Ly93d3cuc3RhY2tvdmVyZmxvdy5jb20vKgovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS1sYXRlc3QuanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcm1tNXQvanF1ZXJ5LXRpbWVhZ28vbWFzdGVyL2pxdWVyeS50aW1lYWdvLmpzCi8vIEBncmFudCAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fZGVsZXRlVmFsdWUKLy8gPT0vVXNlclNjcmlwdD09Ci8vIFRoZSBAZ3JhbnQgR01fYWRkU3R5bGUgZGlyZWN0aXZlIGlzIG5lZWRlZCB0byB3b3JrIGFyb3VuZCBhIG1ham9yIGRlc2lnbiBjaGFuZ2UgaW50cm9kdWNlZCBpbiBHTSAxLjAsIHJlc3RvcmVzIHRoZSBzYW5kYm94LgoKLy8tLVsgVEhJUyBJUyBDT05GSUcuIENIQU5HRSBBUyBZT1UgV0FOVCBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovLyB0cnVlL2ZhbHNlOiB3aGVuIHRydWUgKGRlZmF1bHQpIHlvdSB3aWxsIHNlZSBiYW5uZXIgb24gdG9wIG9mIHRoZSBzY3JlZW4gd2hlbiBxdWVzdGlvbiB5b3UgYXJlIHJlYWRpbmcgaXMgYWxyZWFkeSBhbnN3ZXJlZCBhbmQgYW5zd2VyIGlzIGFjY2VwdGVkIGJ5IE9QCnZhciBjZmdfZW5hYmxlQWNjZXB0ZWRBbnN3ZXJXYXJuaW5nID0gdHJ1ZTsKCi8vIHRydWUvZmFsc2U6IHdoZW4gdHJ1ZSAoZGVmYXVsdCkgYWNjZXB0ZWQgYW5zd2VyIChpZiBhbnkpIHdpbGwgYmUgYWRkaXRpb25hbGx5IGhpZ2hsaWdodGVkCnZhciBjZmdfaGlnaGxpZ2h0QWNjZXB0ZWRBbnN3ZXIgPSB0cnVlOwoKLy8gdHJ1ZS9mYWxzZTogd2hlbiB0cnVlIChkZWZhdWx0KSB5b3Ugd2lsbCBzZWVsIHdhcm5pbmcgaWYgcXVlc3Rpb24geW91IGFyZSByZWFkaW5nIGlzIGFza2VkIGJ5IHVzZXIgd2l0aCByZXB1dGF0aW9uIGxvd2VyIHRoYW4gY2ZnX3F1ZXN0aW9uUG9zdGVyUmVwdXRhdGlvblRocmVzaG9sZCB2YWx1ZQp2YXIgY2ZnX2VuYWJsZUxvd1JlcHV0YXRpb25XYXJuaW5nID0gdHJ1ZTsKCi8vIGRvIHlvdSB3YW50IHRoaXMgd2FybmluZyBhYm92ZSB0aGUgcXVlc3Rpb24gKHRydWUpLCBvciBqdXN0IGFib3ZlIHJlc3BvbnNlIGZvcm0gKGZhbHNlLCBkZWZhdWx0KQp2YXIgY2ZnX2VuYWJsZUxvd1JlcHV0YXRpb25XYXJuaW5nQWJvdmVRdWVzdGlvbiA9IGZhbHNlOwp2YXIgY2ZnX3F1ZXN0aW9uUG9zdGVyUmVwdXRhdGlvblRocmVzaG9sZCA9IDI1MDsKCi8vIHRydWUvZmFsc2U6IHdoZW4gdHJ1ZSAoZGVmYXVsdCkgeW91IHdpbGwgc2VlIHdhcm5pbmcgd2hlbiB5b3UgYXJlIHJlYWRpbmcgYSBxdWVzdGlvbiBhc2tlZCBieSB1c2VyIHlvdSBhbHJlYWR5IGJsYWNrbGlzdGVkCnZhciBjZmdfZW5hYmxlUG9zdGVkQnlCbGFja2xpc3RlZFVzZXJXYXJuaW5nID0gZmFsc2U7CgovLyB0cnVlL2ZhbHNlOiB3aGVuIHRydWUgKGRlZmF1bHQpIHlvdSB3aWxsIHNlZSBpbmZvcm1hdGlvbiB3aGVuIHlvdSBhcmUgcmVhZGluZyBxdWVzdGlvbiBhc2tlZCBieSB1c2VyIHlvdSBnb3Qgb24geW91ciBmYXZvdXJpdGUgdXNlciBsaXN0CnZhciBjZmdfZW5hYmxlUG9zdGVkQnlGYXZvdXJpdGVVc2VyV2FybmluZyA9IGZhbHNlOwoKLy8gdHJ1ZS9mYWxzZTogd2hlbiB0cnVlIChkZWZhdXQpIHlvdSB3aWxsIHNlZSBub3RpY2Ugd2hlbiBxdWVzdGlvbiB5b3UgYXJlIHJlYWRpbmcgd2FzIGFza2VkIG1vcmUgdGhhbiBjZmdfb2xkUXVlc3Rpb25EYXlUaHJlc2hvbGQgZGF5cyBhZ28KdmFyIGNmZ19lbmFibGVPbGRRdWVzdGlvbldhcm5pbmcgPSB0cnVlOwp2YXIgY2ZnX29sZFF1ZXN0aW9uRGF5VGhyZXNob2xkID0gMzA7CgovLyB0cnVlL2ZhbHNlOiB3aGVuIHRydWUgKGRlZmF1bHQpIHBhZ2VzIHdpbGwgYmUgYXVnbWVudGVkIHdpdGggYmxhY2tsaXN0L2Zhdm91cml0ZSBhY3Rpb24gYnV0dG9ucwp2YXIgY2ZnX2VuYWJsZUJsYWNrQW5kRmF2b3VyaXRlTGlzdHMgPSBmYWxzZTsKCi8vIElmIHlvdSB3YW50IHRvIGNoYW5nZSBpbWFnZXMgZm9yIGJsYWNrbGlzdC9mYXZsaXN0IGFjdGlvbiBidXR0b25zLCBoZXJlJ3MgdGhlIHBsYWNlLiBNaW5kIHRoZSBpbWFnZSBzaXplIHRvIG5vdCBibG9hdCB0aGUgcGFnZS4KdmFyIGNmZ191c2VyQmxhY2tsaXN0ZWRPblVybCA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWFyY2luT3Jsb3dza2kvU3RhY2tVbmRlcmZsb3cvbWFzdGVyL2ltZy91c2VyLWJsYWNrbGlzdGVkLW9uLnBuZyI7CnZhciBjZmdfdXNlckJsYWNrbGlzdGVkT2ZmVXJsID0gImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NYXJjaW5Pcmxvd3NraS9TdGFja1VuZGVyZmxvdy9tYXN0ZXIvaW1nL3VzZXItYmxhY2tsaXN0ZWQtb2ZmLnBuZyI7CnZhciBjZmdfdXNlckZhdm91cml0ZU9uVXJsID0gImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NYXJjaW5Pcmxvd3NraS9TdGFja1VuZGVyZmxvdy9tYXN0ZXIvaW1nL3VzZXItZmF2b3VyaXRlLW9uLnBuZyI7CnZhciBjZmdfdXNlckZhdm91cml0ZU9mZlVybCA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWFyY2luT3Jsb3dza2kvU3RhY2tVbmRlcmZsb3cvbWFzdGVyL2ltZy91c2VyLWZhdm91cml0ZS1vZmYucG5nIjsKCi8vLS1bIERPIE5PVCBBTFRFUiBBTllUSElORyBCRUxPVyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgp2YXIgbXlJZCA9IDA7CnZhciBpc1NpZ25lZEluID0gKCQoIi50b3BiYXItbGlua3MgPiBhLnByb2ZpbGUtbWUiKS5sZW5ndGggPiAwKTsKCmlmIChpc1NpZ25lZEluKSB7CiAgICBteUlkID0gJCgiLnRvcGJhci1saW5rcyA+IGEucHJvZmlsZS1tZSIpLmF0dHIoImhyZWYiKS5zcGxpdCgiLyIpWzJdOwp9Cgp2YXIgd2JuX2Jhbm5lcnNTZXQgPSBmYWxzZTsKdmFyIHdibl9wb3N0ZWRCeUJsYWNrbGlzdGVkVXNlckJhbm5lclNldCA9IGZhbHNlOwp2YXIgd2JuX3F1ZXN0aW9uSGFzQWNjZXB0ZWRBbnN3ZXJCYW5uZXJTZXQgPSBmYWxzZTsKdmFyIHdibl9sb3dSZXB1dGF0aW9uV2FybmluZ0Jhbm5lclNldCA9IGZhbHNlOwp2YXIgd2JuX3Bvc3RlZEJ5RmF2b3VyaXRlVXNlckJhbm5lclNldCA9IGZhbHNlOwp2YXIgd2JuX29sZFF1ZXN0aW9uQmFubmVyU2V0ID0gZmFsc2U7Cgp2YXIgd2JuX2JsYWNrbGlzdGVkRW50cnlQcmVmaXggPSAiYmxhY2tsaXN0ZWRfIjsKdmFyIHdibl9mYXZvdXJpdGVFbnRyeVByZWZpeCA9ICJmYXZvdXJpdGVfIjsKCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmFkZFN0eWxlcygpOwoKdmFyIHBhZ2VVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgiLyIpOwppZiAocGFnZVVybC5sZW5ndGggPiA0KSB7CiAgICAvLyBxdWVzdGlvbiBkZXRhaWxzOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy9JRC9ERVNDCiAgICBpZiAocGFnZVVybFszXSA9PSAncXVlc3Rpb25zJykgewogICAgICAgIGF1Z21lbnRRdWVzdGlvbigpOwogICAgfSBlbHNlIHsKICAgICAgICAvLyB1c2VyIHByb2ZpbGU6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vdXNlcnMvSUQvQUxJQVMKICAgICAgICBpZiAocGFnZVVybFszXSA9PSAndXNlcnMnKSB7CiAgICAgICAgICAgIGF1Z21lbnRVc2VyUHJvZmlsZShwYWdlVXJsWzRdKTsKICAgICAgICB9CiAgICB9Cn0gZWxzZSB7CiAgICBhdWdtZW50UXVlc3Rpb25JbmRleCgpOwp9CgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiBhdWdtZW50VXNlclByb2ZpbGUodXNlcklkKSB7CiAgICAvLyBkbyBub3QgYXVnbWVudCBvdXQgb3duIHByb2ZpbGUgcGFnZQogICAgaWYgKHVzZXJJZCA9PSBteUlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICB1cGRhdGVVc2VyUHJvZmlsZUF1Z21lbnRhdGlvbih1c2VySWQpOwp9CgpmdW5jdGlvbiB1cGRhdGVVc2VyUHJvZmlsZUF1Z21lbnRhdGlvbih1c2VySWQpIHsKCiAgICB2YXIgaXNVc2VyRmF2b3VyaXRlID0gaXNGYXZvdXJpdGUodXNlcklkKTsKICAgIHZhciBpc1VzZXJCbGFja2xpc3RlZCA9IGlzQmxhY2tsaXN0ZWQodXNlcklkKTsKICAgIAogICAgaWYgKCF3Ym5fYmFubmVyc1NldCkgewogICAgICAgIHZhciBiYW5uZXIgPSAnPGRpdiBjbGFzcz0id2JuX2Jhbm5lcnMiPicKICAgICAgICAgICAgICAgICAgICAgKyAnPGRpdiBjbGFzcz0id2JuX3Bvc3RlZEJ5QmxhY2tsaXN0ZWRVc2VyQmFubmVyIHdibl9iYW5uZXIgd2JuX2JsYWNrbGlzdGVkQmFubmVyIHdibl9oaWRkZW4iPjxpbWcgY2xhc3M9Indibl91c2VyUHJvZmlsZUFjdGlvbkljb24iIHNyYz0iJyArIGNmZ191c2VyQmxhY2tsaXN0ZWRPblVybCArICciPiBVc2VyIGlzIG9uIHlvdXIgYmxhY2tsaXN0PC9kaXY+JwogICAgICAgICAgICAgICAgICAgICArICc8ZGl2IGNsYXNzPSJ3Ym5fcG9zdGVkQnlGYXZvdXJpdGVVc2VyQmFubmVyIHdibl9iYW5uZXIgd2JuX2Zhdm91cml0ZUJhbm5lciB3Ym5faGlkZGVuIj48aW1nIGNsYXNzPSJ3Ym5fdXNlclByb2ZpbGVBY3Rpb25JY29uIiBzcmM9IicgKyBjZmdfdXNlckZhdm91cml0ZU9uVXJsICsgJyI+IFlvdXIgc3RhcnJlZCB1c2VyPC9kaXY+JwogICAgICAgICAgICAgICAgICAgICArICc8L2Rpdj4nOwogICAgICAgICQoYmFubmVyKS5pbnNlcnRCZWZvcmUoIiNtYWluLWNvbnRlbnQgPiAjdXNlci1jYXJkID4gLnJvdyIpOwoKICAgICAgICB3Ym5fYmFubmVyc1NldCA9IHRydWU7CiAgICB9CiAgICAKICAgIC8vIHNob3cvaGlkZSBiYW5uZXJzCiAgICBpZiAoY2ZnX2VuYWJsZVBvc3RlZEJ5QmxhY2tsaXN0ZWRVc2VyV2FybmluZykgewogICAgICAgIHZhciBibEJhbm5lciA9ICQoIi53Ym5fcG9zdGVkQnlCbGFja2xpc3RlZFVzZXJCYW5uZXIiKTsKICAgICAgICBpZiAoaXNVc2VyQmxhY2tsaXN0ZWQpIHsKICAgICAgICAgICAgYmxCYW5uZXIuZmFkZUluKDUwMCk7Ci8vICAgICAgICAgICAgJCgiI2F2YXRhci1jYXJkIikuYWRkQ2xhc3MoIndibl9ibGFja2xpc3RlZFVzZXJDYXJkIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYmxCYW5uZXIuaGlkZSgpOwovLyAgICAgICAgICAgICQoIiNhdmF0YXItY2FyZCIpLnJlbW92ZUNsYXNzKCJ3Ym5fYmxhY2tsaXN0ZWRVc2VyQ2FyZCIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgaWYgKGNmZ19lbmFibGVQb3N0ZWRCeUZhdm91cml0ZVVzZXJXYXJuaW5nKSB7CiAgICAgICAgdmFyIGZhdkJhbm5lciA9ICQoIi53Ym5fcG9zdGVkQnlGYXZvdXJpdGVVc2VyQmFubmVyIik7CiAgICAgICAgaWYgKGlzVXNlckZhdm91cml0ZSkgewogICAgICAgICAgICBmYXZCYW5uZXIuZmFkZUluKDUwMCk7Ci8vICAgICAgICAgICAgJCgiI2F2YXRhci1jYXJkIikuYWRkQ2xhc3MoIndibl9mYXZvdXJpdGVVc2VyQ2FyZCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZhdkJhbm5lci5oaWRlKCk7CiAvLyAgICAgICAgICAgJCgiI2F2YXRhci1jYXJkIikucmVtb3ZlQ2xhc3MoIndibl9mYXZvdXJpdGVVc2VyQ2FyZCIpOwogICAgICAgIH0KICAgIH0KCiAgICAKICAgIC8vIGFjdGlvbiBidXR0b25zIChGSVhNRSByZWZhY3RvciEpCiAgICBpZiAoY2ZnX2VuYWJsZUJsYWNrQW5kRmF2b3VyaXRlTGlzdHMpIHsKICAgICAgICB2YXIgaW5kZXggPSAwOwogICAgICAgIHZhciBlbGVtZW50ID0gJCgiI2F2YXRhci1jYXJkID4gLmJhZGdlcyIpWzBdOwoKICAgICAgICB2YXIgYWN0aW9uSWQgPSAid2JuX2FjdGlvbl91c2VyXyIgKyB1c2VySWQgKyAiXyIgKyBpbmRleDsKICAgICAgICAkKCIjYXZhdGFyLWNhcmQiKS5hcHBlbmQoJzxkaXYgaWQ9IicgKyBhY3Rpb25JZCArICciPjwvZGl2PicpOwogICAgCiAgICAgICAgLy8gYmxhY2tsaXN0CiAgICAgICAgdmFyIGJsYWNrbGlzdElkID0gIndibl9ibGFja2xpc3RfIiArIHVzZXJJZCArICJfIiArIGluZGV4OwogICAgICAgIHZhciBibExhYmVsID0gaXNVc2VyQmxhY2tsaXN0ZWQgPyAiQ2xpY2sgdG8gcmVtb3ZlIHRoaXMgdXNlciBmcm9tIGJsYWNrbGlzdCIgOiAiQ2xpY2sgdG8gYmxhY2tsaXN0IHRoaXMgdXNlciI7CiAgICAgICAgdmFyIGJsSWNvblVybCA9IGlzVXNlckJsYWNrbGlzdGVkID8gY2ZnX3VzZXJCbGFja2xpc3RlZE9uVXJsIDogY2ZnX3VzZXJCbGFja2xpc3RlZE9mZlVybDsKICAgIAogICAgCiAgICAgICAgaWYgKCQoIiMiICsgYmxhY2tsaXN0SWQpLmxlbmd0aCkgewogICAgICAgICAgICB2YXIgYmxJY29uID0gJCgiIyIgKyBibGFja2xpc3RJZCArICIgPiBpbWciKTsKICAgICAgICAgICAgYmxJY29uLmF0dHIoInNyYyIsIGJsSWNvblVybCk7CiAgICAgICAgICAgIGJsSWNvbi5hdHRyKCJhbHQiLCBibExhYmVsKTsKICAgICAgICAgICAgYmxJY29uLmF0dHIoInRpdGxlIiwgYmxMYWJlbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJCgiIyIgKyBhY3Rpb25JZCkuYXBwZW5kKCc8YSBpZD0iJyArIGJsYWNrbGlzdElkICsgJyI+PGltZyBjbGFzcz0id2JuX3VzZXJQcm9maWxlQWN0aW9uSWNvbiIgdGl0bGU9IicgKyBibExhYmVsICsgJyIgYWx0PSInICsgYmxMYWJlbCArICciIHNyYz0iJyArIGJsSWNvblVybCArICciPjwvYT4nKTsKICAgICAgICAgICAgJCgiIyIgKyBibGFja2xpc3RJZCkuY2xpY2soe3VzZXJJZDogdXNlcklkfSwgY2xpY2tVc2VyUHJvZmlsZVRvZ2dsZUJsYWNrbGlzdCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgYmxDb250YWluZXIgPSAkKCIjIiArIGJsYWNrbGlzdElkKTsKICAgICAgICBpZiAoIWlzVXNlckZhdm91cml0ZSkgewogICAgICAgICAgICBibENvbnRhaW5lci5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGJsQ29udGFpbmVyLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICB9CgogICAgICAgIC8vIGZhdm91cml0ZQogICAgICAgIHZhciBmYXZJZCA9ICJ3Ym5fZmF2b3VyaXRlXyIgKyB1c2VySWQgKyAiXyIgKyBpbmRleDsKICAgICAgICB2YXIgZmF2TGFiZWwgPSBpc1VzZXJGYXZvdXJpdGUgPyAiQ2xpY2sgdG8gcmVtb3ZlIGZyb20gZmF2b3VyaXRlcyIgOiAiQ2xpY2sgdG8gbWFyayB1c2VyIGFzIHlvdXIgZmF2b3VyaXRlIjsKICAgICAgICB2YXIgZmF2SWNvblVybCA9IGlzVXNlckZhdm91cml0ZSA/IGNmZ191c2VyRmF2b3VyaXRlT25VcmwgOiBjZmdfdXNlckZhdm91cml0ZU9mZlVybDsKICAgICAgICBpZiAoJCgiIyIgKyBmYXZJZCkubGVuZ3RoKSB7CiAgICAgICAgICAgIHZhciBmYXZJY29uID0gJCgiIyIgKyBmYXZJZCArICIgPiBpbWciKTsKICAgICAgICAgICAgZmF2SWNvbi5hdHRyKCJzcmMiLCBmYXZJY29uVXJsKTsKICAgICAgICAgICAgZmF2SWNvbi5hdHRyKCJhbHQiLCBmYXZMYWJlbCk7CiAgICAgICAgICAgIGZhdkljb24uYXR0cigidGl0bGUiLCBmYXZMYWJlbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJCgiIyIgKyBhY3Rpb25JZCkuYXBwZW5kKCc8YSBpZD0iJyArIGZhdklkICsgJyI+PGltZyBjbGFzcz0id2JuX3VzZXJQcm9maWxlQWN0aW9uSWNvbiIgdGl0bGU9IicgKyBmYXZMYWJlbCArICciIGFsdD0iJyArIGZhdkxhYmVsICsgJyIgc3JjPSInICsgZmF2SWNvblVybCArICciPjwvYT4nKTsKICAgICAgICAgICAgJCgiIyIgKyBmYXZJZCkuY2xpY2soe3VzZXJJZDogdXNlcklkfSwgY2xpY2tVc2VyUHJvZmlsZVRvZ2dsZUZhdm91cml0ZSk7CiAgICAgICAgfQogICAgCiAgICAgICAgdmFyIGZhdkNvbnRhaW5lciA9ICQoIiMiICsgZmF2SWQpOwogICAgICAgIGlmICghaXNVc2VyQmxhY2tsaXN0ZWQpIHsKICAgICAgICAgICAgZmF2Q29udGFpbmVyLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZmF2Q29udGFpbmVyLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIGNsaWNrVXNlclByb2ZpbGVUb2dnbGVCbGFja2xpc3QoZXZlbnQpIHsKICAgIGJsYWNrbGlzdFRvZ2dsZShldmVudC5kYXRhLnVzZXJJZCk7CiAgICB1cGRhdGVVc2VyUHJvZmlsZUF1Z21lbnRhdGlvbihldmVudC5kYXRhLnVzZXJJZCk7Cn0KCmZ1bmN0aW9uIGNsaWNrVXNlclByb2ZpbGVUb2dnbGVGYXZvdXJpdGUoZXZlbnQpIHsKICAgIGZhdm91cml0ZVRvZ2dsZShldmVudC5kYXRhLnVzZXJJZCk7CiAgICB1cGRhdGVVc2VyUHJvZmlsZUF1Z21lbnRhdGlvbihldmVudC5kYXRhLnVzZXJJZCk7Cn0KCgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiBhdWdtZW50UXVlc3Rpb25JbmRleCgpIHsKICAgICQoImRpdi5zdGFydGVkIikuZWFjaChmdW5jdGlvbihpbmRleCl7dXBkYXRlUXVlc3Rpb25Vc2VySW5kZXhMaW5rc1JhdyhpbmRleCwkKHRoaXMpKTt9KTsKfQoKZnVuY3Rpb24gdXBkYXRlUXVlc3Rpb25Vc2VySW5kZXhMaW5rc1JhdyhpbmRleCwgZWxlbWVudCkgewogICAgdmFyIHVzZXJJZCA9IChlbGVtZW50LmZpbmQoImEiKVsxXSArICIiKS5zcGxpdCgiLyIpWzRdOwogICAgaWYgKHVzZXJJZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKGlzQmxhY2tsaXN0ZWQodXNlcklkKSkgewogICAgICAgICAgICBlbGVtZW50LmZpbmQoImEuc3RhcnRlZC1saW5rIikuYWZ0ZXIoJzxpbWcgY2xhc3M9Indibl91c2VyQWN0aW9uSWNvblNtYWxsIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHNyYz0iJyArIGNmZ191c2VyQmxhY2tsaXN0ZWRPblVybCArICciPicpOwogICAgICAgIH0gZWxzZSBpZiAoaXNGYXZvdXJpdGUodXNlcklkKSkgewogICAgICAgICAgICBlbGVtZW50LmZpbmQoImEuc3RhcnRlZC1saW5rIikuYWZ0ZXIoJzxpbWcgY2xhc3M9Indibl91c2VyQWN0aW9uSWNvblNtYWxsIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHNyYz0iJyArIGNmZ191c2VyRmF2b3VyaXRlT25VcmwgKyAnIj4nKTsKICAgICAgICB9CiAgICB9Cn0KCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCnZhciBwb3N0ZXJSb290Owp2YXIgcG9zdGVyTmFtZTsKdmFyIHBvc3RlcklkOwp2YXIgcG9zdGVkRGF0ZU1pbGxpczsKdmFyIHBvc3RlclJlcHV0YXRpb247CgpmdW5jdGlvbiBhdWdtZW50UXVlc3Rpb24oKSB7CiAgICBwb3N0ZXJSb290ID0gJCgiLnBvc3Qtc2lnbmF0dXJlLm93bmVyIik7CiAgICBwb3N0ZXJOYW1lID0gcG9zdGVyUm9vdC5maW5kKCIudXNlci1kZXRhaWxzID4gYSIpLnRleHQoKTsKICAgIHBvc3RlcklkID0gcG9zdGVyUm9vdC5maW5kKCIudXNlci1kZXRhaWxzID4gYSIpLmF0dHIoImhyZWYiKS5zcGxpdCgiLyIpWzJdOwogICAgcG9zdGVkRGF0ZU1pbGxpcyA9IERhdGUucGFyc2UocG9zdGVyUm9vdC5maW5kKCIudXNlci1pbmZvID4gLnVzZXItYWN0aW9uLXRpbWUgPiAucmVsYXRpdmV0aW1lIikuYXR0cigidGl0bGUiKSk7CgogICAgcG9zdGVyUmVwdXRhdGlvbiA9IHBvc3RlclJvb3QuZmluZCgiLnJlcHV0YXRpb24tc2NvcmUiKS5hdHRyKCJ0aXRsZSIpLnNwbGl0KCIgIilbMl07CiAgICAvLyBwb3N0ZXIgcmVwdXRhdGlvbiBtaXNzaW5nIGluIHRpdGxlIG9mIGZvciBzb21lIHF1ZXN0aW9ucyAobW9zdCBsaWtlbHkgU08gYnVnKToKICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMxOTAyODEyLyAgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTkzNzEyMS8KICAgIGlmIChwb3N0ZXJSZXB1dGF0aW9uID09PSAiIikgewogICAgICAgIHBvc3RlclJlcHV0YXRpb24gPSBwb3N0ZXJSb290LmZpbmQoIi5yZXB1dGF0aW9uLXNjb3JlIikudGV4dCgpLnJlcGxhY2UoIiAiLCIiKS5yZXBsYWNlKCIsIiwgIiIpOwogICAgICAgIC8vIGNoZWNrIGlmIHdlIGdvdCBvbmx5IGRpZ2l0cyBoZXJlLiBJZiBub3QsIHdlIHdlIGFzc3VtZSB3ZSBoYXZlICJrIiBzdWZmaXgKICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgiWzAtOV0iKTsKICAgICAgICBpZiAoIXJlZy50ZXN0KHBvc3RlclJlcHV0YXRpb24pKSB7CiAgICAgICAgICAgIHBvc3RlclJlcHV0YXRpb24gPSBwb3N0ZXJSZXB1dGF0aW9uLnJlcGxhY2UoImsiLCIiKSAqIDEwMDA7CiAgICAgICAgfQogICAgfQoKICAgICQoIiNzaWRlYmFyIikucHJlcGVuZCgnPGRpdj48dGFibGU+PHRyPjx0ZD48cCBjbGFzcz0ibGFiZWwta2V5Ij5lbmNoYW5jZWQgYnk8L3A+PC90ZD48dGQgc3R5bGU9InBhZGRpbmctbGVmdDogMTBweDsgdmVydGljYWwtYWxpZ246IHRvcDsiPjxiPjxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vTWFyY2luT3Jsb3dza2kvU3RhY2tVbmRlcmZsb3ciPlN0YWNrVW5kZXJmbG93PC9hPjwvYj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj4nKTsKCiAgICB1cGRhdGVRdWVzdGlvbkF1Z21lbnRhdGlvbigpOwp9CgovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKCmZ1bmN0aW9uIGNsaWNrVG9nZ2xlQmxhY2tsaXN0KGV2ZW50KSB7CiAgICBibGFja2xpc3RUb2dnbGUoZXZlbnQuZGF0YS51c2VySWQpOwogICAgdXBkYXRlUXVlc3Rpb25BdWdtZW50YXRpb24oKTsKfQoKZnVuY3Rpb24gY2xpY2tUb2dnbGVGYXZvdXJpdGUoZXZlbnQpIHsKICAgIGZhdm91cml0ZVRvZ2dsZShldmVudC5kYXRhLnVzZXJJZCk7CiAgICB1cGRhdGVRdWVzdGlvbkF1Z21lbnRhdGlvbigpOwp9CgpmdW5jdGlvbiB1cGRhdGVRdWVzdGlvbkF1Z21lbnRhdGlvbigpIHsKCiAgICB2YXIgaXNQb3N0ZXJGYXZvdXJpdGUgPSBpc0Zhdm91cml0ZShwb3N0ZXJJZCk7CiAgICB2YXIgaXNQb3N0ZXJCbGFja2xpc3RlZCA9IGlzQmxhY2tsaXN0ZWQocG9zdGVySWQpOwogICAgCiAgICAvLyB1cGRhdGUgYmFubmVycwogICAgdmFyIGhhc0FjY2VwdGVkQW5zd2VyID0gKCQoIiNhbnN3ZXJzIC5hbnN3ZXIuYWNjZXB0ZWQtYW5zd2VyIikubGVuZ3RoID4gMCk7CiAgICAKICAgIC8vIHBsYW50IGJhbm5lcnMKICAgIGlmICghd2JuX29sZFF1ZXN0aW9uQmFubmVyU2V0KSB7CiAgICAgICAgdmFyIGRheXNPbGQgPSBNYXRoLnJvdW5kKChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHBvc3RlZERhdGVNaWxsaXMpIC8gODY0MDAwMDApOwogICAgICAgIGlmIChkYXlzT2xkID4gY2ZnX29sZFF1ZXN0aW9uRGF5VGhyZXNob2xkKSB7CiAgICAgICAgICAgIHZhciBvbGRBbnN3ZXJCYW5uZXIgPSAnPGRpdiBpZD0id2JuX29sZEFuc3dlciIgY2xhc3M9Indibl9iYW5uZXIgd2JuX3Rvb09sZEJhbm5lciI+UXVlc3Rpb24gd2FzIGFza2VkICcgKyBqUXVlcnkudGltZWFnbyhwb3N0ZWREYXRlTWlsbGlzKSArICc8L2Rpdj4nOwogICAgICAgICAgICBpZiAoIWhhc0FjY2VwdGVkQW5zd2VyKSB7CiAgICAgICAgICAgICAgICAkKG9sZEFuc3dlckJhbm5lcikuaW5zZXJ0QmVmb3JlKCIjcXVlc3Rpb24taGVhZGVyIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJChvbGRBbnN3ZXJCYW5uZXIpLmluc2VydEJlZm9yZSgiI3Bvc3QtZWRpdG9yIik7IAogICAgICAgIH0KICAgICAgICAKICAgICAgICB3Ym5fb2xkUXVlc3Rpb25CYW5uZXJTZXQgPSB0cnVlOwogICAgfQoKICAgIGlmICghd2JuX3F1ZXN0aW9uSGFzQWNjZXB0ZWRBbnN3ZXJCYW5uZXJTZXQpIHsgICAgICAgIAogICAgICAgIGlmIChoYXNBY2NlcHRlZEFuc3dlcikgewogICAgICAgICAgICB2YXIgaGFzQW5zd2VyQmFubmVyID0gJzxkaXYgaWQ9Indibl9xdWVzdGlvbkhhc0FjY2VwdGVkQW5zd2VyIiBjbGFzcz0id2JuX2Jhbm5lciB3Ym5fb2tCYW5uZXIiPlF1ZXN0aW9uIGhhcyBhY2NlcHRlZCBhbnN3ZXI8L2Rpdj4nOwogICAgICAgICAgICAkKGhhc0Fuc3dlckJhbm5lcikuaW5zZXJ0QmVmb3JlKCIjcXVlc3Rpb24taGVhZGVyIik7CiAgICAgICAgICAgICQoaGFzQW5zd2VyQmFubmVyKS5pbnNlcnRCZWZvcmUoIiNwb3N0LWVkaXRvciIpOyAKICAgICAgICAKICAgICAgICAgICAgaWYgKGNmZ19oaWdobGlnaHRBY2NlcHRlZEFuc3dlcikgewogICAgICAgICAgICAgICAgJCgiI2Fuc3dlcnMgLmFuc3dlci5hY2NlcHRlZC1hbnN3ZXIiKS5hZGRDbGFzcygid2JuX2FjY2VwdGVkQW5zd2VySGlnaGxpZ2h0Iik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHdibl9xdWVzdGlvbkhhc0FjY2VwdGVkQW5zd2VyQmFubmVyU2V0ID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIGlmICghd2JuX3Bvc3RlZEJ5QmxhY2tsaXN0ZWRVc2VyQmFubmVyU2V0KSB7CiAgICAgICAgdmFyIGJsYWNrbGlzdGVkVXNlclBvc3RCYW5uZXIgPSAnPGRpdiBjbGFzcz0id2JuX3Bvc3RlZEJ5QmxhY2tsaXN0ZWRVc2VyQmFubmVyIHdibl9iYW5uZXIgd2JuX2JsYWNrbGlzdGVkQmFubmVyIHdibl9oaWRkZW4iPjxpbWcgY2xhc3M9Indibl91c2VyQWN0aW9uSWNvbiIgc3JjPSInICsgY2ZnX3VzZXJCbGFja2xpc3RlZE9uVXJsICsgJyI+IFF1ZXN0aW9uIGFza2VkIGJ5IGJsYWNrbGlzdGVkIHVzZXI8L2Rpdj4nOwogICAgICAgICQoYmxhY2tsaXN0ZWRVc2VyUG9zdEJhbm5lcikuaW5zZXJ0QmVmb3JlKCIjcXVlc3Rpb24taGVhZGVyIik7CiAgICAgICAgJChibGFja2xpc3RlZFVzZXJQb3N0QmFubmVyKS5pbnNlcnRCZWZvcmUoIiNwb3N0LWVkaXRvciIpOyAKCiAgICAgICAgd2JuX3Bvc3RlZEJ5QmxhY2tsaXN0ZWRVc2VyQmFubmVyU2V0ID0gdHJ1ZTsKICAgIH0KCiAgICBpZiAoIXdibl9wb3N0ZWRCeUZhdm91cml0ZVVzZXJCYW5uZXJTZXQpIHsKICAgICAgICB2YXIgZmF2b3VyaXRlVXNlclBvc3RCYW5uZXIgPSAnPGRpdiBjbGFzcz0id2JuX3Bvc3RlZEJ5RmF2b3VyaXRlVXNlckJhbm5lciB3Ym5fYmFubmVyIHdibl9mYXZvdXJpdGVCYW5uZXIgd2JuX2hpZGRlbiI+PGltZyBjbGFzcz0id2JuX3VzZXJBY3Rpb25JY29uIiBzcmM9IicgKyBjZmdfdXNlckZhdm91cml0ZU9uVXJsICsgJyI+IFF1ZXN0aW9uIGFza2VkIGJ5IHN0YXJyZWQgdXNlcjwvZGl2Pic7CiAgICAgICAgJChmYXZvdXJpdGVVc2VyUG9zdEJhbm5lcikuaW5zZXJ0QmVmb3JlKCIjcXVlc3Rpb24taGVhZGVyIik7CgogICAgICAgIHdibl9wb3N0ZWRCeUZhdm91cml0ZVVzZXJCYW5uZXJTZXQgPSB0cnVlOwogICAgfQoKICAgIGlmICghd2JuX2xvd1JlcHV0YXRpb25XYXJuaW5nQmFubmVyU2V0KSB7CiAgICAgICAgdmFyIHBvc3RlclJlcHV0YXRpb25Mb3cgPSAnPGRpdiBjbGFzcz0id2JuX2xvd1JlcHV0YXRpb25CYW5uZXIgd2JuX2Jhbm5lciB3Ym5fd2FybmluZ0Jhbm5lciB3Ym5faGlkZGVuIj5Qb3N0ZXIgcmVwdXRhdGlvbiBzY29yZSBpcyBiZWxvdyAnICsgY2ZnX3F1ZXN0aW9uUG9zdGVyUmVwdXRhdGlvblRocmVzaG9sZCArICcgcG9pbnRzPC9kaXY+JzsKICAgICAgICBpZiAoY2ZnX2VuYWJsZUxvd1JlcHV0YXRpb25XYXJuaW5nQWJvdmVRdWVzdGlvbikgewogICAgICAgICAgICAkKHBvc3RlclJlcHV0YXRpb25Mb3cpLmluc2VydEJlZm9yZSgiI3F1ZXN0aW9uLWhlYWRlciIpOwogICAgICAgIH0KICAgICAgICAkKHBvc3RlclJlcHV0YXRpb25Mb3cpLmluc2VydEJlZm9yZSgiI3Bvc3QtZWRpdG9yIik7IAogICAgICAgIAogICAgICAgIHdibl9sb3dSZXB1dGF0aW9uV2FybmluZ0Jhbm5lclNldCA9IHRydWU7CiAgICB9CiAgICAKICAgIC8vIHNob3cvaGlkZSBiYW5uZXJzCiAgICBpZiAoY2ZnX2VuYWJsZVBvc3RlZEJ5QmxhY2tsaXN0ZWRVc2VyV2FybmluZykgewogICAgICAgIHZhciBibEJhbm5lciA9ICQoIi53Ym5fcG9zdGVkQnlCbGFja2xpc3RlZFVzZXJCYW5uZXIiKTsKICAgICAgICBpZiAoaXNQb3N0ZXJCbGFja2xpc3RlZCkgewogICAgICAgICAgICBibEJhbm5lci5mYWRlSW4oNTAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBibEJhbm5lci5oaWRlKCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBpZiAoY2ZnX2VuYWJsZVBvc3RlZEJ5RmF2b3VyaXRlVXNlcldhcm5pbmcpIHsKICAgICAgICB2YXIgZmF2QmFubmVyID0gJCgiLndibl9wb3N0ZWRCeUZhdm91cml0ZVVzZXJCYW5uZXIiKTsKICAgICAgICBpZiAoaXNQb3N0ZXJGYXZvdXJpdGUpIHsKICAgICAgICAgICAgZmF2QmFubmVyLmZhZGVJbig1MDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZhdkJhbm5lci5oaWRlKCk7CiAgICAgICAgfQogICAgfQoKICAgIGlmICgoIWlzUG9zdGVyRmF2b3VyaXRlKSAmJiAoIWlzUG9zdGVyQmxhY2tsaXN0ZWQpKSB7CiAgICAgICAgaWYgKCghaGFzQWNjZXB0ZWRBbnN3ZXIpICYmIChjZmdfZW5hYmxlTG93UmVwdXRhdGlvbldhcm5pbmcpICYmIChwb3N0ZXJSZXB1dGF0aW9uIDwgY2ZnX3F1ZXN0aW9uUG9zdGVyUmVwdXRhdGlvblRocmVzaG9sZCkpIHsKICAgICAgICAgICAgJCgiLndibl9sb3dSZXB1dGF0aW9uQmFubmVyIikuZmFkZUluKDUwMCk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICAkKCIud2JuX2xvd1JlcHV0YXRpb25CYW5uZXIiKS5oaWRlKCk7CiAgICB9CgogICAgLy8gdXBkYXRlIGxpbmtzCiAgICBpZiAoY2ZnX2VuYWJsZUJsYWNrQW5kRmF2b3VyaXRlTGlzdHMpIHsKICAgICAgICAkKCJ0ZC5wb3N0LXNpZ25hdHVyZSA+IC51c2VyLWluZm8iKS5lYWNoKGZ1bmN0aW9uKGluZGV4KXt1cGRhdGVVc2VyTGlua3NSYXcoaW5kZXgsJCh0aGlzKSk7fSk7CiAgICB9Cgp9CgpmdW5jdGlvbiB1cGRhdGVVc2VyTGlua3NSYXcoaW5kZXgsIGVsZW1lbnQpIHsKICAgIHZhciB1c2VySWQgPSBlbGVtZW50LmZpbmQoIi51c2VyLWRldGFpbHMgPiBhIikuYXR0cigiaHJlZiIpOy8vLnNwbGl0KCIvIilbMl07CiAgICBpZiAodXNlcklkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB1c2VySWQgPSB1c2VySWQuc3BsaXQoIi8iKVsyXTsKICAgICAgICBpZiAodXNlcklkICE9IG15SWQgKSB7CiAgICAgICAgICAgIHZhciBpc0ZhdiA9IGlzRmF2b3VyaXRlKHVzZXJJZCk7CiAgICAgICAgICAgIHZhciBpc0JsID0gaXNCbGFja2xpc3RlZCh1c2VySWQpOwogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIGFjdGlvbklkID0gIndibl9hY3Rpb25fdXNlcl8iICsgdXNlcklkICsgIl8iICsgaW5kZXg7CiAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIoJzxkaXYgaWQ9IicgKyBhY3Rpb25JZCArICciPjwvZGl2PicpOwoKICAgICAgICAgICAgLy8gYmxhY2tsaXN0CiAgICAgICAgICAgIHZhciBibGFja2xpc3RJZCA9ICJ3Ym5fYmxhY2tsaXN0XyIgKyB1c2VySWQgKyAiXyIgKyBpbmRleDsKICAgICAgICAgICAgdmFyIGJsTGFiZWwgPSBpc0JsID8gIkNsaWNrIHRvIHJlbW92ZSB0aGlzIHVzZXIgZnJvbSBibGFja2xpc3QiIDogIkNsaWNrIHRvIGJsYWNrbGlzdCB0aGlzIHVzZXIiOwogICAgICAgICAgICB2YXIgYmxJY29uVXJsID0gaXNCbCA/IGNmZ191c2VyQmxhY2tsaXN0ZWRPblVybCA6IGNmZ191c2VyQmxhY2tsaXN0ZWRPZmZVcmw7CiAgICAgICAgICAgIGlmICgkKCIjIiArIGJsYWNrbGlzdElkKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHZhciBibEljb24gPSAkKCIjIiArIGJsYWNrbGlzdElkICsgIiA+IGltZyIpOwogICAgICAgICAgICAgICAgYmxJY29uLmF0dHIoInNyYyIsIGJsSWNvblVybCk7CiAgICAgICAgICAgICAgICBibEljb24uYXR0cigiYWx0IiwgYmxMYWJlbCk7CiAgICAgICAgICAgICAgICBibEljb24uYXR0cigidGl0bGUiLCBibExhYmVsKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiMiICsgYWN0aW9uSWQpLmFwcGVuZCgnPGEgaWQ9IicgKyBibGFja2xpc3RJZCArICciPjxpbWcgY2xhc3M9Indibl91c2VyQWN0aW9uSWNvbiIgdGl0bGU9IicgKyBibExhYmVsICsgJyIgYWx0PSInICsgYmxMYWJlbCArICciIHNyYz0iJyArIGJsSWNvblVybCArICciPjwvYT4nKTsKICAgICAgICAgICAgICAgICQoIiMiICsgYmxhY2tsaXN0SWQpLmNsaWNrKHt1c2VySWQ6IHVzZXJJZH0sIGNsaWNrVG9nZ2xlQmxhY2tsaXN0KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGJsQ29udGFpbmVyID0gJCgiIyIgKyBibGFja2xpc3RJZCk7CiAgICAgICAgICAgIGlmICghaXNGYXYpIHsKICAgICAgICAgICAgICAgIGJsQ29udGFpbmVyLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBibENvbnRhaW5lci5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGZhdm91cml0ZQogICAgICAgICAgICB2YXIgZmF2SWQgPSAid2JuX2Zhdm91cml0ZV8iICsgdXNlcklkICsgIl8iICsgaW5kZXg7CiAgICAgICAgICAgIHZhciBmYXZMYWJlbCA9IGlzRmF2ID8gIkNsaWNrIHRvIHJlbW92ZSBmcm9tIGZhdm91cml0ZXMiIDogIkNsaWNrIHRvIG1hcmsgdXNlciBhcyB5b3VyIGZhdm91cml0ZSI7CiAgICAgICAgICAgIHZhciBmYXZJY29uVXJsID0gaXNGYXYgPyBjZmdfdXNlckZhdm91cml0ZU9uVXJsIDogY2ZnX3VzZXJGYXZvdXJpdGVPZmZVcmw7CiAgICAgICAgICAgIGlmICgkKCIjIiArIGZhdklkKS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHZhciBmYXZJY29uID0gJCgiIyIgKyBmYXZJZCArICIgPiBpbWciKTsKICAgICAgICAgICAgICAgIGZhdkljb24uYXR0cigic3JjIiwgZmF2SWNvblVybCk7CiAgICAgICAgICAgICAgICBmYXZJY29uLmF0dHIoImFsdCIsIGZhdkxhYmVsKTsKICAgICAgICAgICAgICAgIGZhdkljb24uYXR0cigidGl0bGUiLCBmYXZMYWJlbCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjIiArIGFjdGlvbklkKS5hcHBlbmQoJzxhIGlkPSInICsgZmF2SWQgKyAnIj48aW1nIGNsYXNzPSJ3Ym5fdXNlckFjdGlvbkljb24iIHRpdGxlPSInICsgZmF2TGFiZWwgKyAnIiBhbHQ9IicgKyBmYXZMYWJlbCArICciIHNyYz0iJyArIGZhdkljb25VcmwgKyAnIj48L2E+Jyk7CiAgICAgICAgICAgICAgICAkKCIjIiArIGZhdklkKS5jbGljayh7dXNlcklkOiB1c2VySWR9LCBjbGlja1RvZ2dsZUZhdm91cml0ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBmYXZDb250YWluZXIgPSAkKCIjIiArIGZhdklkKTsKICAgICAgICAgICAgaWYgKCFpc0JsKSB7CiAgICAgICAgICAgICAgICBmYXZDb250YWluZXIuY3NzKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZhdkNvbnRhaW5lci5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgfQp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgpmdW5jdGlvbiBpc0JsYWNrbGlzdGVkKHVzZXJJZCkgewogICAgcmV0dXJuIEdNX2dldFZhbHVlKHdibl9ibGFja2xpc3RlZEVudHJ5UHJlZml4ICsgdXNlcklkLCBmYWxzZSk7Cn0KZnVuY3Rpb24gYmxhY2tsaXN0VG9nZ2xlKHVzZXJJZCkgewogICAgdG9nZ2xlVXNlckZsYWcod2JuX2JsYWNrbGlzdGVkRW50cnlQcmVmaXggKyB1c2VySWQpOwp9CgpmdW5jdGlvbiBpc0Zhdm91cml0ZSh1c2VySWQpIHsKICAgIHJldHVybiBHTV9nZXRWYWx1ZSh3Ym5fZmF2b3VyaXRlRW50cnlQcmVmaXggKyB1c2VySWQsIGZhbHNlKTsKfQpmdW5jdGlvbiBmYXZvdXJpdGVUb2dnbGUodXNlcklkKSB7CiAgICB0b2dnbGVVc2VyRmxhZyh3Ym5fZmF2b3VyaXRlRW50cnlQcmVmaXggKyB1c2VySWQpOwp9CgpmdW5jdGlvbiB0b2dnbGVVc2VyRmxhZyhrZXkpIHsKICAgIHZhciBjdXJyZW50ID0gR01fZ2V0VmFsdWUoa2V5LCBmYWxzZSk7CiAgICBHTV9kZWxldGVWYWx1ZShrZXkpOwogICAgR01fc2V0VmFsdWUoa2V5LCAoIWN1cnJlbnQpKTsKfQoKZnVuY3Rpb24gbXVsdGlsaW5lU3RyIChkdW1teUZ1bmMpIHsKICAgIHZhciBzdHIgPSBkdW1teUZ1bmMudG9TdHJpbmcgKCk7CiAgICBzdHIgICAgID0gc3RyLnJlcGxhY2UgKC9eW15cL10rXC9cKiE/LywgJycpIC8vIFN0cmlwIGZ1bmN0aW9uICgpIHsgLyohCiAgICAgICAgICAgIC5yZXBsYWNlICgvXHMqXCpcL1xzKlx9XHMqJC8sICcnKSAgIC8vIFN0cmlwICovIH0KICAgICAgICAgICAgLnJlcGxhY2UgKC9cL1wvLiskL2dtLCAnJykgLy8gRG91YmxlLXNsYXNoIGNvbW1lbnRzIHdyZWNrIENTUy4gU3RyaXAgdGhlbS4KICAgICAgICAgICAgOwogICAgcmV0dXJuIHN0cjsKfQoKLy8tLS0gU3R5bGUgb3VyIG5ld2x5IGFkZGVkIGVsZW1lbnRzIHVzaW5nIENTUy4KZnVuY3Rpb24gYWRkU3R5bGVzKCkgewpHTV9hZGRTdHlsZSAoIG11bHRpbGluZVN0ciAoIGZ1bmN0aW9uICgpIHsvKiEKICAgIC53Ym5faGlkZGVuIHsKICAgICAgICBkaXNwbGF5OiBub25lOwogICAgfQogICAgCiAgICAud2JuX2Jhbm5lciB7CiAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgfQoKICAgIC53Ym5fb2tCYW5uZXIgewogICAgICAgIGJhY2tncm91bmQ6ICNFOUZDRjY7CiAgICAgICAgY29sb3I6IGJsYWNrOwogICAgfQogICAgCiAgICAud2JuX3dhcm5pbmdCYW5uZXIgewogICAgICAgIGJhY2tncm91bmQ6ICNDQjU1NTU7CiAgICAgICAgY29sb3I6IHdoaXRlOwogICAgfQoKICAgIC53Ym5fdG9vT2xkQmFubmVyIHsKICAgICAgICBiYWNrZ3JvdW5kOiAjRkZBMzk0OwogICAgICAgIGNvbG9yOiBibGFjazsKICAgIH0KCiAgICAud2JuX2Zhdm91cml0ZUJhbm5lciB7CiAgICAgICAgYmFja2dyb3VuZDogI0ZGREQwMDsKICAgICAgICBjb2xvcjogYmxhY2s7CiAgICB9CgogICAgLndibl9ibGFja2xpc3RlZEJhbm5lciB7CiAgICAgICAgYmFja2dyb3VuZDogIzMzMzMzMzsKICAgICAgICBjb2xvcjogd2hpdGU7CiAgICB9CgogICAgLndibl9hY2NlcHRlZEFuc3dlckhpZ2hsaWdodCB7CiAgICAgICAgYmFja2dyb3VuZDogI0U5RkNGNjsKICAgIH0KICAgIAogICAgLndibl9ibGFja2xpc3RMaW5rIHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMDAwMDAwOwogICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgIH0KICAgIAogICAgLndibl9mYXZvdXJpdGVMaW5rIHsKICAgICAgICBiYWNrZ3JvdW5kOiAjRkZERDAwOwogICAgICAgIGNvbG9yOiBibGFjazsKICAgIH0KICAgIAogICAgLndibl91c2VyQWN0aW9uSWNvbiB7CiAgICAgICAgd2lkdGg6IDE4cHg7CiAgICAgICAgaGVpZ2h0OiAxOHB4OwogICAgICAgIGJvcmRlcjogMDsKICAgICAgICBwYWRkaW5nOiAycHg7CiAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIH0KCiAgICAud2JuX3VzZXJQcm9maWxlQWN0aW9uSWNvbiB7CiAgICAgICAgYm9yZGVyOiAwOwogICAgICAgIHBhZGRpbmc6IDJweDsKICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgfQoKICAgIC53Ym5fdXNlckFjdGlvbkljb25TbWFsbCB7CiAgICAgICAgYm9yZGVyOiAwOwogICAgICAgIHBhZGRpbmc6IDBweDsKICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgfQogICAgCiAgICAud2JuX2Jhbm5lcnMgewogICAgICAgIG1hcmdpbjogMHB4IDBweCAxMHB4IDBweDsKICAgIH0KICAgIAogICAgLndibl9mYXZvdXJpdGVVc2VyQ2FyZCB7CiAgICAgICAgYmFja2dyb3VuZDogI0ZGREQwMDsKICAgIH0KICAgIAogICAgLndibl9ibGFja2xpc3RlZFVzZXJDYXJkIHsKICAgICAgICBiYWNrZ3JvdW5kOiAjMzMzMzMzOwogICAgfQoKKi99ICkgKTsKfQo="},{"name":"Interesting Questions alternate highlighting","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.stackexchange.com/*","*://*.stackoverflow.com/*","*://*.superuser.com/*","*://*.serverfault.com/*","*://*.askubuntu.com/*","*://*.stackapps.com/*","*://*.mathoverflow.net/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831417},"enabled":true,"position":10,"file_url":"https://gist.github.com/shu8/415cd905568ad9667f46/raw/ffbc35151fbecce5436aa819bf282336c42b59fb/favoriteQuestions.user.js","uuid":"2a77d2d9-e7cf-4487-9acd-ecbcb7d8e4e3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBJbnRlcmVzdGluZyBRdWVzdGlvbnMgYWx0ZXJuYXRlIGhpZ2hsaWdodGluZwovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly9zdGFja2V4Y2hhbmdlLmNvbS91c2Vycy80MzM3ODEwLyVFMSVCOSVBNyVEMCVCRCVDQSU4QSVDMyU5RgovLyBAdmVyc2lvbiAgICAgIDAuMgovLyBAZGVzY3JpcHRpb24gIENoYW5nZXMgU3RhY2sgRXhjaGFuZ2Ugd2Vic2l0ZXMgJ2Zhdm9yaXRlIHRhZ3MnIGhpZ2hsaWdodGluZyB0byBqdXN0IHRoZSB0YWcuCi8vIEBhdXRob3IgICAgICAg4bmn0L3KisOfCi8vIEBtYXRjaAkJICo6Ly8qLnN0YWNrZXhjaGFuZ2UuY29tLyoKLy8gQG1hdGNoIAkJICo6Ly8qLnN0YWNrb3ZlcmZsb3cuY29tLyoKLy8gQG1hdGNoIAkJICo6Ly8qLnN1cGVydXNlci5jb20vKgovLyBAbWF0Y2ggCQkgKjovLyouc2VydmVyZmF1bHQuY29tLyoKLy8gQG1hdGNoIAkJICo6Ly8qLmFza3VidW50dS5jb20vKgovLyBAbWF0Y2gJCSAqOi8vKi5zdGFja2FwcHMuY29tLyoKLy8gQG1hdGNoCQkgKjovLyoubWF0aG92ZXJmbG93Lm5ldC8qCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KdmFyIHVzZXJzY3JpcHQgPSBmdW5jdGlvbigkKSB7CiAgICAkKHdpbmRvdykuYmluZCgibG9hZCIsIGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdzdXBlcnVzZXInKSA+IC0xKSB7IC8vc3VwZXJ1c2VyCiAgICAgICAgICAgIHZhciBiZXR0ZXJDU1MgPSB7CiAgICAgICAgICAgIAliYWNrZ3JvdW5kQ29sb3I6ICcjYTFlYWZmJywKICAgICAgICAgICAgICAgIGNvbG9yOiAnYmxhY2snICAgICAgICAgICAgICAgIAogICAgICAgIAl9OwogICAgICAgIH0KICAgICAgICBlbHNlIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdzdGFja292ZXJmbG93JykgPiAtMSkgeyAvL3N0YWNrb3ZlcmZsb3cKICAgICAgICAJdmFyIGJldHRlckNTUyA9IHsKICAgICAgICAgICAgCWJhY2tncm91bmRDb2xvcjogJyNmZmVmYzYnLAogICAgICAgICAgICAJYm9yZGVyV2lkdGg6ICcwJyAgICAgICAgICAgICAgICAKICAgICAgICAJfTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignLnN0YWNrZXhjaGFuZ2UuY29tJykgPiAtMSkgewogICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignbWV0YScpID09PSAtMSkgeyAvL2JldGEgc2l0ZXMKICAgICAgICAgICAgICAgIHZhciBiZXR0ZXJDU1MgPSB7CiAgICAgICAgICAgIAliYWNrZ3JvdW5kQ29sb3I6ICcjYzNkYWZhJywKICAgICAgICAgICAgCWJvcmRlcldpZHRoOiAnMCcgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9OyAKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHggPSAkKCIjaW50ZXJlc3RpbmdUYWdzIikudGV4dCgpOwogICAgICAgIHZhciBpbnRlcmVzdGluZyA9IHguc3BsaXQoJyAnKTsKICAgICAgICBpbnRlcmVzdGluZy5wb3AoKTsgLy9CZWNhdXNlIHRoZXJlJ3Mgb25lIGV4dHJhIHZhbHVlIGF0IHRoZSBlbmQKCiAgICAgICAgCgogICAgICAgICQoIi50YWdnZWQtaW50ZXJlc3RpbmcgPiAuc3VtbWFyeSA+IC50YWdzID4gLnBvc3QtdGFnIikuZmlsdGVyKGZ1bmN0aW9uKGluZGV4KSB7CiAgICAgICAgICAgIHJldHVybiBpbnRlcmVzdGluZy5pbmRleE9mKCQodGhpcykudGV4dCgpKSA+IC0xOwogICAgICAgIH0pLmNzcyhiZXR0ZXJDU1MpOwoKICAgICAgICAvLyAkKCIudGFnZ2VkLWludGVyZXN0aW5nIikucmVtb3ZlQ2xhc3MoInRhZ2dlZC1pbnRlcmVzdGluZyIpOwogICAgfSk7Cn07Cgp2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKZWwudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwplbC50ZXh0ID0gJygnICsgdXNlcnNjcmlwdCArICcpKGpRdWVyeSk7JzsKZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbCk7"},{"name":"Trainwreck","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?:\\/\\/chat.stackoverflow.com\\/rooms\\/.*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831428},"enabled":true,"position":11,"file_url":"https://raw.githubusercontent.com/Tiny-Giant/myuserscripts/master/Trainwreck.user.js","uuid":"5c178b91-f9ac-47b9-b718-16a2fa840aeb","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUcmFpbndyZWNrCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL2dpdGh1Yi5jb20vVGlueS1HaWFudAovLyBAdmVyc2lvbiAgICAgIDEuMC4wLjEKLy8gQGRlc2NyaXB0aW9uICBQb3N0cyBhIGxpbmsgdG8gYSByYW5kb20gdHJhaW53cmVjayBpbWFnZSB3aXRoIHRoZSB0ZXh0ICIjUmVrZFRyYWluIgovLyBAYXV0aG9yICAgICAgIEBUaW55R2lhbnQKLy8gQGluY2x1ZGUgICAgICAvaHR0cHM/OlwvXC9jaGF0LnN0YWNrb3ZlcmZsb3cuY29tXC9yb29tc1wvLiovCi8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gPT0vVXNlclNjcmlwdD09Ci8qIGpzaGludCAtVzA5NyAqLwondXNlIHN0cmljdCc7CgpsZXQgaW1hZ2VzID0gWwogICAgJ2h0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvMS8xOS9UcmFpbl93cmVja19hdF9Nb250cGFybmFzc2VfMTg5NS5qcGcnLAogICAgJ2h0dHBzOi8vczMuYW1hem9uYXdzLmNvbS9pbWcudWx0cmFzaWdudXAuY29tL2V2ZW50cy9yYXcvNmE3NmY0YTMtNGFkMi00YWUyLThhM2ItYzA5MmU4NTU4NmFmLmpwZycsCiAgICAnaHR0cHM6Ly9rYXNzb250cmFpbndyZWNrLmZpbGVzLndvcmRwcmVzcy5jb20vMjAxNS8wMy9jcm9wcGVkLXRyYWlud3JlY2suanBnJywKICAgICdodHRwOi8vd3d3Lm5jYmFtLm9yZy9pbWFnZXMvcGhvdG9zL3RyYWluLXdyZWNrLmpwZycsCiAgICAnaHR0cDovL29yYWxmaXhhdGlvbnNob3cuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE0LzA5L3RyYWluLXdyZWNrLmpwZycsCiAgICAnaHR0cDovL2V4cGVyaWVuY2VkeW5hbWljcy5ibG9ncy5jb20vLmEvNmEwMGQ4MzQ1YTY2YmY2OWUyMDE5MDFlZDQxOWE0OTcwYi1waScsCiAgICAnaHR0cHM6Ly90aW1lZG90Y29tLmZpbGVzLndvcmRwcmVzcy5jb20vMjAxNS8wNS8xNTA1MTMtMTk0My10cmFpbi13cmVjay0wMi5qcGc/cXVhbGl0eT03NSZzdHJpcD1jb2xvciZ3PTU3MycsCiAgICAnaHR0cDovL3N0YXRpYzYuYnVzaW5lc3NpbnNpZGVyLmNvbS9pbWFnZS81NTU0ZTkyMzY5YmVkZDhmMzNjNDVhMGQvaGVyZXMtZXZlcnl0aGluZy13ZS1rbm93LWFib3V0LXRoZS1hbXRyYWstdHJhaW4td3JlY2staW4tcGhpbGFkZWxwaGlhLmpwZycsCiAgICAnaHR0cDovL2dvbGRzaWx2ZXJ3b3JsZHMuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE1LzA3L3RyYWlud3JlY2suanBnJywKICAgICdodHRwOi8vYWxsdGhpbmdzZC5jb20vZmlsZXMvMjAxMi8wNi90cmFpbndyZWNrLmpwZycsCiAgICAnaHR0cDovL3NhaWxpbmdhbmFyY2h5LmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxNS8wOS90cmFpbndyZWNrLmpwZycsCiAgICAnaHR0cDovL2lhbXBoaWxkb2RkLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxMy8xMi90cmFpbndyZWNrMS5qcGcnLAogICAgJ2h0dHA6Ly9jZG4udGhlYXRsYW50aWMuY29tL2Fzc2V0cy9tZWRpYS9pbWcvcG9zdHMvMjAxMy8xMS83NThweF9UcmFpbl9XcmVja18xOTIyLzU2YWU5YzlmYy5qcGcnLAogICAgJ2h0dHA6Ly9zdGF0aWMubWVzc3luZXNzeWNoaWMuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDEyLzEwL3RyYWlud3JlY2suanBnJywKICAgICdodHRwOi8vd3d3LmJheWNvbG9ueXJhaWx0cmFpbC5vcmcvZ2FsbGVyeTIvZC8xMjgyLTMvdHJhaW53cmVjay5qcGcnLAogICAgJ2h0dHA6Ly90cmFpbndyZWNrd2luZXJ5LmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxMi8wNS90cmFpbndyZWNrVEhFTi5qcGcnLAogICAgJ2h0dHA6Ly93d3cuc2t2YXJjaC5jb20vaW1hZ2VzL3RyYWlucy90cmFpbndyZWNrLmpwZycsCiAgICAnaHR0cDovL2NvbnNlbGl1bS5jb20vd3AtY29udGVudC91cGxvYWRzL3RyYWluLXdyZWNrLmpwZycsCiAgICAnaHR0cDovL2ltZ3Muc2ZnYXRlLmNvbS9ibG9ncy9pbWFnZXMvc2ZnYXRlL2JtYW5nYW4vMjAxMC8xMC8xOC90cmFpbndyZWNrLmpwZycsCiAgICAnaHR0cHM6Ly9pbWcxLmV0c3lzdGF0aWMuY29tLzA0My8wLzc3MjQ5MzUvaWxfZnVsbHhmdWxsLjYxMzgzMzQzN18zN2E1LmpwZycsCiAgICAnaHR0cDovL25jcGVkaWEub3JnL3NpdGVzL2RlZmF1bHQvZmlsZXMvL2Jvc3RpYW5fd3JlY2suanBnJywKICAgICdodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zLzkvOWYvTmV3TWFya2V0VHJhaW5XcmVjay5qcGcnLAogICAgJ2h0dHBzOi8vZXRoaWNzYWxhcm1zLmZpbGVzLndvcmRwcmVzcy5jb20vMjAxNS8wNC90cmFpbi13cmVja3MtYWNjaWRlbnRzLmpwZycsCiAgICAnaHR0cDovL29mZmJlYXRvcmVnb24uY29tL0ltYWdlcy9IMTAwMmJfR2VuZXJhbC9CcmlkZ2VXcmVjazE4MDAuanBnJywKICAgICdodHRwOi8vd3d3My5nZW5kaXNhc3RlcnMuY29tL2ZpbGVzL25ld3Bob3Rvcy9OYXBlcnZpbGxlJTIwSUwlMjBUcmFpbiUyMFdyZWNrJTIwNC0yNi0xOTQ2LkpQRycsCiAgICAnaHR0cDovL3N0YXRpYzAxLm55dC5jb20vaW1hZ2VzLzIwMTEvMDcvMjUvd29ybGQvMjVjaGluYS1zcGFuLzI1Y2hpbmEtc3Bhbi1hcnRpY2xlTGFyZ2UuanBnJywKICAgICdodHRwOi8vc2hvcmVzcGVhay5jb20vYmxvZy93cC1jb250ZW50L3VwbG9hZHMvMjAxMS8wMS90cmFpbl93cmVja18yLmpwZycsCiAgICAnaHR0cDovL3d3dy5jZm0tZm1oLm9yZy9maWxlcy9RdWlja1NpdGVJbWFnZXMvTXVzZXVtUGhvdG9zL1RyYWluX1dyZWNrLmpwZycsCiAgICAnaHR0cDovL3d3dy5jaXJjdXNlc2FuZHNpZGVzaG93cy5jb20vaW1hZ2VzL2FsZ2Jhcm5lc3RyYWlud3JlY2tsYXJnZS5qcGcnLAogICAgJ2h0dHA6Ly93d3cuc2NpdGVjaGFudGlxdWVzLmNvbS90cmFpbndyZWNrL3RyYWlud3JlY2suanBnJywKICAgICdodHRwOi8vd3d3My5nZW5kaXNhc3RlcnMuY29tL2ZpbGVzL25ld3Bob3Rvcy9uai13b29kYnJpZGdlLXRyYWlud3JlY2szci5qcGcnLAogICAgJ2h0dHA6Ly90cmF2ZWwuZ3VuYXhpbi5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTAvMDcvRXA5X1RyYWluV3JlY2suanBnJwpdOwoKbGV0IHJvb20gPSAoL1xkKy8uZXhlYyh3aW5kb3cubG9jYXRpb24uaHJlZil8fFtmYWxzZV0pWzBdOwoKaWYgKCFyb29tKSByZXR1cm47CgpsZXQgZmtleSA9IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmtleScpfHx7dmFsdWU6IGZhbHNlfSkudmFsdWU7CgppZiAoIWZrZXkpIHJldHVybjsKCmxldCBub2RlcyA9IHt9OwoKbm9kZXMuc2NvcGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hhdC1idXR0b25zJyk7Cgpub2Rlcy5yZWtkYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7Cm5vZGVzLnJla2RidG4uY2xhc3NOYW1lID0gJ2J1dHRvbiByZWtkYnRuJzsKbm9kZXMucmVrZGJ0bi50ZXh0Q29udGVudCA9ICd3cmVjayB0cmFpbic7Cm5vZGVzLnNjb3BlLmFwcGVuZENoaWxkKG5vZGVzLnJla2RidG4pOwoKbGV0IGdldFJhbmRvbVdyZWNrID0gKCkgPT4gewogICAgcmV0dXJuIGltYWdlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoKGltYWdlcy5sZW5ndGggLSAxKSAtICArIDEpKV07Cn0KCm5vZGVzLnJla2RidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7CiAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgdXJsOiAnL2NoYXRzLycgKyByb29tICsgJy9tZXNzYWdlcy9uZXcnLAogICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LAogICAgICAgIGRhdGE6ICd0ZXh0PScgKyBlbmNvZGVVUklDb21wb25lbnQoJ1sjUmVrZFRyYWluXSgnICsgZ2V0UmFuZG9tV3JlY2soKSArICcpJykgKyAnJmZrZXk9JyArIGZrZXksCiAgICAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwKSB7CiAgICAgICAgICAgIGlmKHJlc3Auc3RhdHVzICE9PSAyMDApIGNvbnNvbGUubG9nKHJlc3ApOwogICAgICAgIH0KICAgIH0pOwp9LCBmYWxzZSk7Cg=="},{"name":"Hide chat room description and tags","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://chat.stackexchange.com/*","*://chat.stackoverflow.com/*","*://chat.meta.stackexchange.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831440},"enabled":true,"position":12,"uuid":"513379ad-9b2c-4614-9efe-231a67d367a5","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIEhpZGUgY2hhdCByb29tIGRlc2NyaXB0aW9uIGFuZCB0YWdzCi8vIEBuYW1lc3BhY2UgICBtYWlkY2FmZQovLyBAbWF0Y2ggICAgICAgICo6Ly9jaGF0LnN0YWNrZXhjaGFuZ2UuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vY2hhdC5zdGFja292ZXJmbG93LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL2NoYXQubWV0YS5zdGFja2V4Y2hhbmdlLmNvbS8qCi8vIEB2ZXJzaW9uICAgICAxLjAuNAovLyBAZ3JhbnQgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCmZ1bmN0aW9uIGFkZEdsb2JhbFN0eWxlKGNzcykgewogIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICBzdHlsZS5pbm5lckhUTUwgPSBjc3M7CiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7Cn0KCmFkZEdsb2JhbFN0eWxlKCcjcm9vbWRlc2MsICNyb29tLXRhZ3Mge2Rpc3BsYXk6IG5vbmU7fScpOw=="},{"name":"character limits restriction","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.askubuntu.com/*","*://*.serverfault.com/*","*://*.stackapps.com/*","*://*.stackexchange.com/*","*://*.stackoverflow.com/*","*://*.superuser.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831454},"enabled":true,"position":13,"uuid":"0945c427-cc2b-481c-9195-8dfb244f8b4c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBjaGFyYWN0ZXIgbGltaXRzIHJlc3RyaWN0aW9uCi8vIEBuYW1lc3BhY2UgICAgICAgU3RhY2tFeGNoYW5nZQovLyBAZGVzY3JpcHRpb24gICAgIEJ5cGFzcyBjaGFyYWN0ZXIgbGltaXRzIHJlc3RyaWN0aW9uIGZvciBjb21tZW50cwovLyBAdmVyc2lvbiAgICAgICAgIDEuMAovLyBAbWF0Y2ggICAgICAgICAgICo6Ly8qLmFza3VidW50dS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgICo6Ly8qLnNlcnZlcmZhdWx0LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgKjovLyouc3RhY2thcHBzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgICAgKjovLyouc3RhY2tleGNoYW5nZS5jb20vKgovLyBAbWF0Y2ggICAgICAgICAgICo6Ly8qLnN0YWNrb3ZlcmZsb3cuY29tLyoKLy8gQG1hdGNoICAgICAgICAgICAqOi8vKi5zdXBlcnVzZXIuY29tLyoKLy8gPT0vVXNlclNjcmlwdD09Cgp2YXIgc2NyaXB0ID0gZnVuY3Rpb24oJCkgewogICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJ3RleHRhcmVhW25hbWU9Y29tbWVudF0nICwgImZvY3VzIiwgZnVuY3Rpb24oKXsKICAgICAgICAgbSA9ICQodGhpcykudmFsKCkubGVuZ3RoCiAgICAgICAgIGZvcih2YXIgaT0wOyBpPCAoMTUgLSBtKTsgaSsrKXsKICAgICAgICAgJCh0aGlzKS52YWwoJCh0aGlzKS52YWwoKSArICJcdTIwMGIiKQogICAgICAgIH0KICAgIH0pCn07Cgp2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKZWwudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwplbC50ZXh0ID0gJygnICsgc2NyaXB0ICsgJykoalF1ZXJ5KTsnOwpkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsKTs="},{"name":"Magic™Editor","options":{"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"user_agent":"","override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/^https?:\\/\\/\\w*.?(stackoverflow|stackexchange|serverfault|superuser|askubuntu|stackapps)\\.com\\/(questions|posts|review|tools)\\/(?!tagged\\/|new\\/).*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]}},"storage":{"data":{},"ts":1456451831467},"enabled":true,"position":14,"file_url":"https://raw.githubusercontent.com/SO-Close-Vote-Reviewers/UserScripts/master/Magic%E2%84%A2Editor.user.js","uuid":"c8fdd2ca-2370-4737-bb6b-437ca517e31b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgIE1hZ2lj4oSiRWRpdG9yCi8vIEBhdXRob3IgICAgICAgICBDYW1lcm9uIEJlcm5oYXJkdCAoQXN0cm9DQikKLy8gQGRldmVsb3BlciAgICAgIEpvbmF0aGFuIFRvZGQgKGp0MGRkKQovLyBAZGV2ZWxvcGVyICAgICAgc2F0aHlhYmhhdAovLyBAY29udHJpYnV0b3IgICAgVW5paGVkcm9uCi8vIEBjb250cmlidXRvciAgICBUaW55IEdpYW50Ci8vIEBjb250cmlidXRvciAgICBNb2dzZGFkCi8vIEBncmFudCAgICAgICAgICBub25lCi8vIEBsaWNlbnNlICAgICAgICBNSVQKLy8gQG5hbWVzcGFjZSAgICAgIGh0dHA6Ly9naXRodWIuY29tL1NPLUNsb3NlLVZvdGUtUmV2aWV3ZXJzL1VzZXJTY3JpcHRzL01hZ2lj4oSiRWRpdG9yCi8vIEB2ZXJzaW9uICAgICAgICAxLjUuMi42MwovLyBAZGVzY3JpcHRpb24gICAgRml4IGNvbW1vbiBncmFtbWFyL3VzYWdlIGFubm95YW5jZXMgb24gU3RhY2sgRXhjaGFuZ2UgcG9zdHMgd2l0aCBhIGNsaWNrCi8vICAgICAgICAgICAgICAgICBGb3JrZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vQXN0cm9DQi9TdGFjay1FeGNoYW5nZS1FZGl0b3ItVG9vbGtpdAovLyBAaW5jbHVkZSAgICAgICAgL15odHRwcz86XC9cL1x3Ki4/KHN0YWNrb3ZlcmZsb3d8c3RhY2tleGNoYW5nZXxzZXJ2ZXJmYXVsdHxzdXBlcnVzZXJ8YXNrdWJ1bnR1fHN0YWNrYXBwcylcLmNvbVwvKHF1ZXN0aW9uc3xwb3N0c3xyZXZpZXd8dG9vbHMpXC8oPyF0YWdnZWRcL3xuZXdcLykuKi8KLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICBmdW5jdGlvbiBleHRlbmRFZGl0b3Iocm9vdCkgewogICAgICAgIHZhciBBcHAgPSB7fTsKCiAgICAgICAgLy8gUGxhY2UgZWRpdCBpdGVtcyBoZXJlCiAgICAgICAgQXBwLml0ZW1zID0ge307CiAgICAgICAgQXBwLm9yaWdpbmFscyA9IHt9OwoKICAgICAgICAvLyBQbGFjZSBzZWxlY3RlZCBqUXVlcnkgaXRlbXMgaGVyZQogICAgICAgIEFwcC5zZWxlY3Rpb25zID0ge307CgogICAgICAgIC8vIFBsYWNlICJnbG9iYWwiIGFwcCBkYXRhIGhlcmUKICAgICAgICBBcHAuZ2xvYmFscyA9IHt9OwoKICAgICAgICAvLyBQbGFjZSAiY29uc3QiIGFwcCBkYXRhIGhlcmUKICAgICAgICBBcHAuY29uc3RzID0ge307CgogICAgICAgIC8vIFBsYWNlICJoZWxwZXIiIGZ1bmN0aW9ucyBoZXJlCiAgICAgICAgQXBwLmZ1bmNzID0ge307CgogICAgICAgIC8vIFRydWUgdG8gZGlzcGxheSBjb3VudHMgYW5kIC8gb3IgcnVsZSBuYW1lcyBpbiBFZGl0IFN1bW1hcnkKICAgICAgICBBcHAuZ2xvYmFscy5zaG93Q291bnRzID0gZmFsc2U7CiAgICAgICAgQXBwLmdsb2JhbHMuc2hvd1J1bGVzID0gZmFsc2U7CgogICAgICAgIEFwcC5nbG9iYWxzLnJvb3QgPSByb290OwoKICAgICAgICBBcHAuZ2xvYmFscy5yZWFzb25zID0ge307CgogICAgICAgIEFwcC5nbG9iYWxzLnJlcGxhY2VkU3RyaW5ncyA9IHsKICAgICAgICAgICAgImF1dG8iOiAgIFtdLAogICAgICAgICAgICAicXVvdGUiOiAgW10sCiAgICAgICAgICAgICJpbmxpbmUiOiBbXSwKICAgICAgICAgICAgImJsb2NrIjogIFtdLAogICAgICAgICAgICAibHNlYyI6ICAgW10sCiAgICAgICAgICAgICJsaW5rcyI6ICBbXSwKICAgICAgICAgICAgInRhZ3MiOiAgIFtdCiAgICAgICAgfTsKICAgICAgICBBcHAuZ2xvYmFscy5wbGFjZUhvbGRlcnMgPSB7CiAgICAgICAgICAgICJhdXRvIjogICAiX3hBdXRveEluc2VydHhUZXh0eFBsYWNleEhvbGRlcl8iLAogICAgICAgICAgICAicXVvdGUiOiAgIl94QmxvY2t4UXVvdGV4UGxhY2V4SG9sZGVyeF8iLAogICAgICAgICAgICAiaW5saW5lIjogIl94Q29kZXhJbmxpbmV4UGxhY2V4SG9sZGVyeF8iLAogICAgICAgICAgICAiYmxvY2siOiAgIl94Q29kZXhCbG9ja3hQbGFjZXhIb2xkZXJ4XyIsCiAgICAgICAgICAgICJsc2VjIjogICAiX3hMaW5reFNlY3Rpb254UGxhY2V4SG9sZGVyeF8iLAogICAgICAgICAgICAibGlua3MiOiAgIl94TGlua3hQbGFjZXhIb2xkZXJ4XyIsCiAgICAgICAgICAgICJ0YWdzIjogICAiX3hUYWd4UGxhY2V4SG9sZGVyeF8iCiAgICAgICAgfTsKICAgICAgICBBcHAuZ2xvYmFscy5wbGFjZUhvbGRlckNoZWNrcyA9IHsKICAgICAgICAgICAgImF1dG8iOiAgIC9feEF1dG94SW5zZXJ0eFRleHR4UGxhY2V4SG9sZGVyXy9naSwKICAgICAgICAgICAgInF1b3RlIjogIC9feEJsb2NreFF1b3RleFBsYWNleEhvbGRlcnhfL2dpLAogICAgICAgICAgICAiaW5saW5lIjogL194Q29kZXhJbmxpbmV4UGxhY2V4SG9sZGVyeF8vZ2ksCiAgICAgICAgICAgICJibG9jayI6ICAvX3hDb2RleEJsb2NreFBsYWNleEhvbGRlcnhfL2dpLAogICAgICAgICAgICAibHNlYyI6ICAgL194TGlua3hTZWN0aW9ueFBsYWNleEhvbGRlcnhfL2dpLAogICAgICAgICAgICAibGlua3MiOiAgL194TGlua3hQbGFjZXhIb2xkZXJ4Xy9naSwKICAgICAgICAgICAgInRhZ3MiOiAgIC9feFRhZ3hQbGFjZXhIb2xkZXJ4Xy9naQogICAgICAgIH07CiAgICAgICAgQXBwLmdsb2JhbHMuY2hlY2tzID0gewogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9jSTZvSzIvMSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIHRleHQKICAgICAgICAgICAgImF1dG8iOiAgIC9bXl0qXDxcIVwtXC0gRW5kIG9mIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgdGV4dCBcLVwtXD4vZywKICAgICAgICAgICAgLy8gICAgICAgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvZlU1bEU2LzEgYmxvY2txdW90ZXMKICAgICAgICAgICAgInF1b3RlIjogIC9eXD4oPzooPyFcblxuKVteXSkrL2dtLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9sTDZmSDMvMSBzaW5nbGUtbGluZSBpbmxpbmUgY29kZQogICAgICAgICAgICAiaW5saW5lIjogL2BbXmBcbl0rYC9nLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9lQzdtRjcvMiBjb2RlIGJsb2NrcyBhbmQgbXVsdGlsaW5lIGlubGluZSBjb2RlLgogICAgICAgICAgICAiYmxvY2siOiAgL2BbXmBdK2B8Xig/Oig/OlsgXXs0fXxbIF17MCwzfVx0KS4rKD86W1xyXG5dPyg/IVxuXFMpKD86WyBdK1xuKSopKykrL2dtLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci90WjRlWTMvNyBsaW5rLXNlY3Rpb25zIAogICAgICAgICAgICAibHNlYyI6ICAgLyg/OiAgKD86XFtcZFxdKTogXHcqOitcL1wvLipcbiopKy9nLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci90WjRlWTMvMjAgbGlua3MgYW5kIHBhdGhuYW1lcwogICAgICAgICAgICAibGlua3MiOiAgL1xbW15cXVxuXStcXSg/OlwoW15cKVxuXStcKXxcW1teXF1cbl0rXF0pfCg/OlwvXHcrXC98LjpcXHxcdyo6XC9cL3xcLitcL1suL1x3XGRdK3woPzpcdytcLlx3Kyl7Mix9KVsuL1x3XGQ6Lz8jXFtcXUAhJCYnKCkqKyw7PVwtfiVdKi9nLAogICAgICAgICAgICAvLyAgICAgICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9iRjBpUTAvMiAgIHRhZ3MgYW5kIGh0bWwgY29tbWVudHMgCiAgICAgICAgICAgICJ0YWdzIjogICAvXDxbXC9hLXpdK1w+fFw8XCFcLVwtW14+XStcLVwtXD58XFt0YWc6W1x3Li1dK1xdL2dpCiAgICAgICAgfTsKICAgICAgICBBcHAuZ2xvYmFscy5jaGVja3NyID0gKGZ1bmN0aW9uKG8xKXsKICAgICAgICAgICAgdmFyIG8yID0ge307CiAgICAgICAgICAgIHZhciBrPSBPYmplY3Qua2V5cyhvMSk7CiAgICAgICAgICAgIGZvcih2YXIgaSA9IGsubGVuZ3RoLTE7IGkgPj0gMDsgLS1pKSBvMltrW2ldXSA9IG8xW2tbaV1dOwogICAgICAgICAgICByZXR1cm4gbzI7CiAgICAgICAgfSkoQXBwLmdsb2JhbHMuY2hlY2tzKTsKCiAgICAgICAgLy8gQXNzaWduIG1vZHVsZXMgaGVyZQogICAgICAgIEFwcC5waXBlTW9kcyA9IHt9OwoKICAgICAgICAvLyBEZWZpbmUgb3JkZXIgaW4gd2hpY2ggbW9kcyBhZmZlY3QgIGhlcmUKICAgICAgICBBcHAuZ2xvYmFscy5vcmRlciA9IFsib21pdCIsICJjb2RlZml4IiwgImVkaXQiLCAiZGlmZiIsICJyZXBsYWNlIiwgIm91dHB1dCJdOwogICAgICAgIAogICAgICAgIC8vIERlZmluZSByZWFzb24gY29uc3RhbnQgc3RyaW5ncwogICAgICAgIEFwcC5jb25zdHMucmVhc29ucyA9IHsKICAgICAgICAgICAgbGVnYWxTTzogICAgICAgIidTdGFjayBPdmVyZmxvdycgaXMgdGhlIGxlZ2FsIG5hbWUiLAogICAgICAgICAgICBsZWdhbFNFOiAgICAgICAiJ1N0YWNrIEV4Y2hhbmdlJyBpcyB0aGUgbGVnYWwgbmFtZSIsCiAgICAgICAgICAgIHRpZHlUaXRsZTogICAgICJ0aWRpZWQgdGl0bGUiLAogICAgICAgICAgICB0cmFkZW1hcms6ICAgICAidHJhZGVtYXJrIGNhcGl0YWxpemF0aW9uIiwKICAgICAgICAgICAgYWNyb255bTogICAgICAgImFjcm9ueW0gY2FwaXRhbGl6YXRpb24iLAogICAgICAgICAgICBzcGVsbGluZzogICAgICAic3BlbGxpbmciLAogICAgICAgICAgICBncmFtbWFyOiAgICAgICAiZ3JhbW1hciIsCiAgICAgICAgICAgIG5vaXNlOiAgICAgICAgICJub2lzZSByZWR1Y3Rpb24iLAogICAgICAgICAgICBwdW5jdHVhdGlvbjogICAicHVuY3R1YXRpb24iLAogICAgICAgICAgICBsYXlvdXQ6ICAgICAgICAibGF5b3V0IiwKICAgICAgICAgICAgc2lsZW50OiAgICAgICAgIiIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW5yZXBvcnRlZCAvIHVuY291bnRlZAogICAgICAgICAgICB0aXRsZVNheXNBbGw6ICAicmVwbGljYXRlZCB0aXRsZSBpbiBib2R5IgogICAgICAgIH07CgogICAgICAgIAogICAgICAgIC8vIEdldCB0aGUgb3JpZ2luYWwgcG9zdCB0YWdzCiAgICAgICAgQXBwLmdsb2JhbHMudGFnbGlzdCA9IFtdOwogICAgICAgICQoJ2EucG9zdC10YWcnKS5lYWNoKCBmdW5jdGlvbigpewogICAgICAgICAgICB2YXIgbmV3dGFnID0gJCh0aGlzKS50ZXh0KCk7CiAgICAgICAgICAgIGlmIChBcHAuZ2xvYmFscy50YWdsaXN0LmluZGV4T2YobmV3dGFnKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgIEFwcC5nbG9iYWxzLnRhZ2xpc3QucHVzaChuZXd0YWcpOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAvLyBEZWZpbmUgZWRpdCBydWxlcwogICAgICAgIEFwcC5lZGl0cyA9IHsKICAgICAgICAgICAgLy8gVGlkeSB0aGUgdGl0bGUKICAgICAgICAgICAgbm9uZWVkdG95ZWxsOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXigoPz0uKltBLVpdKVteYS16XSopJC9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uKGlucHV0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LnRyaW0oKS5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIGlucHV0LnRyaW0oKS5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50aWR5VGl0bGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGFnbGlzdDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci93SDRvQTMvMTkKICAgICAgICAgICAgICAgIGV4cHI6IG5ldyBSZWdFeHAoICAiKD86Xig/OlsoXT8oPzpfeFRhZ3N4XykoPzphbmR8WyAsLiYrLy1dKSopK1s6LiBcKS1dKnwoPzpbOi4gXCgtXXxpbnx3aXRofHVzaW5nfGJ5fGZvcikqKD86KD86X3hUYWdzeF8pKD86YW5kfFsgLCYrLyktXSkqKSsoWz8uISBdKikkKSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL194VGFnc3hfL2csQXBwLmdsb2JhbHMudGFnbGlzdC5tYXAoZXNjYXBlVGFnKS5qb2luKCJ8IikpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy5yZXBsYWNlKC9cXCg/PVtic1NkRHdXXSkvZywiXFwiKSwgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9wWTFoSTIvMSAtIFdCTiB0byBmaWd1cmUgdGhpcyBvdXQuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnaScpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSIsCiAgICAgICAgICAgICAgICBkZWJ1ZzogZmFsc2UsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50aWR5VGl0bGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc286IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnN0YWNrXHMqb3ZlcmZsb3dcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiU3RhY2sgT3ZlcmZsb3ciLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubGVnYWxTTwogICAgICAgICAgICB9LAogICAgICAgICAgICBzZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xic3RhY2tccypleGNoYW5nZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJTdGFjayBFeGNoYW5nZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5sZWdhbFNFCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGV4cGFuc2lvblNPOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pU09cYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMVN0YWNrIE92ZXJmbG93IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmxlZ2FsU08KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXhwYW5zaW9uU0U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XilTRVxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxU3RhY2sgRXhjaGFuZ2UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubGVnYWxTRQogICAgICAgICAgICB9LAogICAgICAgICAgICAvKgogICAgICAgICAgICAqKiBUcmFkZW1hcmsgbmFtZXMKICAgICAgICAgICAgKiovCiAgICAgICAgICAgIGpzZmlkZGxlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJqcyA/ZmlkZGxlXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkpTRmlkZGxlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBtZXRlb3I6IHsgIC8vIG11c3QgYXBwZWFyIGJlZm9yZSAiamF2YXNjcmlwdCIKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XiltZXRlb3IgKihqcyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKHN0cixwcmUsdXBwZXJjYXNlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZpeGVkID0gcHJlICsgIk1ldGVvciIgKyAodXBwZXJjYXNlID8gdXBwZXJjYXNlLnRvVXBwZXJDYXNlKCkgOiAnJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpeGVkOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBrbm9ja291dF9qczogeyAgLy8gbXVzdCBhcHBlYXIgYmVmb3JlICJqYXZhc2NyaXB0IgogICAgICAgICAgICAgICAgZXhwcjogL1xia25vY2tvdXRbLiBdP2pzXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIktub2Nrb3V0LmpzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBzY3JpcHQ6IHsgIC8vIFNwZWxsaW5nIHJ1bGUgb3V0LW9mLW9yZGVyLCBtdXN0IHJ1biBiZWZvcmUgamF2YXNjcmlwdCAmIGdvb2dsZV9hcHBzX3NjcmlwdAogICAgICAgICAgICAgICAgZXhwcjogLyhzKWNbcmldK3B0Pyhpbmd8cyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxY3JpcHQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBqYXZhc2NyaXB0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pKGphdmE/c2NyP2lwdD98anN8amF2YSBzY3JpcHQ/KVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMUphdmFTY3JpcHQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGpxdWVyeTogewogICAgICAgICAgICAgICAgZXhwcjogL1xianF1ZT9ycj95XGIvZ2ksICAvLyBqcXVyeSwganF1ZXJyeSwganF1cnJ5Li4uIH42MDAgc3BlbGxpbmcgbWlzdGFrZXMKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAialF1ZXJ5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBhbmd1bGFyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJhbmd1bGFyKD86anMpP1xiKD8hLSkvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkFuZ3VsYXJKUyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGhwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilwaHBbXGRdP1xiKD8hXC5pbmkpL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBjOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XiljXGIoPzojfFwrXCspPy9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgamF2YTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWphdmFcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFKYXZhIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBzcWxpdGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnNxbGl0ZShccypbMC05XSopXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlNRTGl0ZSQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBhbmRyb2lkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJhbmRyb2lkXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkFuZHJvaWQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9yYWNsZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xib3JhY2xlXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk9yYWNsZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd2luZG93czogewogICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9qRjl6SzEvOAogICAgICAgICAgICAgICAgZXhwcjogL1xiKD86d2luKD89KD86XHMrKD86Mmt8WzAtOS5dK3xjZXxtZXxudHx4cHx2aXN0YXxzZXJ2ZXIpKSl8d2luZG93cykoPzpccysoMmt8WzAtOS5dK3xjZXxtZXxudHx4cHx2aXN0YXxzZXJ2ZXIpKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbihtYXRjaCwgdmVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmVyID0gIXZlciA/ICcnIDogJyAnK3ZlcgogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9jZS9pLCAnQ0UnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9tZS9pLCAnTUUnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9udC9pLCAnTlQnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC94cC9pLCAnWFAnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8yay9pLCAnMjAwMCcpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL3Zpc3RhL2ksICdWaXN0YScpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL3NlcnZlci9pLCAnU2VydmVyJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdXaW5kb3dzJyArIHZlcjsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdW5peDogewogICAgICAgICAgICAgICAgZXhwcjogL1xidW5peFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJVbml4IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBsaW51eDogewogICAgICAgICAgICAgICAgZXhwcjogL1xibGludXhcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiTGludXgiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdvcmRwcmVzczogewogICAgICAgICAgICAgICAgZXhwcjogL1xid29yZCA/cHJlc3NcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiV29yZFByZXNzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBteXNxbDogewogICAgICAgICAgICAgICAgZXhwcjogL1xibXlzcWxcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiTXlTUUwiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5vZGVqczogewogICAgICAgICAgICAgICAgZXhwcjogL1xibm9kZVwuP2pzXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk5vZGUuanMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFwYWNoZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiYXBhY2hlKFtcZF0pP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJBcGFjaGUkMSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2l0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pZ2l0XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxR2l0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBnaXRodWI6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmdpdGh1YlxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJHaXRIdWIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZhY2Vib29rOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3JPMXRINC8yCiAgICAgICAgICAgICAgICBleHByOiAvXGJmKD86YVtjc11lPyk/YmU/bytrPyhzKT8vZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyLHMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIkZhY2Vib29rIiArIChzID8gIidzIiA6ICIiKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHl0aG9uOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJweXRob25cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiUHl0aG9uIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBpb3M6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmlvc1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJpT1MiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlvc251bTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiaW9zKFswLTldKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJpT1MgJDEiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVidW50dTogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9zVDh3VjUvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiW3VvYV0rbj9iW3VvYV0qW3RuXVtvdWFdKlt0bnVdW291YV0qXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlVidW50dSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdmJuZXQ6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvYkI5cFAzLzgKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzp2YlwubmV0fFxidmJ8KD86W15cYlx3Ll18XilcLm5ldClcYig/OlxzKlswLTldKyk/XHMqKD86ZnJhbWV3b3JrfGNvcmUpPy9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbihzdHIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbXi5dKXZiL2ksICckMVZCJykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFteLl0pYXNwL2ksICckMUFTUCcpCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL25ldC9pLCAnTkVUJykKICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvZnJhbWV3b3JrL2ksICdGcmFtZXdvcmsnKQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9jb3JlL2ksICdDb3JlJyk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHZiYV9yZWxhdGVkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XikoPzp2YmF8dmJzfHZiY3xldmJ8dmJvfHZicHx2YmlkZSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdmJzY3JpcHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnZic2NyaXB0L2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJWQlNjcmlwdCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXhjZWw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmV4Y2VsXGIoPyFcLXxcLlx3KS9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiRXhjZWwiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlZ2V4OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJyZWdnP1tlYV0/eChwKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiUmVnRXgkMSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9zdGdyZXNxbDogewogICAgICAgICAgICAgICAgZXhwcjogL1xicG9zdD9ncmVzKihxP2x8cyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlBvc3RncmVTUUwiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBheXBhbDogewogICAgICAgICAgICAgICAgZXhwcjogL1xicGF5cGFsXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlBheVBhbCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9tY2F0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJ0b21jYXQoWzAtOS5dKikvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlRvbWNhdCQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBuZXRiZWFuczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKD86bmV0YmVhbj98bmV0LWJlYW58bmV0IGJlYW58bmV0YmVlbilzP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJOZXRCZWFucyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbmdpbng6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYm5naW54XGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmlyZWZveDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZmlyZT9mb3hcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiRmlyZWZveCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2FmYXJpOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJzYWZhcmlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiU2FmYXJpIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBjaHJvbWU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmNocm9tZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJDaHJvbWUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdudTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZ251XGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2NjOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilnY2NcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBtYXZlbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xibWF2ZW5cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiTWF2ZW4iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHlvdXR1YmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnlvdXR1YmVcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiWW91VHViZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYW1hem9uOiB7CiAgICAgICAgICAgICAgICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2RSMHBKNy8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYW1hem9uKD86ICk/KD86cmVkc2hpZnR8d2ViIHNlcnZpY2VzfGNsb3VkZnJvbnR8Y29uc29sZSk/KSgoPzogKT8oPzplYzJ8YXdzfHMzfHJkc3xzcXN8aWFtfGVsYnxlbXJ8dnBjKSk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyLHRpdGxlY2FzZSx1cHBlcmNhc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWQgPSB0aXRsZWNhc2UudG9UaXRsZUNhc2UoKSArICh1cHBlcmNhc2UgPyB1cHBlcmNhc2UudG9VcHBlckNhc2UoKSA6ICcnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZml4ZWQ7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHplbmQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnplbmQoKD86ICk/KD86ZnJhbWV3b3JrfHN0dWRpb3xndWFyZCkpP1xiL2dpLAogICAgICAgICAgICAgICAgLy9yZXBsYWNlbWVudDogU3RyaW5nLnRvVGl0bGVDYXNlLCAgLy8gRG9lc24ndCB3b3JrIGxpa2UgYnVpbHQtaW4gdG9VcHBlckNhc2UsIHJldHVybnMgJ3VuZGVmaW5lZCcuIExvYWQgb3JkZXI/CiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyLHByb2QpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnRvVGl0bGVDYXNlKCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHdpdHRlcjogewogICAgICAgICAgICAgICAgZXhwcjogL1xidHdpdHRlclxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJUd2l0dGVyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBib290c3RyYXA6IHsgICAgIC8vICJib290c3RyYXAiIGlzIGFsc28gYSBnZW5lcmFsIGNvbXB1dGluZyB0ZXJtLCBzbyBleHBlY3Qgc29tZSBmYWxzZSBwb3NpdGl2ZXMKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmJvb3RzdD9yP2FwXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkJvb3RzdHJhcCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBwbGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmFwcGxlXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiQXBwbGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlwaG9uZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiaXBoP29uZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiaVBob25lIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBnb29nbGU6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvcVc4Zkk4LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmdvKyg/OmcrbGV8bGdlP3xnZWwpKFtkcnNdfGluZ3xcYikvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyLHN1ZmZpeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAiR29vZ2wiICsgKChzdWZmaXguc2VhcmNoKC9pbmcvKSA9PSAtMSApID8gImUiIDogIiIpICsgc3VmZml4OwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBnb29nbGVfdmVyYmVkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJnb29nbCg/OmVkfGluZ3xlcilcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbihzdHIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnRvVGl0bGVDYXNlKCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNwcmVhZHNoZWV0OiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL29LNHVXMy8xIC0gbXVzdCBhcHBlYXIgYmVmb3JlIGdvb2dsZV90aGluZ3MKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKVtwcl0rW2VhXStkc2g/ZSt0KD86aW5nKT8ocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcHJlYWRzaGVldCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdvb2dsZV90aGluZ3M6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9pUzVmTzEvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiZ29vZ2xlXGJbIFx0XSooPzptYXBzP3xzaGVldHM/fGRvY3M/fGRyaXZlfHNpdGVzP3xmb3Jtcz98ZG9jdW1lbnRzP3xzcHJlYWRzaGVldHM/fGltYWdlcz98cHJlc2VudGF0aW9ucz98cGxheSk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci50b1RpdGxlQ2FzZSgpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBnb29nbGVfYXBwc19zY3JpcHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmdvb2dsZVstIF0/KD86YXBwcz8pP1stIF0/c2NyaXB0KD86aW5nfHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJHb29nbGUgQXBwcyBTY3JpcHQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJsdWV0b290aDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiYmwoPzp1ZXxvbyl0b28/dGg/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkJsdWV0b290aCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGVub3ZvOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJsZW5vP3ZvXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkxlbm92byIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWF0bGFiOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pbWF0aD9sYWJcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFNQVRMQUIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGludGVybmV0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJpbnRlcm5ldFxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkludGVybmV0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBvYXV0aDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9zQTJjUTUvMQogICAgICAgICAgICAgICAgZXhwcjogL1xib2F1dGgoPzooPzogKSooXGQpKD8hXC5cZCl8KD86ICkqKFtcZC5dKykpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJPQXV0aCQxICQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICB3ZWJfc2VydmljZXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYndlYiBzZXJ2aWNlc1xiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIldlYiBzZXJ2aWNlcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlbmN2OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJvcGVuY3ZcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiT3BlbkNWIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBydWJ5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJydWJ5XGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiUnVieSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmFpbHM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnJhaWxzXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiUmFpbHMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdyYWlsczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZ3JhaWxzXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiR3JhaWxzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWJ2ZXJzaW9uOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJzdWJ2ZXJzW2lvXSpuXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiU3VidmVyc2lvbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgamF2YWZ4OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJqYXZhZnhcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSmF2YUZYIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBkZWxwaGk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmRlbHBoaVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJEZWxwaGkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvdG5ldG51a2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmRvdG5ldG51a2VcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiRG90TmV0TnVrZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2lsdmVybGlnaHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnNpbHY/ZXJsKD86aWdodHxpdGUpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlNpbHZlcmxpZ2h0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBzY2lweTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKXNjaXB5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxU2NpUHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG51bXB5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pbnVtcHlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFOdW1QeSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3BlbnNzbDogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKW9wZW5zc2xcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFPcGVuU1NMIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBkcnVwYWw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XilkcnVwYWxcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFEcnVwYWwiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNhYXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XilzYWFzXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxU2FhUyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ3d0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pZ3d0Wy0gXShtb3NhaWN8ZGVzaWduZXIpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChzdHIscHJlLHRpdGxlY2FzZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBmaXhlZCA9IHByZSArICJHV1QiICsgKHRpdGxlY2FzZT8gJyAnK3RpdGxlY2FzZS50b1RpdGxlQ2FzZSgpIDogJyAnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZml4ZWQ7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdtYWlsOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pZ21haWwocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxR21haWwkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgeGFtcHA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xil4YW0rcCtcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFYQU1QUCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2FsYXh5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pZ2FsYXh5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxR2FsYXh5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBtb25nbzogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKW1vbmdvKD86XHM/KGRiKSk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc3RyLHByZSx1cHBlcmNhc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWQgPSBwcmUgKyAiTW9uZ28iICsgKHVwcGVyY2FzZSA/IHVwcGVyY2FzZS50b1VwcGVyQ2FzZSgpIDogJycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmaXhlZDsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHltb25nbzogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKXB5bW9uZ29cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFQeU1vbmdvIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBzY2FsYTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKXNjYWxhXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxU2NhbGEiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1pY3Jvc29mdDogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2RKNXRFMy8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoW21NXWljcm9zb2Z0P3xbbU1daXJjb3NvZnR8TVtTc11vZnQpXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiTWljcm9zb2Z0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBpbnRlbGxpc2Vuc2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmludGVsbD9pc2VuW3NjXWU/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkludGVsbGlTZW5zZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2FzczogeyAgLy8gU3ludGFjdGljYWxseSBBd2Vzb21lIFN0eWxlIFNoZWV0cwogICAgICAgICAgICAgICAgZXhwcjogL1xic2Fzc1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJTYXNzIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBoZXJva3U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmhlcm9rdVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJIZXJva3UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9zX3g6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYm9zID94XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk9TIFgiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVsX2NhcGl0YW46IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmVsID9jYXBpP3RhblxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJFbCBDYXBpdGFuIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICBoYWRvb3A6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmhhZCtvK3ArXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkhhZG9vcCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGphbmdvOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJkamFuZ29cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiRGphbmdvIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICB0Y2w6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xil0Y2xcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFUY2wiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZsaWNrcjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZmxpY2tyKD8hXC5cdykvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkZsaWNrciIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9pOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18Xilwb2lcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdm13YXJlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJ2bXdhcmU/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlZNd2FyZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaG9ydG9ud29ya3M6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xilob3J0b24gP3dvcmtzWy0gXShzYW5kYm94fGRhdGEgcGxhdGZvcm18cGhvZW5peHxoaXZlKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAoc3RyLHByZSx0aXRsZWNhc2UpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZml4ZWQgPSBwcmUgKyAiSG9ydG9ud29ya3MiICsgKHRpdGxlY2FzZT8gJyAnK3RpdGxlY2FzZS50b1RpdGxlQ2FzZSgpIDogJyAnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZml4ZWQ7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudHJhZGVtYXJrCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFtYmFyaTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiYW1iYXJpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkFtYmFyaSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy50cmFkZW1hcmsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZWNsaXBzZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZWNsaVtwc10rZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJFY2xpcHNlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnRyYWRlbWFyawogICAgICAgICAgICB9LAogICAgICAgICAgICAvKgogICAgICAgICAgICAqKiBBY3JvbnltcyAtIHRvIGJlIGNhcGl0YWxpemVkIChleGNlcHQgc29tZXRpbWVzIHdoZW4gcGFydCBvZiBhIGZpbGUgbmFtZSkKICAgICAgICAgICAgKiovCiAgICAgICAgICAgIHhfaHRtbDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pKDo/Z3xodHx4YT98eGh0fHNmfGNzaHQpbWxbXGQuXSpcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNzczogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pcz9jc3NcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGpzb246IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKWpzb25cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFqYXg6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmFqYXhcYi9nLCAgICAgLy8gTGVhdmUgIkFqYXgiIGFsb25lLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0FzdHJvQ0IvU3RhY2stRXhjaGFuZ2UtRWRpdG9yLVRvb2xraXQvaXNzdWVzLzQ1CiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkFKQVgiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBzcWw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKXNxbFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXJsaTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHVyW2xpXSkocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24obWF0Y2gsdXBwZXIsbG93ZXIpIHsgcmV0dXJuIHVwcGVyLnRvVXBwZXJDYXNlKCkgKyAobG93ZXI/bG93ZXIudG9Mb3dlckNhc2UoKTonJyk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFzcDogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWFzcFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGRmOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pcGRmKHMpPy9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFQREYkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFwaTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWFwaShzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFBUEkkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNzbDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pc3NsXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5wbTogewogICAgICAgICAgICAgICAgZXhwcjogL1xibnBtKHMpP1xiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk5QTSQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnRwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18Xilbc3RdP2Z0cHM/XGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlwYTogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4paXBhXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGF2bDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pYXZsXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsaV9jZ2k6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKWNbbGddaVxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBkbGw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKWRsbFxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBtcDNfbXA0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pbXAoM3w0KShzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFNUCQyJDMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBndWk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18XilndWkocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxR1VJJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKXN0cFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGNwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18Xil0Y3BcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdwZjogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pd3BmXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBodHRwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilodHRwcz9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdvZmY6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKXdvZmZcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHR0ZjogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pdHRmXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBpcHZfbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiaXAodls0Nl0pP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJJUCQxIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnFfZG5fczogeyAgLy8gRlFETiwgRE4sIEROUwogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pKD86ZnEpP2Rucz9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGljbXA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmljbXBcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJzdnA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnJzdnBcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNubXA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnNubXBcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNwdTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiY3B1KHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJDUFUkMSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJzczogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pcnNzP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgbXZjOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XiltdmNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG12bjogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pbXZuXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBhc2NpaTogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWFzY2M/aWk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxQVNDSUkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBnc29hcDogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKWdzb2FwXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZ1NPQVAiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBzb2FwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pc29hcFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgY3N2OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pY3N2XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBpbWFnZV90eXBlczogewogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuXXxeKShnaWZ8anBlP2d8Ym1wfHBuZylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHlhbWw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xil5YW1sXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBzbXRwOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJzbXRwXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBwaHBteWFkbWluOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pcGhwbXlhZG1pblxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXBocE15QWRtaW4iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBwaHB1bml0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXGJcdy5dfF4pcGhwdW5pdFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMVBIUFVuaXQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBta2w6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oW15cYlx3Ll18Xilta2xcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHhzbDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4peHNsdD8oPyE6KVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAganBhOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilqcGFcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGp2bTogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4panZtXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBsaW5xOiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD86W15cYlx3Ll18XilsaW5xXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBtYXRjaC50b1VwcGVyQ2FzZSgpOyB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuYWNyb255bQogICAgICAgICAgICB9LAogICAgICAgICAgICBtZDU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpbXlxiXHcuXXxeKW1kNVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgeGZhX3hzZDogeyAgLy8gWE1MIEZvcm1zIEFyY2hpdGVjdHVyZQogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4peGZhfHhzZFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgd3NkbDogewogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4pd3NkbFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gudG9VcHBlckNhc2UoKTsgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmFjcm9ueW0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGRwOiB7ICAvLyBIYWRvb3AgcmVsYXRlZCBhY3JvbnltcwogICAgICAgICAgICAgICAgZXhwcjogLyg/OlteXGJcdy5dfF4paCg/OmRwfGRmc3xzbSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7IH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5hY3JvbnltCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qCiAgICAgICAgICAgICoqIFNwZWxsaW5nIC0gQ29ycmVjdCBjb21tb24gc3BlbGxpbmcgZXJyb3JzLiAoSW5jbHVkaW5nIGFwb3N0cm9waGVzLCB3aGljaCBhcmUgcmVhbGx5IGdyYW1tYXIuKQogICAgICAgICAgICAqKiBBY2tub3dsZWRnZW1lbnQ6IEEgc3Vic2V0IG9mIHRlcm1zIHdlcmUgYWRhcHRlZCBmcm9tIFBldGVyIE1vcnRlbnNlbidzIGxpc3QKICAgICAgICAgICAgKiogKGh0dHA6Ly9wdm0tcHJvZmVzc2lvbmFsZW5naW5lZXJpbmcuYmxvZ3Nwb3QuZGUvMjAxMS8wNC93b3JkLWxpc3QtZm9yLWVkaXRpbmctc3RhY2stZXhjaGFuZ2UuaHRtbCkKICAgICAgICAgICAgKiovCiAgICAgICAgICAgIHZvdGluZzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGRvd258dXApXFd2b3QvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdm90ZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWNjZWVkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocyl1Y1tjc10/ZWU/ZChlZHxzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF1Y2NlZWQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzb3VyY2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKW9yY2Uoc3xkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvdXJjZSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0YW5kYXJkaXplOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3ZON3BNMC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIocyl0YW5kYXJpKFtzel0oPzplfGVzfGVkfGF0aW9uKSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF0YW5kYXJkaSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRpZmZlcmVudDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci94TzhqVTIvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpaWZmP2U/cmU/bih0fGNlcz8pXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaWZmZXJlbiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBlcnNvbmFsbHk6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9vTDlhTTEvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApZXJzbyg/Om5sfG5sfG5hbCkobHkpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVyc29uYWwkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9ibGVtOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IveUE4ak03LzYKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKSg/Om9yP3xyb3xyw47Cv3xyMCliKD86bGV8ZWx8ZXxyZXxsfFt8XWUpbWU/KHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJvYmxlbSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdyaXR0ZW46IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih3KXJpdGVuXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcml0dGVuIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1heWJlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIobSkoPzphYnl8eWFiZSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFheWJlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBzZXVkbzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApc3VlZG9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFzZXVkbyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcHBsaWNhdGlvbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpcHA/bFtpYV1jYSg/OnRpfGl0KW9uXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcHBsaWNhdGlvbiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBjYWxlbmRhcjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpYWxbZWFdbmRbYWVdclxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWFsZW5kYXIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tbWl0OiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2tZNnNOOC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYylvbW0/aXQ/KHN8dGVkfHRlcnM/fHRpbmcpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9tbWl0JDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Ivclo5Z1c1LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKXV0bz9bIC1dP2NvP20/cD9sP2V0ZT8ocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXRvY29tcGxldGUkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB5b3U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih5KW8rdT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvdSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBkb2Vzbl90OiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Ivc0wwdU85LzUKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihkKSg/Om9zZT9bXlx3XSpuPy4/dHxvZW5zLj90fG9lc24/W15cd10qdHxvZXN0KVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9lc24ndCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBjb3VsZG5fdF93b3VsZG5fdF9zaG91bGRuX3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjfHd8c2gpbz91bD9kblsgJ2DCtF0qdFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW91bGRuJ3QiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGlkbl90OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZClpZFteXHddKm4/dFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWlkbid0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvbl90OiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL25UMmpWNi8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZCkoPzpvblteXHcnXSp0fG9bbiddK28/dClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbid0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhhdmVuX3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihoKSg/OmF2ZW50fGF2W15cd10qdHxhdmVbXlx3XT90KVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWF2ZW4ndCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3YXNuX3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih3KWFzW15cd10qbj90XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYXNuJ3QiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy9hcG9zdHJvcGhlX2Q6IHsgICAvLyBUb28gbWFueSBmYWxzZSBwb3NpdGl2ZXMKICAgICAgICAgICAgLy8gICAgZXhwcjogL1xiKGhlfHNoZXx3aG98eW91KVteXHddKihkKVxiL2dpLAogICAgICAgICAgICAvLyAgICByZXBsYWNlbWVudDogIiQxJyQyIiwKICAgICAgICAgICAgLy8gICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgLy99LAogICAgICAgICAgICBhcG9zdHJvcGhlX2xsOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodGhleXx3aGF0fHdob3x5b3UpW15cd10qKGxsKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSckMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcG9zdHJvcGhlX3JlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodGhleXx3aGF0fHlvdSlbXlx3XSoocmUpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxJyQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFwb3N0cm9waGVfczogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2JONXBBMy8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoaGV8c2hlfHRoYXR8dGhlcmV8d2hhdHx3aGVyZXxoZXJlKVteXHddKihzKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSckMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBpdF9zOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoaXQpW15cd10ocylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEnJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBvc3Ryb3BoZV90OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYXJlbnxjYW58Y291bGRufGRpZG58ZG9lc258ZG9ufGhhc258aGF2ZW58aXNufG1pZ2h0bnxtdXN0bnxzaGFufHNob3VsZG58d29ufHdvdWxkbilbXlx3XSoodCkoPzpbXlx3XXQpKlxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSckMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcG9zdHJvcGhlX250OiB7CiAgICAgICAgICAgICAgICBleHByOiAvWydgwrRdbnRcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAibid0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvZXNuX3Rfd29yazogeyAgLy8gPjRLIGluc3RhbmNlcyBvZiB0aGlzIChPY3QgMjAxNSkKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihkKW9lc25bXlx3XXQgKHdvcmt8bGlrZXx0aGlua3x3YW50fHB1dHxzYXZlfGxvYWR8Z2V0fGhlbHB8bWFrZSlzXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb2Vzbid0ICQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb2JhYmx5OiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3pVM3FaMC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIocClyKD86b2xsP3xvYmI/bHxvP2JhYmw/fGFiYWJsKXlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyb2JhYmx5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGtleWJvYXJkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoaylleT9ib2E/cmRcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFleWJvYXJkIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJ1clxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJ5b3VyIiwgLy8gTWF5IGFsc28gYmUgInlvdSBhcmUiLCBidXQgbGVzcyBjb21tb24gb24gU08KICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnVcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAieW91IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdyODogewogICAgICAgICAgICAgICAgZXhwcjogL1xiZ3I4XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogImdyZWF0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGN1ejogewogICAgICAgICAgICAgICAgZXhwcjogL1xiY3V6XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogImJlY2F1c2UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb2ZjOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIobylmY1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWYgY291cnNlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG52bTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKG4pdm1cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFldmVyIG1pbmQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYnR3OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYil0dyw/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxeSB0aGUgd2F5LCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzcnk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKW8/cit5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb3JyeSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhbnkxOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlueTFcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFueW9uZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhbGx3YXlzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlsbHdheXNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFsd2F5cyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBleHBlY3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihlKXNwZWN0KHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXhwZWN0JDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZW1wbG95ZWU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihlKW1wbG95ZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW1wbG95ZWUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmV0cmlldmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihyKWV0cmVpdihlfGVkfGVzfGluZ3xhbHxhYmxlKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWV0cmlldiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN1Y2Nlc3M6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9oSzJ2RzQvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpdWNjP2Vzcz8oZnVsfGZ1bGx5KT9sP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXVjY2VzcyQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFueW9uZXM6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKW55b25lc1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW55b25lJ3MiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGVuZ3RoOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIobCllbig/OmdoP3R8dGgpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZW5ndGgiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGVpZ2h0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoaCkoPzplaXxpfGllKSg/Omd0fHRofGdodGh8Z3RoKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVpZ2h0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdpZHRoOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodylpdD9kaD90XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaWR0aCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBjZW50ZXJlZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpZW50KD86cmVkfGVyZClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlbnRlcmVkIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNlbnRlcjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpZW50cmVcYi9naSwgICAgLy8gIkNlbnRyZSIgaXMgYSB3b3JkLCBob3dldmVyIGluIG1vc3QgY2FzZXMgb24gU08gImNlbnRlciIgaXMgbWVhbnQKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlbnRlciIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhaW50X2lzbnQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmFpbic/dFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJpc24ndCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBjb29yZGluYXRlczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb3JkaW5hdGUoc3xkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvb3JkaW5hdGUkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcmd1bWVudDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9pVTJ2SzkvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpcmc/W3VlXSttZW50KHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJndW1lbnQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBpdGVyYXRlOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvaUw2YlYzLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihpKSg/OnR0ZXJ8dGFyKWF0KGVbZHNdP3xpbmd8aW9ufGlvbnMpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdGVyYXQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBiZWxvdzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpZWxsb3dcYi9naSwgICAgICAgICAgLy8gIkJlbGxvdyIgaXMgYSB3b3JkLCBidXQgZXh0cmVtZWx5IHVuY29tbW9uIG9uIFN0YWNrT3ZlcmZsb3cuY29tLgogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVsb3ciLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZW5jcnlwdDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGVufGRlKWNyaXB0KHN8aW5nKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFjcnlwdCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZvcm1hdHRpbmc6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihmKW9ybWF0aW5nXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb3JtYXR0aW5nIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb2Nlc3M6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXJvY2VzKGVzfGVkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyb2Nlc3MkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9ncmFtOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocClyb2dyP2FtbT9lP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJvZ3JhbSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9ncmFtbWluZzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApcm9ncmFtKGluZ3xlZHxlcilcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyb2dyYW1tJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJvZ3JhbW1hdGljYWxseTogeyAgLy8gNDBLKyAgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvdkYyalE4LzIKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXJvZ3JhbSthdCtpY2E/bCt5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcm9ncmFtbWF0aWNhbGx5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJlYXJfd2l0aF9tZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpYXJlICh3aXRoIG1bZXldfGl0fGluIG1pbmQpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWFyICQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdlaXJkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodylpZXJkKG5lc3N8bHkpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWlyZCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJlbGlldmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKWVsZWl2ZShyfHN8ZCk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWxpZXZlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGllY2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKWVpY2Uoc3xkKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpZWNlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2FtcGxlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocyltYXBsZShzfGQpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWFtcGxlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVhbGx5OiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3NPNHpEOS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIocikoPzplbGx5fGVhbHkpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWFsbHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmluYWxseV86IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihmKWluYWxsP3lcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpbmFsbHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmVoYXZpb3VyOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvclUxZUI3LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKWVoYT9pP3ZpP28ocnx1cnxyc3x1cnMpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWhhdmlvJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdW5mb3J0dW5hdGVseTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHUpbmZvcnR1P25hP3RseVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW5mb3J0dW5hdGVseSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3aGV0aGVyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodyloP2V0aD9lclxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWhldGhlciIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB0aHJvdWdoOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2dRMGRaMS80CiAgICAgICAgICAgICAgICBleHByOiAvXGIodCkoPzpocnV8cm91Z2h8aHJvdWcpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaHJvdWdoIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRocm91Z2hvdXQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih0KSg/OmhydW91dHxyb3VnaG91dClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFocm91Z2hvdXQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYnJlYWt0aHJvdWdoOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYilyZWFrXHMrdGhyb3VnaChzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyZWFrdGhyb3VnaCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRob3VnaDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHQpKD86aG98aG91fGhvZ2gpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaG91Z2giLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWx0aG91Z2g6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKWwoPzp0aG98dGhvdXx0aG9naHx0b3VnaClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFsdGhvdWdoIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRob3VnaHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih0KXI/b3VnaHQocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaG91Z2gkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB0aHJvd2luZzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHQpaHJvdWdoaW5nXGIvZ2ksICAgICAgIC8vIFBldGVyIHNheXMgdGhpcyBpcyAidGhvcm91Z2hseSIsIGJ1dCBhIHN1cnZleSBvZiBTTyBxdWVzdGlvbnMgaW5kaWNhdGVzICJ0aHJvd2luZyIKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFocm93aW5nIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFfbG90OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlsb3RcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEgbG90IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uZV9yX3R3b19yOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocmVmZXxwcmVmZXxvY2N1KXIoZWR8aW5nKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJyJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb2NjdXI6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihvKWNjdXJlKHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWNjdXIkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcmVmZXJhYmx5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocClyZWZlcnJhYmx5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcmVmZXJhYmx5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbW1hbmRfbGluZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpKD86b21tP2FuZGxpbmV8bWRsaW5lPylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbW1hbmQtbGluZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBiZW5lZml0czogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpZW5pZml0c1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVuZWZpdHMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9wUThtRDkvMQogICAgICAgICAgICAgICAgZXhwcjogLyhbXlxiXHcuLV0pKGEpdXRoXGIvZ2ksICAgICAgICAgICAvLyBUaGlzIG1heSBiZSB0b28gYW1iaWd1b3VzLCBjb3VsZCBhbHNvIG1lYW4gImF1dGhlbnRpY2F0aW9uIgogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSQydXRob3JpemF0aW9uIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBlcnNpc3RlbnQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKWVyc2lzdGFuKHR8Y2UpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZXJzaXN0ZW4kMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhY2Nlc3M6IHsgIC8vIG11c3QgY29tZSBiZWZvcmUgX2liaWxpdHkgdG8gY2F0Y2ggYWNjZXNzaWJpbGl0eSB3aXRoIHNwZWxsaW5nIHZhcmlhdGlvbnMgKiogYnV0IGRvZXMgbm90IGZpeCBhY2Vzc2FiaWxpdHk/CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSljK2UrcysoLiopXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxY2Nlc3MkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBfaWJsZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGNvbXBhdHxpbmNvbXBhdHxhY2Nlc3MpYWJsZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWlibGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgX2liaWxpdHk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjb21wYXR8aW5jb21wYXR8YWNjZXNzKWFiaWxpP3QoeXxpZXMpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaWJpbGl0JDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2VwYXJhdGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKWVwZT9yYXRlPyhkfGx5fHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVwYXJhdGUkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXBhcmF0aW9uOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocyllcGVyYXRpb24ocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZXBhcmF0aW9uJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVmaW5pdGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihkKWVmaW4oPzphdGU/fGl0ZT98YWx8dGU/fGV0KShseSk/XGIvZ2ksICAvLyBDYXRjaGVzIGNvcnJlY3Qgc3BlbGxpbmcsIHRvby4KICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlZmluaXRlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVmaW5pdGl2ZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpZWZpbmE/dGl2ZShseSk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWZpbml0aXZlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5kZXBlbmRlbnQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihpKW5kZXBlbmRhbnQobHkpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW5kZXBlbmRlbnQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICByZWNvbW1lbmQ6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9wUDlsQjcvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKHIpZWNvbW0/W2FvXW5kKGF0aW9uKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlY29tbWVuZCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbXBhdGliaWxpdHk6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjKW9tcGF0YWJpbGl0eVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9tcGF0aWJpbGl0eSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJwc1xiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIlBTIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9rOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJva1xiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIk9LIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJhY2tfZW5kOiB7ICAvLyBJbnRlcmVzdGluZyBmYWN0OiBiYWNrZW5kIDN4IG1vcmUgY29tbW9uIHRoYW4gYmFjay1lbmQKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKWFja2VuZFxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYWNrLWVuZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBmcm9udF9lbmQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihmKXJvbnRlbmRcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJvbnQtZW5kIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGFfdHlwZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpYXRhdHlwZVxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYXRhIHR5cGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWxsb3R0ZWQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKWwrb3QrZWRcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWxsb3R0ZWQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXZlcnlfdGltZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGUpdmU/cnl0aW1lXGIvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF2ZXJ5IHRpbWUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3RyYWlnaHQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKXRyYWlnP2g/dFxiL2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdHJhaWdodCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdHJhaWdodGZvcndhcmQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKXRyYWlnP2g/dFsgLV0/Zm9yP3dhcmRcYi9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXRyYWlnaHRmb3J3YXJkIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByZWNlZGluZzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApcmVjZWVkaW5nXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcmVjZWRpbmciLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbm9fb25lOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIobilvLT9vbmVcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvIG9uZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBkZV9mYWN0bzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpZS0/ZmFjdG9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlIGZhY3RvIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFjY29tbW9kYXRlOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvY0wzbUQ5LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKSg/OmMrb218Y29tKylvZGF0ZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWNjb21tb2RhdGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAga2luZF9vZjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGspaW5kYVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWluZCBvZiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3YW50X3RvOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodylhbm4/YVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWFudCB0byIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzb3J0X29mOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocylvcnRhXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb3J0IG9mIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdvdF90bzogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3JLNnhSNS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoaGF2ZVxzKyk/KGcpb3R0YVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSQyb3QgdG8iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZG9udF9rbm93OiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Ivcks2eFI1LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihkKVt1b11ubj9vXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb24ndCBrbm93IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdvaW5nX3RvOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZylbb3Vdbm4/YVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9pbmcgdG8iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY3Jhc2hlczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpcmFzaHNcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyYXNoZXMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGF0dGVybjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApYXQ/KD86dHJufHRyZW58dGVybikocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYXR0ZXJuJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVuY3Rpb25fOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IveEYzalUzLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihmKXVbbmN0aV0rb25uPyhzfGluZ3xlZHxhbCk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdW5jdGlvbiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN5bnRheDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpW3lpXW50W2FlXT94XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxeW50YXgiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29ycmVjdDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb3JyP2VjW3R5XS9naSwgIC8vIE5vIFxiIGF0IGVuZCwgdG8gaW5jbHVkZSBjb3JyZWN0aW9uLCBjb3JyZWN0aW5nLCBjb3JyZWN0ZWQKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvcnJlY3QiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29ycmVjdGx5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYylvcnI/ZWMoPzpsdD98dD9sKXlcYi9pZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvcnJlY3RseSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBpbnRlZ2VyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoaSludGU/cj9nZXIocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbnRlZ2VyJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V2ZXJhbDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpZXI/dltlYV0/clthZV0/bFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWV2ZXJhbCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzb2x1dGlvbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpb3U/bHU/dGk/b25cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbHV0aW9uIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNvbWVib2R5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocylvbWJvZHlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbWVib2R5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGV2ZXJ5dGhpbmc6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihlKXZlP3JbeWldP3RoaW5nXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdmVyeXRoaW5nIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJ1dHRvbjogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpW3VvXSt0dD9bb3VdblxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXV0dG9uIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJlZm9yZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpZT9mbz9yZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlZm9yZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBleGFtcGxlOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvdVU0Ykg1LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihlKSg/OnhzYW1wbGV8eGFtbGV8eD9hbXBbbGVdezEtMn18eGVtcGxlKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXhhbXBsZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBzb21ld2hlcmU6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvYVUyblA1LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKW9tZT8oPzogP3doZXJlP3x3W2VhXStyZT8pXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb21ld2hlcmUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd2l0aDogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3hPNWRQMy8yCiAgICAgICAgICAgICAgICBleHByOiAvXGIodykoPzpoaXRofGlodCkoPz0ob3U/dHxpbik/XGIpL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWl0aCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3aXRob3V0OiB7ICAvLyBBZnRlciAnd2l0aCcgcnVsZSwgb25seSBuZWVkIHRvIGNoZWNrICdvdXQnCiAgICAgICAgICAgICAgICBleHByOiAvXGIodylpdGhvdT90XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaXRob3V0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlcHJvZHVjaWJsZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHIpZXByb2R1Y3Q/W2lhXWJsZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVwcm9kdWNpYmxlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVubmVjZXNzYXJ5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodSlubj9lY2M/ZXNzP2FyeVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW5uZWNlc3NhcnkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVxdWlyZTogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9uUzZrTTUvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKHIpZXF1aWU/cmU/KGR8c3xtZT9udHM/KT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlcXVpcmUkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhZGRyZXNzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlkZD9yZXNzPyhlc3xlZHxpbmcpP2U/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZGRyZXNzJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGFzc3dvcmQ6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKWFzcz93bz9yZD8ocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYXNzd29yZCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1ldGhvZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKG0pZVt0aF0rW29ldV0rZChzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFldGhvZCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb3BlcnR5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocClyb3BlP3J0W2lleV0/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcm9wZXJ0eSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwcm9wZXJ0aWVzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocClyb3BlP3J0W2lleV0rc1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXJvcGVydGllcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3aXJlbGVzczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKHcpaXJlP2xlP3NzP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWlyZWxlc3MiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9zc2libGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKW9zcz9bYWldP2JsZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9zc2libGUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZmllbGRzX3lpZWxkczogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9jSjhyTTQvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGZ8eSkoPzplaT98aWU/KWw/ZChzfGluZ3xlZCk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaWVsZCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGV4ZWN1dGU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihlKXhbZWldP2N1dGUoc3xkKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXhlY3V0ZSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFsZ29yaXRobTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpbGdvP3JbaXldP3RoP1tpeWFdP20ocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbGdvcml0aG0kMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB2ZXJzaW9uOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Ivd0U4dUQwLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih2KWVyKD86c1tpb10qfGlvKW4oc3xpbmd8ZWQpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVyc2lvbiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdoaWNoOiB7ICAvLyAyMiw3NzIgb2YgdGhlc2UgYXMgb2YgMTItTm92LTIwMTUhCiAgICAgICAgICAgICAgICBleHByOiAvXGIodykoPzppY2h8aGljKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWhpY2giLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGlzYXBwZWFyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZClpcz9hcGVhP3IoaW5nfGVkfHMpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWlzYXBwZWFyJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmVjYXVzZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpZWNbYW9ddT9zZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlY2F1c2UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvdWxkOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocykoPzpob2xkfGhvdWR8aHVsZHxodWR8b3VsZClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFob3VsZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b3RhbGx5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodClvdGE/bGw/eVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW90YWxseSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBsYW1iZGE6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihsKWFtW2JkXSthXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYW1iZGEiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tbWFuZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb20oPzptP2FkfGFuZHxtbmQpKGVkfHN8aW5nfGVycz98byk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb21tYW5kJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGhlcmVmb3JlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodCloZXJlP2ZvcmU/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaGVyZWZvcmUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGFyYW1ldGVyOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocClhcmE/bVtlYV1uP3RlcihzKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFhcmFtZXRlciQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGp1c3Q6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihqKSg/OnVzdGV8dXMpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXN0IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZ1bGZpbGw6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihmKXVsbD9ccz9maWxsXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdWxmaWxsIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbWluZzogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb21taW5nXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb21pbmciLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJpZWQ6IHsgIC8vIDgsNTQwIG9mIHRoZXNlIQogICAgICAgICAgICAgICAgZXhwcjogL1xiKHQpcnllKGR8cylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFyaWUkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBiYXNpY2FsbHk6IHsgIC8vIDcsOTI0IG9mIHRoZXNlIQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpYXNpY2E/bCt5XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxYXNpY2FsbHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29tcGxldGVseTogeyAgLy8gNCw3OTMgZXhhbXBsZXMhICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9vRzduSDYvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb21wbD9ldGU/bD9lP3lcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFvbXBsZXRlbHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWlzcmVhZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKG0paXMrWyAtXT9yZWE/ZFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWlzcmVhZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXRhYmFzZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGQpYXRhYmFlcz9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFhdGFiYXNlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG91dHB1dDogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9iUDlrWTIvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKG8pdXQgP3B1dCsoPzplZCk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXRwdXQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXNlZnVsOiB7ICAvLyAxMSw1NDIgICJ1c2VmdWxsIgogICAgICAgICAgICAgICAgZXhwcjogL1xiKHUpc2UoPzpmdWxsfCBmdWwpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxc2VmdWwiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2xhc3NlczogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpbGEoc2V8c3Mpc1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWxhc3NlcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBlbmdsaXNoOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJlbmdsaXNjP2g/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkVuZ2xpc2giLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5oZXJpdGFuY2U6IHsgIC8vIDE3MDAgeCBpbmhlcml0ZW5jZQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGkpbmhlcml0W2FlXW5bY3NdZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFuaGVyaXRhbmNlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFkdmljZTogeyAgLy8gOTAwMCB4IGFkdmljZXMKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKWR2aWNlc1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWR2aWNlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdoZW46IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih3KWhbZWFdbmU/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaGVuIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFuZF90aGVuOiB7ICAgLy8gMTZLIGluc3RhbmNlcyBvZiB0aGlzIQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpbmQsPyB0aGE/blxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW5kIHRoZW4iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdW5faW5pdGlhbGl6ZTogeyAvLyA+NEsgaW5zdGFuY2VzIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvbFkyaFkxLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYigoPzp1bi0/fHJlLT8pP2kpbj9pP3RbaWFdK2xpP1t6c10oZXxlZHxbZW9dcnxlc3xpbmcpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24obWF0Y2gsIHByZWZpeCwgc3VmZml4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcmVmaXgrJ25pdGlhbGl6JytzdWZmaXgpLnJlcGxhY2UoIi0iLCIiKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBjaGFyYWN0ZXI6IHsgLy8gMzUwMCsgaW5zdGFuY2VzLCBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2xHMXFIMC8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYykoPzpoYXJ8aD9hcmFjP2g/dGVyKShzfGlzdGljcz98aVt6c11lKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFoYXJhY3RlciQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZvdW5kOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIoZilpbmRlZFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW91bmQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHVwbGU6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvelA3ek0yLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih0KW8/dXArZT9sZT8ocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXBsZSQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlfcmVhZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKEl8SSd2ZXx3ZXx0aGV5KSByZWRcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEgcmVhZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBjdXN0b21pemU6IHsgIC8vIGh0dHA6Ly9ncmFtbWFyaXN0LmNvbS9zcGVsbGluZy9jdXN0b21pc2UtY3VzdG9taXplLwogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpdVtzdF0rW291aV1taVt6c10oZSk/L2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXVzdG9taXokMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBjdXN0b21pemFibGU6IHsgIC8vIENvbW1vbiBlcnJvcnMgYXJlIHRvIHJldGFpbiAnZScsIGFuZC9vciB0byB1c2UgaWJsZSwgbm90IGFibGUKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihjKXVzdG9taXpbZWFdKyh0aW9ucz98YmxlfGJpbGl0eXxiaWxpdGllcykvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXN0b21pemEkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBhY3Jvc3M6IHsgIC8vIGh0dHA6Ly93d3cub3hmb3JkZGljdGlvbmFyaWVzLmNvbS93b3Jkcy9jb21tb24tbWlzc3BlbGxpbmdzCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSljK3JvcytcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFjcm9zcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBpbW1lZGlhdGU6IHsgIC8vIGh0dHA6Ly93d3cub3hmb3JkZGljdGlvbmFyaWVzLmNvbS93b3Jkcy9jb21tb24tbWlzc3BlbGxpbmdzCiAgICAgICAgICAgICAgICBleHByOiAvXGIoaSltK2VkW2lhXSt0ZT9sPyhseSk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbW1lZGlhdGUkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBldmVyeV90aW1lOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2RCNmpDMi8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZSl2W2VyeV0rdGltZT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF2ZXJ5IHRpbWUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYWNoaWV2ZTogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9iWjJxSjEvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpY2hbZWldK3ZlPyhzfGR8bWVudCk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxY2hpZXZlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBwYXJlbnQ6IHsgIC8vIGh0dHA6Ly93d3cub3hmb3JkZGljdGlvbmFyaWVzLmNvbS93b3Jkcy9jb21tb24tbWlzc3BlbGxpbmdzIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvZE8zYUg0LzIKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKXArYXJbYWVdbnQ/KGx5KT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFwcGFyZW50JDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBwZWFyOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL29MOGxJMS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSlwK1tlYV0rcmU/KHN8ZWR8aW5nKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFwcGVhciQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFwcGVhcmFuY2U6IHsgIC8vIGh0dHA6Ly93d3cub3hmb3JkZGljdGlvbmFyaWVzLmNvbS93b3Jkcy9jb21tb24tbWlzc3BlbGxpbmdzIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvZVAyYkY5LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKXArW2VhXStyW2VhXStuY2Uocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxcHBlYXJhbmNlJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmVnaW5uaW5nOiB7ICAvLyBodHRwOi8vd3d3Lm94Zm9yZGRpY3Rpb25hcmllcy5jb20vd29yZHMvY29tbW9uLW1pc3NwZWxsaW5ncyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3NUNGdRMC8yCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYillZ2k/bitpbj9nL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVnaW5uaW5nIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJlbGlldmU6IHsgIC8vIGh0dHA6Ly93d3cub3hmb3JkZGljdGlvbmFyaWVzLmNvbS93b3Jkcy9jb21tb24tbWlzc3BlbGxpbmdzIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvcE0xY0M2LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihiKWU/bFtlaV0rdihlfGluZ3xhYmxlKS9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlbGlldiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbGxlYWd1ZTogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MgaHR0cHM6Ly9yZWdleDEwMS5jb20vci94TjhxRDkvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb2wrW2VhXStndWUocyk/XGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb2xsZWFndWUkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBpbXBsZW1lbnQ6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvelcxYVM1LzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihpKW1wbD9bZWldP21lbnQvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxbXBsZW1lbnQiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2ltdWx0YW5lb3VzOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2lCMG1FNy8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIocylpbXVbbHRdK2FuW2llb3VdK3NlPy9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFpbXVsdGFuZW91cyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBlbnZpcm9ubWVudDogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9xRDV6VTYvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGUpbnZpP3JvP1tubXRdK2VudC9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFudmlyb25tZW50IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGV4aXN0ZW5jZTogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9tSDdoQTYvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGUpeGlzdFthZV1uW2NzXWUvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxeGlzdGVuY2UiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVydGhlcjogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9zRTZuWTMvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGYpKD86dXxbYXVdcil0aD9lci9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF1cnRoZXIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgamlzdDogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmppc3Qgb2ZcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiZ2lzdCBvZiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBub3RpY2VhYmxlOiB7ICAvLyBodHRwOi8vd3d3Lm94Zm9yZGRpY3Rpb25hcmllcy5jb20vd29yZHMvY29tbW9uLW1pc3NwZWxsaW5ncwogICAgICAgICAgICAgICAgZXhwcjogL1xiKG4pb3RpY2FibChlfHkpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxb3RpY2VhYmwkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBwdWJsaWNseTogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKXVibGljYT9sKnlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF1YmxpY2x5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlY2VpdmU6IHsgIC8vIGh0dHA6Ly93d3cub3hmb3JkZGljdGlvbmFyaWVzLmNvbS93b3Jkcy9jb21tb24tbWlzc3BlbGxpbmdzCiAgICAgICAgICAgICAgICBleHByOiAvXGIocillY2lldihlW3Jkc10/fGluZykvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZWNlaXYkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICByZWZlcnJlZDogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Iva0Uwb1o1LzUKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihyKWVmZXIoPyFzfGVuY1x3KnxyXHcqKSg/PVx3KS9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlZmVyciIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICByZW1lbWJlcjogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihyKWUoPzptYmVyfG1lYmVyfG1lbWVyKS9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlbWVtYmVyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNlbnNlOiB7ICAvLyBodHRwOi8vd3d3Lm94Zm9yZGRpY3Rpb25hcmllcy5jb20vd29yZHMvY29tbW9uLW1pc3NwZWxsaW5ncwogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpZW5jZS9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlbnNlIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN1cGVyc2VkZTogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvbUE1bkMxLzEKICAgICAgICAgICAgICAgIGV4cHI6IC8ocyl1cGVyY2VkKGVbc2RdP3xpbmcpXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXBlcnNlZCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN1cnByaXNlOiB7ICAvLyBodHRwOi8vd3d3Lm94Zm9yZGRpY3Rpb25hcmllcy5jb20vd29yZHMvY29tbW9uLW1pc3NwZWxsaW5ncyAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci91UzhvUzQvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKHMpdXI/cHJpW3Njel0oZVtkc10/fGluZyg/Omx5KT8pXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXJwcmlzJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29ubmVjdGlvbjogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9yTzJ3SDAvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGMpb24rZVtjdHhdK2k/b24ocyk/L2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9ubmVjdGlvbiQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFkZGl0aW9uYWw6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvaU00eFY1LzIKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihhKWQraS4/dGlvP25bYWxdKz8obHkpP1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWRkaXRpb25hbCQyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGF1dG9tYXRpYzogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9mVTJoRjEvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiKGEpKD86dXRvW21hXStbdGljXSt8dG9tYXRpYykoPyFlfFtpb10rbikvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdXRvbWF0aWMiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXV0b21hdGljYWxseTogeyAgLy8gNksrCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYSl1dG9tYXRpY1thbHldK1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXV0b21hdGljYWxseSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBydW5uaW5nOiB7ICAvLyAySysKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihyKXVuK2luP2dcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDF1bm5pbmciLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXZlbl90aG91Z2g6IHsgIC8vIDIuN0srCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZSl2ZW50aD9vdT9bZ2hdK1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXZlbiB0aG91Z2giLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9tb3Jyb3c6IHsgIC8vIGh0dHA6Ly93d3cub3hmb3JkZGljdGlvbmFyaWVzLmNvbS93b3Jkcy9jb21tb24tbWlzc3BlbGxpbmdzCiAgICAgICAgICAgICAgICBleHByOiAvXGIodClvbStvcitvd1xiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9tb3Jyb3ciLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJ1bHk6IHsgIC8vIGh0dHA6Ly93d3cub3hmb3JkZGljdGlvbmFyaWVzLmNvbS93b3Jkcy9jb21tb24tbWlzc3BlbGxpbmdzICBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3lWNHJaOS8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIodClydWU/bCtlP3lcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFydWx5IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVudGlsOiB7ICAvLyBodHRwOi8vd3d3Lm94Zm9yZGRpY3Rpb25hcmllcy5jb20vd29yZHMvY29tbW9uLW1pc3NwZWxsaW5ncyAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci90SzhyVjUvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiKD86KHUpbnRpP2wrfCh0KWlsKylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbiAobWF0Y2gsZjEsZjIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZmNoYXIgPSBmMXx8ZjI7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoZmNoYXIudG9VcHBlckNhc2UoKSA9PSBmY2hhcikgPyAiVSIgOiAidSIpICsgIm50aWwiOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdoZXJlOiB7ICAvLyBNdXN0IHByZWNlZGUgIndoZXJldmVyIgogICAgICAgICAgICAgICAgZXhwcjogL1xiKHcpaGVyXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxaGVyZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICB3aGVyZXZlcjogeyAgLy8gaHR0cDovL3d3dy5veGZvcmRkaWN0aW9uYXJpZXMuY29tL3dvcmRzL2NvbW1vbi1taXNzcGVsbGluZ3MgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvaUo0YkcxLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih3KWhlcmUgP2V2ZXJcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFoZXJldmVyIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNwZWxsaW5nCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc2V0OiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIocillc2V0K2VkXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZXNldCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBiZWdpbjogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci94WjlpQzMvMQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGIpZWcraW4/KG5pbmd8bmVyKT9cYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFlZ2luJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXBkYXRlOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3JGNmZaMi8xCiAgICAgICAgICAgICAgICBleHByOiAvXGIodSlbcGRdK2F0KGV8ZWR8ZXJ8ZXN8aW5nKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXBkYXQkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zcGVsbGluZwogICAgICAgICAgICB9LAogICAgICAgICAgICBxdWVzdGlvbjogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci90QzV5TjgvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiKHEpW3Vlc10rdFtpb10rbmU/L2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMXVlc3Rpb24iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuc3BlbGxpbmcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoKICAgICAgICAgICAgKiogR3JhbW1hciAtIENvcnJlY3QgY29tbW9uIGdyYW1tYXRpY2FsIGVycm9ycy4KICAgICAgICAgICAgKiovCiAgICAgICAgICAgIHN0YXJ0X3dpdGhfc286IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvZ1AxeEEyLzIKICAgICAgICAgICAgICAgIGV4cHI6IC9eKD86b2theVxifG9rXGJ8c29cYnxbIFx0LC1dKSsvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFfdnNfYW46IHsgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8zNDQ0MDMwNy8xNjc3OTEyCiAgICAgICAgICAgICAgICBleHByOiAvXGIoYXxhbikgKFtcKFwiJ+KAnOKAmGA8LV0qXHcqKVxiL2dpbSwgICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL25FMXlBNC81CiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oIG1hdGNoLCBhcnRpY2xlLCBmb2xsb3dpbmcgKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gZm9sbG93aW5nLnJlcGxhY2UoL15bXHNcKFwiJ+KAnOKAmGA8LV0rfFxzKyQvZywgIiIpOy8vc3RyaXAgaW5pdGlhbCBwdW5jdHVhdGlvbiBzeW1ib2xzCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IEF2c0FuT3ZlcnJpZGVfKGlucHV0KSB8fCBBdnNBblNpbXBsZS5xdWVyeShpbnB1dCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0FydGljbGUgPSBhcnRpY2xlWzBdICsgcmVzLnN1YnN0cigxKTsgIC8vIFByZXNlcnZlIGV4aXN0aW5nIGNhcGl0YWxpemF0aW9uCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0FydGljbGUrJyAnK2ZvbGxvd2luZzsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBIYWNrIGFsZXJ0OiBEdWUgdG8gdGhlIHRlY2huaWNhbCBuYXR1cmUgb2YgU08gc3ViamVjdHMsIG1hbnkgY29tbW9uIHRlcm1zCiAgICAgICAgICAgICAgICAgICAgLy8gYXJlIG5vdCB3ZWxsLXJlcHJlc2VudGVkIGluIHRoZSBkYXRhIHVzZWQgYnkgQXZzQW5TaW1wbGUsIHNvIHdlIG5lZWQgdG8KICAgICAgICAgICAgICAgICAgICAvLyBwcm92aWRlIGEgd2F5IHRvIG92ZXJyaWRlIGl0LgogICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IEF2c0FuU2ltcGxlIGlzIHN1c2NlcHRpYmxlIHRvIHVuaWNvZGUgbWVzcy11cDsgaWYgeW91IHN1ZGRlbmx5IHNlZSBtYW55CiAgICAgICAgICAgICAgICAgICAgLy8gd29yZHMgc3RhcnRpbmcgd2l0aCB2b3dlbHMgYmVpbmcgaW5jb3JyZWN0bHkgdHJlYXRlZCwgY2hlY2sgdGhhdCB0aGUgc2NyaXB0CiAgICAgICAgICAgICAgICAgICAgLy8gaGFzIG5vdCBoYWQgYSB1bmljb2RlIHN1YnN0aXR1dGlvbiBlcnJvci4gKEdpdCBkaWQgdGhpcyBkbyBtZSwgb25jZS4pCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gQXZzQW5PdmVycmlkZV8oZndvcmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4Y2VwdGlvbnNBXyA9IC9eKD86dWlzP3xkYXRhfGphdmF8Zm9ybVx3KikvaTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4Y2VwdGlvbnNBbl8gPSAvKD86Xltscl12YWx1ZXxhXGJ8c3FsKS9pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGV4Y2VwdGlvbnNBXy50ZXN0KGZ3b3JkKSA/IGFydGljbGVbMF0gOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdGlvbnNBbl8udGVzdChmd29yZCkgPyBhcnRpY2xlWzBdKyJuIiA6IGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBmaXJzdGNhcHM6IHsKICAgICAgICAgICAgICAgIC8vICAgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvcVI1Zk85LzQwCiAgICAgICAgICAgICAgICAvLyBSZWdleCBmaW5kcyBhbGwgc2VudGVuY2VzOyByZXBsYWNlbWVudCBtdXN0IGRldGVybWluZSB3aGV0aGVyIGl0IG5lZWRzIHRvIGNhcGl0YWxpemUuCiAgICAgICAgICAgICAgICBleHByOiAvKChbQS1aX2Etel18XGQoPyFcZCpcLiApKShcUyopKSgoPzooPzpldGNcLnxpXC5lXC58ZVwuZ1wufHZzXC58XC5cLlwufFx3K1wuKD8hW1xzIildKXxbKi1dK3xcbig/IVsgXHRdKlxufCAqKD86WyotXXxcZCtcLikpfFteLj8hXG5dPykpKyg/OihbLj8hXSkoPz1bXHMiKV18JCl8XG5cbnxcbig/PSAqWyotXSl8XG4oPz0gKlxkK1wuKXwkKSkvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogZnVuY3Rpb24oc2VudGVuY2UsIGZXb3JkLCBmQ2hhciwgZldvcmRQb3N0LCBzZW50ZW5jZVBvc3QsIGVuZHB1bmMpIHsgCiAgICAgICAgICAgICAgICAgICAgdmFyIGNhcENoYXIgPSBmQ2hhci50b1VwcGVyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChzZW50ZW5jZSA9PT0gInVuZGVmaW5lZCJ8fGNhcENoYXIgPT0gZkNoYXIpIHJldHVybiBzZW50ZW5jZTsgIC8vIE1VU1QgbWF0Y2ggc2VudGVuY2UsIG9yIGdldHMgY291bnRlZCBhcyBhIGNoYW5nZS4KICAgICAgICAgICAgICAgICAgICBpZiAoIWZXb3JkKSBmV29yZCA9ICcnOwogICAgICAgICAgICAgICAgICAgIHZhciBmV29yZENoYXJzID0gZldvcmQuc3BsaXQoJycpOwogICAgICAgICAgICAgICAgICAgIC8vIExlYXZlIHNvbWUgd29yZHMgYWxvbmU6IGZpbGVuYW1lcywgY2FtZWxDYXNlCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGZXb3JkQ2hhcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZXb3JkQ2hhcnNbaV0uc2VhcmNoKC9bLl8vXS9nKSAhPT0gLTEgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmV29yZENoYXJzW2ldLnNlYXJjaCgvW2Etel0vZ2kpICE9PS0xICYmIGZXb3JkQ2hhcnNbaV0gPT0gZldvcmRDaGFyc1tpXS50b1VwcGVyQ2FzZSgpKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW50ZW5jZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IGNhcENoYXIgKyBmV29yZFBvc3QgKyBzZW50ZW5jZVBvc3Q7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGk6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci91TzdxRzAvMgogICAgICAgICAgICAgICAgZXhwcjogL1xiaVxiKD8hXC5lKS9nLCAgLy8gaSBidXQgbm90IGkuZS4KICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlfYXBvc3Ryb3BoZTogewogICAgICAgICAgICAgICAgZXhwcjogL1xiaVsnYMK04oCZXS9naSwgIC8vIGktYXBvc3Ryb3BoZSBvbmx5CiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkknIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaV9sbDogeyAgLy8gTXVzdCBOT1QgY29udmVydCBpbGwgdG8gSSdsbAogICAgICAgICAgICAgICAgZXhwcjogL1xiaSBsbFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJJJ2xsIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW06IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYig/OmkgKm0oPzogYW0pP3xpJ2FtfGlhbSlcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSSdtIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXZlOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGJpWydgwrTigJkgXSp2WydgwrTigJkgXSplXGIvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIkkndmUiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBpZTogeyAgLy8gaHR0cDovL2VuZ2xpc2guc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzMwMTA2L2Nhbi1pLXN0YXJ0LWEtc2VudGVuY2Utd2l0aC1pLWUKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihpfEkpXC4/ZVsuXHNdKy9nLCAgIC8vIENhcmVmdWwgaGVyZTsgSUUgaXMgSW50ZXJuZXQgRXhwbG9yZXIKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEuZS4gIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZWc6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9xSDJvVDAvNwogICAgICAgICAgICAgICAgZXhwcjogL1xiKGUpXC4/Z1suLDsgOl0rL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMS5nLiAiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBldGM6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvZEU3Y1YxLzQKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmV0Yyg/OlwuKyk/L2csCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogImV0Yy4iLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBweXNhbmt5OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKFteXCFdKVshXXs1fSg/IVwhKS9nLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMSEiLAogICAgICAgICAgICAgICAgcmVhc29uOiB3aW5kb3cuYXRvYignSWtacGRtVWdaWGhqYkdGdFlYUnBiMjRnYldGeWEzTXNJSFJvWlNCemRYSmxJSE5wWjI0Z2IyWWdZVzRnYVc1ellXNWxJRzFwYm1RaScpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG11bHRpcGxlc3ltYm9sczogeyAgLy8gICAgaHR0cHM6Ly9yZWdleDEwMS5jb20vci9iRTl6TTYvNgogICAgICAgICAgICAgICAgZXhwcjogLyhcYltjQ11cK1wrfD17MSwzfSg/IT0pKXwoW15cd1xzKiMuXC1fOlxbXF1cPC8+XSlcMnsxLH0vZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEkMiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGlfd2FudDogeyAvL2h0dHBzOi8vcmVnZXgxMDEuY29tL3IvaUQydFUwLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9cYklbJ2EgXSptIHdhbnRpbmdcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiSSB3YW50IiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3hmb3JkX2NvbW1hOiB7IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IveE4wbUY2LzYKICAgICAgICAgICAgICAgIGV4cHI6IC8oKD86W1x3Jy1dKyxccyspKyg/OltcdyctXStccyl7MCwyfVtcdyctXSspKFxzKyhhbmR8b3IpXHMrW1x3Jy1dKykvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEsJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBpX2hhdmVfZmluZDogewogICAgICAgICAgICAgICAgZXhwcjogL1xiKEl8eW91KSBoYXZlIGZpbmRcYig/IVsoXXxcLlx3KS9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEgaGF2ZSBmb3VuZCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxldF9zX3NheTogeyAgLy8gNjBLIQogICAgICAgICAgICAgICAgZXhwcjogL1xiKGwpZXRzIChzYXl8c2VlfGxvb2t8anVzdHxwdXR8aGF2ZXxsZWF2ZXxnaXZlfHdyaXRlKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWV0J3MgJDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWdnZXN0X21lOiB7ICAvLyAzNksKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihzKXVbZ2pdK2VzdChzKT8gbWUvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxdWdnZXN0JDIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICBwZXJmZWN0bHk6IHsgIC8vIDM2SwogICAgICAgICAgICAgICAgZXhwcjogL1xiKHApW3JlXStmZWN0bHkvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxZXJmZWN0bHkiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMuZ3JhbW1hcgogICAgICAgICAgICB9LAogICAgICAgICAgICB3b3Jrc19wZXJmZWN0bHk6IHsgIC8vIDEzSysgcG9zdHMKICAgICAgICAgICAgICAgIGV4cHI6IC9cYih3KW9yayhzKT8gcFtlcl0rZmVjdFxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9yayQyIHBlcmZlY3RseSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ncmFtbWFyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvZXNudF93b3JrOiB7ICAvLyA5MDArIHBvc3RzCiAgICAgICAgICAgICAgICBleHByOiAvXGIoZClvbid0IHdvcmtzL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMW9lc24ndCB3b3JrIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmdyYW1tYXIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoKICAgICAgICAgICAgKiogTm9pc2UgcmVkdWN0aW9uIC0gUmVtb3ZlIGZsdWZmIHRoYXQgYWRkcyBub3RoaW5nIG9mIHRlY2huaWNhbCB2YWx1ZSB0byBwb3N0cy4KICAgICAgICAgICAgKiovCiAgICAgICAgICAgIGhlbHA6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihoKSg/OltlYV1sP3ApKD8hWy1dKVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIkMWVscCIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zaWxlbnQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGhhbmtzOiB7CiAgICAgICAgICAgICAgICBleHByOiAvXGIodCkoPzphbmtzfGh4fGFueClcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFoYW5rcyIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zaWxlbnQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGlhOiB7ICAvLyBjb21tb24gYWNyb255bTsgc2hvdWxkIG9ubHkgcmVtb3ZlICJ0aGFua3MgaW4gYWR2YW5jZSIgYXQgZW5kIG9mIHBvc3QKICAgICAgICAgICAgICAgIGV4cHI6IC9cYnRpYSQvZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ub2lzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBwbGVhc2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYihwKSg/Omx6fGxzZT98bD9lYXNlPylcYi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDFsZWFzZSIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5zaWxlbnQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZWRpdHVwZGF0ZTogewogICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci90VDJwSzYvOQogICAgICAgICAgICAgICAgZXhwcjogLyhbLV8qXStbXHQgXSpcYihlZGl0fHVwZGF0ZSlcYihbXHQgXSojP1swLTldKyk/W1x0IF0qOipbXHQgXSpbLV8qXSs6KnxbXHQgXSpcYihlZGl0fHVwZGF0ZSlcYihbXHQgXSojP1swLTldKyk/XHMqOitbXHQgXSopL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubm9pc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8gaHR0cDovL21ldGEuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzI5NTAvc2hvdWxkLWhpLXRoYW5rcy10YWdsaW5lcy1hbmQtc2FsdXRhdGlvbnMtYmUtcmVtb3ZlZC1mcm9tLXBvc3RzLzkzOTg5IzkzOTg5CiAgICAgICAgICAgIHNhbHV0YXRpb246IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci95UzlsTjgvMTAKICAgICAgICAgICAgICAgIGV4cHI6IC9eXHMqKD86ZGVhcnM/XGIuKiR8Z3JlZXRpbmdzP1xiLiokfCg/OmhpKD86eWEpKnxoZWwrbyt8aGV5YT98aGFpfGcnP2RheXxnb29kXHM/KD86ZXZlbmluZ3xtb3JuaW5nfGRheXxhZnRlcm5vb24pfGFob3l8Zm9sa3N8Z3V5cylbLFxzXSooPzpccysoPzphbGx8Z3V5c3xmb2xrc3xmcmllbmRzP3x0aGVyZXxldmVyeW9uZXxwZW9wbGV8bWF0ZXk/cz98YnVkKyh5fGllcykpKikpKD86WywuIT86IF0qfCQpL2dtaSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLm5vaXNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJhZHBocmFzZXM6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9nRTJoSDYvMTYKICAgICAgICAgICAgICAgIGV4cHI6IC9bXlxuLiE/Ol0qKD86dGhhbmtzfHRoYW5rWyAtXXlvdXxwbGVhc2V8aGVscHxzdWdnZXN0KD86aW9ucykpXGIoPzpbIC4/IV0qJHxbXlxuLiE/Ol0qXGIoPzpoZWxwfGFwK3JlY2lhdFx3KnxtZXxhZHZhblx3KnxhID9sb3QpXGJbXlxuLiE/Ol0qKVsuIT9fKl0qL2dpbSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLm5vaXNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGltbmV3OiB7CiAgICAgICAgICAgICAgICBleHByOiAvKD8hIClbXHdcc10qXGJpWycgXT9hP20gKyg/OmtpbmRhfHJlYWxseSkgKm5ld1x3KiArKD86dG98aW4pICpcdyogKig/OmFuZHxbOywuIT9dKT8gKi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLm5vaXNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNvbXBsaW1lbnRhcnlDbG9zZTogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9oTDNrVDUvNQogICAgICAgICAgICAgICAgZXhwcjogL15ccyooPzooPzpraW5kKD86ZXN0KSogfGJlc3QgKSpyZWdhcmRzP3xjaGVlcnM/fGdyZWV0aW5ncz98dGhhbmtzfHRoYW5rIHlvdSlcYiw/LipbXHJcbl17MCwyfS4qKD86Wy4hPzogXSp8JCkvZ2ltLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubm9pc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc29ycnk0ZW5nbGlzaDogeyAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3BHM29ENi84CiAgICAgICAgICAgICAgICBleHByOiAvW15cbi4hP10qKChzb3JyeXxhcCtvbG9nLip8Zm9yZ2l2ZSlcYlteLiE/OlxuXHJdK1xiKChiYWR8bXl8cG9vcikgZW5nbGlzaCl8KGVuZ2xpc2hbXi4hPzpcblxyXSspXGIodG9uZ3VlfGxhbmd1YWdlKSlcYlteLiE/OlxuXHJdKig/OlsuIT86XypdKSovZ2ksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ub2lzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBob3BlX3RoaXNfaGVscHM6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IveUYxdVkwLzEKICAgICAgICAgICAgICAgIGV4cHI6IC9eXHMqaT8gP1xiaG9wZVxiW15cbi4hPzpdKmhlbHBzP1teXG4uIT86XSpbLC4hPzogKCleLV0qJC9nbWksCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5ub2lzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBlbnRlcl9jb2RlX2hlcmU6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC9cYmVudGVyICg/OmNvZGV8aW1hZ2UgZGVzY3JpcHRpb258bGluayBkZXNjcmlwdGlvbikgaGVyZVxiL2dpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICIiLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubm9pc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoKICAgICAgICAgICAgKiogTGF5b3V0ICAtIE1pbmltaXplIHdoaXRlc3BhY2UgKHdoaWNoIGlzIGNvbXByZXNzZWQgYnkgbWFya3VwKS4KICAgICAgICAgICAgKiogICAgICAgICAgIE11c3QgZm9sbG93IG5vaXNlIHJlZHVjdGlvbi4KICAgICAgICAgICAgKiogICAgICAgICAgIExlYWRpbmcgYW5kIHRyYWlsaW5nIHNwYWNlcyBhcmUgcGFydCBvZiBNYXJrZG93biBmb3JtYXR0aW5nOyBsZWF2ZSB0aGVtLgogICAgICAgICAgICAqKi8KICAgICAgICAgICAgc3BhY2VfdGhlbl9zeW1ib2w6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvZk42bEw3LzYKICAgICAgICAgICAgICAgIGV4cHI6IC8oW14gXG5cclxbXCldKShcKCg/IVwpKSkvZ20sCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxICQyIiwKICAgICAgICAgICAgICAgIGRlYnVnOiBmYWxzZSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmxheW91dAogICAgICAgICAgICB9LAogICAgICAgICAgICBub19zcGFjZV9iZWZvcmVfc3ltYm9sOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL3FCOWxTMC8yCiAgICAgICAgICAgICAgICBleHByOiAvKD86KF4gKyl8WyBdKz8oWyw/ITopXSt8Wy5dKyg/IVtcU10pKSkvZ20sCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxJDIiLAogICAgICAgICAgICAgICAgZGVidWc6IGZhbHNlLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubGF5b3V0CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN5bWJvbF90aGVuX3NwYWNlOiB7ICAvLyBodHRwczovL3JlZ2V4MTAxLmNvbS9yL2lEOWFTMS82CiAgICAgICAgICAgICAgICBleHByOiAvKD86XGIpKFssPyE6KV0rfFsuXXszfSkoPzpcYikoPyFbXGRdKS9nbSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiJDEgIiwKICAgICAgICAgICAgICAgIGRlYnVnOiBmYWxzZSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLmxheW91dAogICAgICAgICAgICB9LAogICAgICAgICAgICBzcGFjZV9zeW1ib2xfc3BhY2U6IHsKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzpcYnwgKykoWyZdKSg/OiB8XGIpKD8hW1xkXSkvZywKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiAiICQxICIsCiAgICAgICAgICAgICAgICBkZWJ1ZzogZmFsc2UsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5sYXlvdXQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbXVsdGlwbGVzcGFjZXM6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9oWTloUTMvMwogICAgICAgICAgICAgICAgZXhwcjogLyg/IV4pWyBdezIsfSg/ISA/JCkvZ20sCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiAiLAogICAgICAgICAgICAgICAgZGVidWc6IGZhbHNlLAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMubGF5b3V0CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG51bWJlcmVkX2xpc3Q6IHsgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9tSTFhVjMvMgogICAgICAgICAgICAgICAgZXhwcjogL1tcblxyXSsoWyBcdF0qW1xkXSspWykuXSAqL2dtLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQ6ICJcblxuJDEuICIsCiAgICAgICAgICAgICAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5sYXlvdXQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8gRElTQUJMRUQgdGVtcG9yYXJpbHkgLSBzZWUgSXNzdWUgIzExNQogICAgICAgICAgICAvL2JsYW5rbGluZXM6IHsgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvZUE1aEEyLzIKICAgICAgICAgICAgLy8gICAgZXhwcjogL14oPzogKltcblxyXGZdKSt8KD86ICpbXG5cclxmXSkrJHwoKD86ICpbXG5cclxmXSl7Mn0pKD86KD86ICpbXG5cclxmXSkpKy9nLAogICAgICAgICAgICAvLyAgICByZXBsYWNlbWVudDogIiQxIiwKICAgICAgICAgICAgLy8gICAgZGVidWc6IGZhbHNlLAogICAgICAgICAgICAvLyAgICByZWFzb246IEFwcC5jb25zdHMucmVhc29ucy5sYXlvdXQKICAgICAgICAgICAgLy99LAogICAgICAgICAgICB0cmFpbGluZ19zcGFjZTogeyAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9pUTB5UjgvMQogICAgICAgICAgICAgICAgZXhwcjogLyhbXiBdKVsgXXsxfSQvZ20sCiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogIiQxIiwKICAgICAgICAgICAgICAgIGRlYnVnOiBmYWxzZSwKICAgICAgICAgICAgICAgIHJlYXNvbjogQXBwLmNvbnN0cy5yZWFzb25zLnNpbGVudAogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyBUaGUgdGl0bGUgc2F5cyBpdCBhbGwKICAgICAgICAgICAgdGhldGl0bGVzYXlzaXRhbGw6IHsKICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvYlgxcUI0LzMKICAgICAgICAgICAgICAgIGV4cHI6IC8oPzp0aGUgKT90aXRsZSBzYXlzICg/Oml0IGFsbHxldmVyeXRoaW5nKVsuPyFdKi9naSwKICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50OiBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgIHJldHVybiBBcHAuc2VsZWN0aW9ucy50aXRsZS52YWwoKS5yZXBsYWNlKC9bLj8hXSokLywiPyBcblxuIik7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcmVhc29uOiBBcHAuY29uc3RzLnJlYXNvbnMudGl0bGVTYXlzQWxsCiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAvLyBUaGlzIGlzIHdoZXJlIHRoZSBtYWdpYyBoYXBwZW5zOiB0aGlzIGZ1bmN0aW9uIHRha2VzIGEgZmV3IHBpZWNlcyBvZiBpbmZvcm1hdGlvbiBhbmQgYXBwbGllcyBlZGl0cyB0byB0aGUgcG9zdAogICAgICAgIEFwcC5mdW5jcy5maXhJdCA9IGZ1bmN0aW9uKGlucHV0LCBlZGl0KSB7CiAgICAgICAgICAgIHZhciBleHByZXNzaW9uID0gZWRpdC5leHByOwogICAgICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSBlZGl0LnJlcGxhY2VtZW50OwogICAgICAgICAgICB2YXIgcmVhc29uaW5nID0gZWRpdC5yZWFzb247CiAgICAgICAgICAgIHZhciBkZWJ1ZyA9IGVkaXQuZGVidWc7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZGVidWcpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlucHV0KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4cHJlc3Npb24udG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicmVwbGFjZW1lbnQ6ICciK3JlcGxhY2VtZW50KyInIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm90aGluZyB0byBzZWFyY2gsIGV4aXQKICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAvLyBTY2FuIHRoZSBwb3N0IHRleHQgdXNpbmcgdGhlIGV4cHJlc3Npb24gdG8gc2VlIGlmIHRoZXJlIGFyZSBhbnkgbWF0Y2hlcwogICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGlucHV0Lm1hdGNoKGV4cHJlc3Npb24pOwogICAgICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKG1hdGNoZXMsIGV4cHJlc3Npb24uZXhlYyhpbnB1dCkpOwogICAgICAgICAgICBpZiAoIW1hdGNoZXMpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgdmFyIGNvdW50ID0gMDsgIC8vICMgcmVwbGFjZW1lbnRzIHRvIGRvCiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZShleHByZXNzaW9uLCBmdW5jdGlvbihiZWZvcmUpeyAKICAgICAgICAgICAgICAgIHZhciBhZnRlciA9IGJlZm9yZS5yZXBsYWNlKGV4cHJlc3Npb24sIHJlcGxhY2VtZW50KTsKICAgICAgICAgICAgICAgIGlmKGFmdGVyICE9PSBiZWZvcmUpICsrY291bnQ7IAogICAgICAgICAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhiZWZvcmUsIGFmdGVyLCBhZnRlciAhPT0gYmVmb3JlLCBjb3VudCk7CiAgICAgICAgICAgICAgICByZXR1cm4gYWZ0ZXI7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoIWNvdW50KSB7CiAgICAgICAgICAgICAgICAvLyBTZWVtcyBsaWtlIG5vIHJlcGxhY2VtZW50cywgY2hlY2suCiAgICAgICAgICAgICAgICAvLyBJbiBzb21lIGNhc2VzLCB0aGUgZXhwcmVzc2lvbiBtYXRjaGVzIG9uIHRoZSBpbml0aWFsIGlucHV0LCBidXQKICAgICAgICAgICAgICAgIC8vIGZhaWxzIHRvIG9uIHRoZSBpbmRpdmlkdWFsIG1hdGNoZXMuIEluIHRoYXQgY2FzZSwgd2UgY2FuJ3QgY291bnQKICAgICAgICAgICAgICAgIC8vIHRoZSB0b3RhbCBjaGFuZ2VzIGFjY3VyYXRlbHksIGJ1dCB3ZSBjYW4gc3RpbGwgY29tcGxldGUgdGhlCiAgICAgICAgICAgICAgICAvLyByZXBsYWNlbWVudCBvbiB0aGUgaW5pdGlhbCBpbnB1dC4KICAgICAgICAgICAgICAgIHZhciBhZnRlciA9IGlucHV0LnJlcGxhY2UoZXhwcmVzc2lvbiwgcmVwbGFjZW1lbnQpOwogICAgICAgICAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZygiemVyby1jb3VudDogIiwgaW5wdXQsIGFmdGVyLCBhZnRlciAhPT0gaW5wdXQpOwogICAgICAgICAgICAgICAgaWYoYWZ0ZXIgIT09IGlucHV0KSB7CiAgICAgICAgICAgICAgICAgICAgKytjb3VudDsgCiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBhZnRlcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gY291bnQgPiAwID8gewogICAgICAgICAgICAgICAgcmVhc29uOiByZWFzb25pbmcsCiAgICAgICAgICAgICAgICBmaXhlZDogU3RyaW5nKGlucHV0KSwKICAgICAgICAgICAgICAgIGNvdW50OiBjb3VudAogICAgICAgICAgICB9IDogZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgLy8gUG9wdWxhdGUgb3IgcmVmcmVzaCBET00gc2VsZWN0aW9ucwogICAgICAgIEFwcC5mdW5jcy5wb3BTZWxlY3Rpb25zID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnJlZG9CdXR0b24gICAgID0gQXBwLmdsb2JhbHMucm9vdC5maW5kKCdbaWRePSJ3bWQtcmVkby1idXR0b24iXScpOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5ib2R5ICAgICAgICAgICA9IEFwcC5nbG9iYWxzLnJvb3QuZmluZCgnW2lkXj0id21kLWlucHV0Il0nKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMudGl0bGUgICAgICAgICAgPSBBcHAuZ2xvYmFscy5yb290LmZpbmQoJ1tjbGFzcyo9InRpdGxlLWZpZWxkIl0nKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuc3VtbWFyeSAgICAgICAgPSBBcHAuZ2xvYmFscy5yb290LmZpbmQoJ1tpZF49ImVkaXQtY29tbWVudCJdLCAuZWRpdC1jb21tZW50Jyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnRhZ0ZpZWxkICAgICAgID0gQXBwLmdsb2JhbHMucm9vdC5maW5kKCIudGFnLWVkaXRvciIpOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5zdWJtaXRCdXR0b24gICA9IEFwcC5nbG9iYWxzLnJvb3QuZmluZCgnW2lkXj0ic3VibWl0LWJ1dHRvbiJdJyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmhlbHBCdXR0b24gICAgID0gQXBwLmdsb2JhbHMucm9vdC5maW5kKCdbaWRePSJ3bWQtaGVscC1idXR0b24iXScpOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5lZGl0b3IgICAgICAgICA9IEFwcC5nbG9iYWxzLnJvb3QuZmluZCgnLnBvc3QtZWRpdG9yJyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnByZXZpZXcgICAgICAgID0gQXBwLmdsb2JhbHMucm9vdC5maW5kKCcud21kLXByZXZpZXcnKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld01lbnUgICAgPSBBcHAuZ2xvYmFscy5yb290LmZpbmQoJy5wcmV2aWV3LW9wdGlvbnMnKS5hcHBlbmQoJyZuYnNwOyZuYnNwOycpOwogICAgICAgICAgICBpZighQXBwLnNlbGVjdGlvbnMucHJldmlld01lbnUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3TWVudSAgID0gJCgnPGRpdiBjbGFzcz0icHJldmlldy1vcHRpb25zIHBvc3QtbWVudSIgc3R5bGU9Im1hcmdpbi10b3A6NXB4O21hcmdpbi1ib3R0b206OHB4OyIvPicpLmluc2VydEJlZm9yZShBcHAuc2VsZWN0aW9ucy5wcmV2aWV3KTsKICAgICAgICAgICAgICAgIHZhciBwcmV2aWV3VG9nZ2xlVGV4dCA9IEFwcC5zZWxlY3Rpb25zLnByZXZpZXcuaXMoJzp2aXNpYmxlJykgPyAnaGlkZSBwcmV2aWV3JyA6ICdzaG93IHByZXZpZXcnOwogICAgICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld1RvZ2dsZSA9ICQoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImhpZGUtcHJldmlldyIgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0ycHg7Ij4nICsgcHJldmlld1RvZ2dsZVRleHQgKyAnPC9hPicpLmNsaWNrKEFwcC5mdW5jcy50b2dnbGVQcmV2aWV3KS5hcHBlbmRUbyhBcHAuc2VsZWN0aW9ucy5wcmV2aWV3TWVudSk7CiAgICAgICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3TWVudS5hcHBlbmQoJyZuYnNwOyZuYnNwOycpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld1RvZ2dsZSAgPSBBcHAuZ2xvYmFscy5yb290LmZpbmQoJy5oaWRlLXByZXZpZXcnKS5vZmYoJ2NsaWNrJykuYXR0cignaHJlZicsJ2phdmFzY3JpcHQ6dm9pZCgwKScpLmNsaWNrKEFwcC5mdW5jcy50b2dnbGVQcmV2aWV3KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5kaWZmVG9nZ2xlICAgICA9ICQoJzxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImhpZGUtcHJldmlldyIgc3R5bGU9Im1hcmdpbi1sZWZ0Oi0ycHg7Ij5zaG93IGRpZmY8L2E+JykuY2xpY2soQXBwLmZ1bmNzLnRvZ2dsZURpZmYpLmFwcGVuZFRvKEFwcC5zZWxlY3Rpb25zLnByZXZpZXdNZW51KTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuZGlmZiAgICAgICAgICAgPSAkKCc8ZGl2IGNsYXNzPSJ3bWQtcHJldmlldyIvPicpLmhpZGUoKS5hcHBlbmRUbyhBcHAuc2VsZWN0aW9ucy5lZGl0b3IpOwogICAgICAgIH07CgogICAgICAgIEFwcC5mdW5jcy5zaG93UHJldmlldyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5kaWZmLmhpZGUoKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCdzaG93IGRpZmYnKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlldy5zaG93KCk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnByZXZpZXdUb2dnbGUudGV4dCgnaGlkZSBwcmV2aWV3Jyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIEFwcC5mdW5jcy5zaG93RGlmZiA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3LmhpZGUoKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld1RvZ2dsZS50ZXh0KCdzaG93IHByZXZpZXcnKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuZGlmZi5zaG93KCk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmRpZmZUb2dnbGUudGV4dCgnaGlkZSBkaWZmJyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIEFwcC5mdW5jcy50b2dnbGVQcmV2aWV3ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmRpZmYuaGlkZSgpOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5kaWZmVG9nZ2xlLnRleHQoJ3Nob3cgZGlmZicpOwogICAgICAgICAgICBpZigvaGlkZS8udGVzdChBcHAuc2VsZWN0aW9ucy5wcmV2aWV3VG9nZ2xlLnRleHQoKSkpIHJldHVybiBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3VG9nZ2xlLnRleHQoJ3Nob3cgcHJldmlldycpLCBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3LnRvZ2dsZSgpLCB0cnVlOwogICAgICAgICAgICBpZigvc2hvdy8udGVzdChBcHAuc2VsZWN0aW9ucy5wcmV2aWV3VG9nZ2xlLnRleHQoKSkpIHJldHVybiBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3VG9nZ2xlLnRleHQoJ2hpZGUgcHJldmlldycpLCBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3LnRvZ2dsZSgpLCB0cnVlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBBcHAuZnVuY3MudG9nZ2xlRGlmZiA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5wcmV2aWV3LmhpZGUoKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMucHJldmlld1RvZ2dsZS50ZXh0KCdzaG93IHByZXZpZXcnKTsKICAgICAgICAgICAgaWYoL2hpZGUvLnRlc3QoQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCkpKSByZXR1cm4gQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCdzaG93IGRpZmYnKSwgQXBwLnNlbGVjdGlvbnMuZGlmZi50b2dnbGUoKSwgdHJ1ZTsKICAgICAgICAgICAgaWYoL3Nob3cvLnRlc3QoQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCkpKSByZXR1cm4gQXBwLnNlbGVjdGlvbnMuZGlmZlRvZ2dsZS50ZXh0KCdoaWRlIGRpZmYnKSwgQXBwLnNlbGVjdGlvbnMuZGlmZi50b2dnbGUoKSwgdHJ1ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gUG9wdWxhdGUgZWRpdCBpdGVtIHNldHMgZnJvbSBET00gc2VsZWN0aW9ucwogICAgICAgIEFwcC5mdW5jcy5wb3BJdGVtcyA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB2YXIgaSA9IEFwcC5pdGVtcywgcyA9IEFwcC5zZWxlY3Rpb25zOwogICAgICAgICAgICBbJ3RpdGxlJywgJ2JvZHknLCAnc3VtbWFyeSddLmZvckVhY2goZnVuY3Rpb24odikgewogICAgICAgICAgICAgICAgaVt2XSA9IHNbdl0ubGVuZ3RoID8gc1t2XS52YWwoKSA6ICcnOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvLyBQb3B1bGF0ZSBvcmlnaW5hbCBpdGVtIHNldHMgZnJvbSBlZGl0IGl0ZW1zIGZvciB0aGUgZGlmZgogICAgICAgIEFwcC5mdW5jcy5wb3BPcmlnaW5hbHMgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGkgPSBBcHAub3JpZ2luYWxzLCBzID0gQXBwLml0ZW1zOwogICAgICAgICAgICBbJ3RpdGxlJywgJ2JvZHknLCAnc3VtbWFyeSddLmZvckVhY2goZnVuY3Rpb24odikgewogICAgICAgICAgICAgICAgaVt2XSA9IHNbdl07CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBJbnNlcnQgZWRpdGluZyBidXR0b24KICAgICAgICBBcHAuZnVuY3MuY3JlYXRlQnV0dG9uID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghQXBwLnNlbGVjdGlvbnMucmVkb0J1dHRvbi5sZW5ndGgpIHJldHVybiBmYWxzZTsKCiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbldyYXBwZXIgPSAkKCc8bGkgY2xhc3M9IndtZC1tYWdpYy1lZGl0Ii8+Jyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkZpeCA9ICQoJzxpbWcgc3JjPSIvL2kuc3RhY2suaW1ndXIuY29tL09tNXBMLnBuZyIgY2xhc3M9IndtZC1idXR0b24gVG9vbGtpdEZpeCIgdGl0bGU9IkZpeCB0aGUgY29udGVudCEiIC8+Jyk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkluZm8gPSAkKCc8ZGl2IGNsYXNzPSJUb29sa2l0SW5mbyI+Jyk7CgogICAgICAgICAgICAvLyBCdWlsZCB0aGUgYnV0dG9uCiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbldyYXBwZXIuYXBwZW5kKEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkZpeCk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbldyYXBwZXIuYXBwZW5kKEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkluZm8pOwoKICAgICAgICAgICAgLy8gSW5zZXJ0IGJ1dHRvbgogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5yZWRvQnV0dG9uLmFmdGVyKEFwcC5zZWxlY3Rpb25zLmJ1dHRvbldyYXBwZXIpOwoKICAgICAgICAgICAgLy8gQXR0YWNoIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aGUgYnV0dG9uCiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLmJ1dHRvbkZpeC5jbGljayhBcHAuZnVuY3MuZml4RXZlbnQpOwogICAgICAgICAgICAKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuYnV0dG9uV3JhcHBlci5jc3MoewogICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzogJ3JlbGF0aXZlJywKICAgICAgICAgICAgICAgICdsZWZ0JzogJzQxMHB4JywKICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycsCiAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAndmlzaWJsZScsCiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzU1JScsCiAgICAgICAgICAgICAgICAnd2hpdGUtc3BhY2UnOiAnbm93cmFwJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuYnV0dG9uRml4LmNzcyh7CiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnc3RhdGljJywKICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycsCiAgICAgICAgICAgICAgICAnd2lkdGgnOiAnYXV0bycsCiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5idXR0b25JbmZvLmNzcyh7CiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnc3RhdGljJywKICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2lubGluZS1ibG9jaycsCiAgICAgICAgICAgICAgICAndmVydGljYWwtYWxpZ24nOiAnYm90dG9tJywKICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6ICc1cHgnLAogICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6ICcxMnB4JywKICAgICAgICAgICAgICAgICdjb2xvcic6ICcjNDI0MjQyJywKICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kJzogJyNlZWUnLAogICAgICAgICAgICAgICAgJ2JvcmRlci1yYWRpdXMnOiAnM3B4JywKICAgICAgICAgICAgICAgICdwYWRkaW5nJzogJzNweCA2cHgnCiAgICAgICAgICAgIH0pLmhpZGUoKTsKICAgICAgICB9OwoKICAgICAgICBBcHAuZnVuY3MuZml4RXZlbnQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIEFwcC5mdW5jcy5wb3BJdGVtcygpLCBBcHAucGlwZShBcHAuaXRlbXMsIEFwcC5waXBlTW9kcywgQXBwLmdsb2JhbHMub3JkZXIpLCBmYWxzZTsKICAgICAgICB9OwoKICAgICAgICBBcHAuZnVuY3MuZGlmZiA9IGZ1bmN0aW9uKGExLCBhMikgewogICAgICAgICAgICB2YXIgc3RyaW5ncyA9IFtdOwogICAgICAgICAgICBmdW5jdGlvbiBtYWFrUmlqKHR5cGUsIHJpaikgewogICAgICAgICAgICAgICAgaWYgKCF0eXBlKSByZXR1cm4gc3RyaW5ncy5wdXNoKHJpai5yZXBsYWNlKC9cPC9nLCAnJmx0OycpKSwgdHJ1ZTsKICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnKycpIHJldHVybiBzdHJpbmdzLnB1c2goJzxzcGFuIGNsYXNzPSJhZGQiPicgKyByaWoucmVwbGFjZSgvXDwvZywgJyZsdDsnKS5yZXBsYWNlKC8oPz1cbikvZywn4oa1JykgKyAnPC9zcGFuPicpLCB0cnVlOwogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICctJykgcmV0dXJuIHN0cmluZ3MucHVzaCgnPHNwYW4gY2xhc3M9ImRlbCI+JyArIHJpai5yZXBsYWNlKC9cPC9nLCAnJmx0OycpLnJlcGxhY2UoLyg/PVxuKS9nLCfihrUnKSArICc8L3NwYW4+JyksIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldERpZmYobWF0cml4LCBhMSwgYTIsIHgsIHkpIHsKICAgICAgICAgICAgICAgIGlmICh4ID4gMCAmJiB5ID4gMCAmJiBhMVt5IC0gMV0gPT09IGEyW3ggLSAxXSkgewogICAgICAgICAgICAgICAgICAgIGdldERpZmYobWF0cml4LCBhMSwgYTIsIHggLSAxLCB5IC0gMSk7CiAgICAgICAgICAgICAgICAgICAgbWFha1JpaihmYWxzZSwgYTFbeSAtIDFdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHggPiAwICYmICh5ID09PSAwIHx8IG1hdHJpeFt5XVt4IC0gMV0gPj0gbWF0cml4W3kgLSAxXVt4XSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RGlmZihtYXRyaXgsIGExLCBhMiwgeCAtIDEsIHkpOwogICAgICAgICAgICAgICAgICAgICAgICBtYWFrUmlqKCcrJywgYTJbeCAtIDFdKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHkgPiAwICYmICh4ID09PSAwIHx8IG1hdHJpeFt5XVt4IC0gMV0gPCBtYXRyaXhbeSAtIDFdW3hdKSkgewogICAgICAgICAgICAgICAgICAgICAgICBnZXREaWZmKG1hdHJpeCwgYTEsIGEyLCB4LCB5IC0gMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hYWtSaWooJy0nLCBhMVt5IC0gMV0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGExID0gYTEuc3BsaXQoLyg/PVxifFxXfF8pL2cpOwogICAgICAgICAgICBhMiA9IGEyLnNwbGl0KC8oPz1cYnxcV3xfKS9nKTsKCiAgICAgICAgICAgIHZhciBtYXRyaXggPSBuZXcgQXJyYXkoYTEubGVuZ3RoICsgMSk7CiAgICAgICAgICAgIHZhciB4LCB5OwogICAgICAgICAgICBmb3IgKHkgPSAwOyB5IDwgbWF0cml4Lmxlbmd0aDsgeSsrKSB7CiAgICAgICAgICAgICAgICBtYXRyaXhbeV0gPSBuZXcgQXJyYXkoYTIubGVuZ3RoICsgMSk7CgogICAgICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IG1hdHJpeFt5XS5sZW5ndGg7IHgrKykgewogICAgICAgICAgICAgICAgICAgIG1hdHJpeFt5XVt4XSA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAoeSA9IDE7IHkgPCBtYXRyaXgubGVuZ3RoOyB5KyspIHsKICAgICAgICAgICAgICAgIGZvciAoeCA9IDE7IHggPCBtYXRyaXhbeV0ubGVuZ3RoOyB4KyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYTFbeSAtIDFdID09PSBhMlt4IC0gMV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4W3ldW3hdID0gMSArIG1hdHJpeFt5IC0gMV1beCAtIDFdOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeFt5XVt4XSA9IE1hdGgubWF4KG1hdHJpeFt5IC0gMV1beF0sIG1hdHJpeFt5XVt4IC0gMV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGdldERpZmYobWF0cml4LCBhMSwgYTIsIHggLSAxLCB5IC0gMSk7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCcnKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAvLyBQaXBlIGRhdGEgdGhyb3VnaCBtb2R1bGVzIGluIHByb3BlciBvcmRlciwgcmV0dXJuaW5nIHRoZSByZXN1bHQKICAgICAgICBBcHAucGlwZSA9IGZ1bmN0aW9uKGRhdGEsIG1vZHMsIG9yZGVyKSB7CiAgICAgICAgICAgIHZhciBtb2ROYW1lOwogICAgICAgICAgICBmb3IgKHZhciBpIGluIG9yZGVyKSB7CiAgICAgICAgICAgICAgICBpZiAob3JkZXIuaGFzT3duUHJvcGVydHkoaSkpIHsKICAgICAgICAgICAgICAgICAgICBtb2ROYW1lID0gb3JkZXJbaV07CiAgICAgICAgICAgICAgICAgICAgbW9kc1ttb2ROYW1lXShkYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIEFwcC5waXBlTW9kcy5vbWl0ID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICBpZiAoIWRhdGEuYm9keSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBmb3IgKHZhciB0eXBlIGluIEFwcC5nbG9iYWxzLmNoZWNrcykgewogICAgICAgICAgICAgICAgZGF0YS5ib2R5ID0gZGF0YS5ib2R5LnJlcGxhY2UoQXBwLmdsb2JhbHMuY2hlY2tzW3R5cGVdLCBmdW5jdGlvbihtYXRjaCkgewogICAgICAgICAgICAgICAgICAgIEFwcC5nbG9iYWxzLnJlcGxhY2VkU3RyaW5nc1t0eXBlXS5wdXNoKG1hdGNoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXBwLmdsb2JhbHMucGxhY2VIb2xkZXJzW3R5cGVdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgfTsKCiAgICAgICAgQXBwLnBpcGVNb2RzLmNvZGVmaXggPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIHJlcGxhY2VkID0gQXBwLmdsb2JhbHMucmVwbGFjZWRTdHJpbmdzLmJsb2NrLCBzdHI7CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVwbGFjZWQpIHsKICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvdFg5cE0zLzEgICAgICAgICAgICAgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvdFg5cE0zLzIgICAgICAgICAgICAgICAgIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvdFg5cE0zLzMKICAgICAgICAgICAgICAgIGlmICgvXmBbXl0rYCQvLnRlc3QocmVwbGFjZWRbaV0pKSByZXBsYWNlZFtpXSA9ICdcblxuJyArIC8oPyFgKSgoPyFgKVteXSkrLy5leGVjKHJlcGxhY2VkW2ldKVswXS5yZXBsYWNlKC8oLispL2csICcgICAgJDEnKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIEFwcC5waXBlTW9kcy5lZGl0ID0gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICBBcHAuZnVuY3MucG9wT3JpZ2luYWxzKCk7CgogICAgICAgICAgICAvLyBWaXN1YWxseSBjb25maXJtIGVkaXQgLSBTRSBtYWtlcyBpdCBlYXN5IGJlY2F1c2UgdGhlIGpRdWVyeSBjb2xvciBhbmltYXRpb24gcGx1Z2luIHNlZW1zIHRvIGJlIHRoZXJlIGJ5IGRlZmF1bHQKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuYm9keS5hbmltYXRlKHsgYmFja2dyb3VuZENvbG9yOiAnI2M4ZmZhNycgfSwgMTApOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5ib2R5LmFuaW1hdGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyB9LCAxMDAwKTsKCiAgICAgICAgICAgIC8vIExpc3Qgb2YgZmllbGRzIHRvIGJlIGVkaXRlZAogICAgICAgICAgICB2YXIgZmllbGRzID0ge2JvZHk6J2JvZHknLHRpdGxlOid0aXRsZSd9OwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBlZGl0aW5nIHJ1bGVzCiAgICAgICAgICAgIGZvciAodmFyIGogaW4gQXBwLmVkaXRzKSBmb3IgKHZhciBmaWVsZCBpbiBmaWVsZHMpIHsKICAgICAgICAgICAgICAgIGlmIChBcHAuY29uc3RzLnJlYXNvbnMudGlkeVRpdGxlID09IEFwcC5lZGl0c1tqXS5yZWFzb24gJiYgJ3RpdGxlJyAhPT0gZmllbGQpCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7ICAvLyBTa2lwIHRpdGxlLW9ubHkgZWRpdHMgaWYgbm90IGVkaXRpbmcgdGl0bGUuCiAgICAgICAgICAgICAgICB2YXIgZml4ID0gQXBwLmZ1bmNzLmZpeEl0KGRhdGFbZmllbGRdLCBBcHAuZWRpdHNbal0pOwogICAgICAgICAgICAgICAgaWYgKCFmaXgpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgaWYgKGZpeC5yZWFzb24gaW4gQXBwLmdsb2JhbHMucmVhc29ucykgQXBwLmdsb2JhbHMucmVhc29uc1tmaXgucmVhc29uXS5jb3VudCArPSBmaXguY291bnQ7CiAgICAgICAgICAgICAgICBlbHNlIEFwcC5nbG9iYWxzLnJlYXNvbnNbZml4LnJlYXNvbl0gPSB7IHJlYXNvbjpmaXgucmVhc29uLCBlZGl0SWQ6aiwgY291bnQ6Zml4LmNvdW50IH07CiAgICAgICAgICAgICAgICBkYXRhW2ZpZWxkXSA9IGZpeC5maXhlZDsKICAgICAgICAgICAgICAgIEFwcC5lZGl0c1tqXS5maXhlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJlbW92ZSBzaWxlbnQgY2hhbmdlIHJlYXNvbgogICAgICAgICAgICBkZWxldGUgQXBwLmdsb2JhbHMucmVhc29uc1tBcHAuY29uc3RzLnJlYXNvbnMuc2lsZW50XTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyByZWFzb25zLCBleGl0CiAgICAgICAgICAgIGlmIChBcHAuZ2xvYmFscy5yZWFzb25zID09IHt9KSByZXR1cm4gZmFsc2U7CgogICAgICAgICAgICAvLyBXZSBuZWVkIGEgcGxhY2UgdG8gc3RvcmUgdGhlIHJlYXNvbnMgYmVpbmcgYXBwbGllZCB0byB0aGUgc3VtbWFyeS4gCiAgICAgICAgICAgIHZhciByZWFzb25zID0gW107CiAgICAgICAgICAgIEFwcC5nbG9iYWxzLmNoYW5nZXMgPSAwOwoKICAgICAgICAgICAgZm9yICh2YXIgeiBpbiBBcHAuZ2xvYmFscy5yZWFzb25zKSB7CiAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCB0eXBlIG9mIGNoYW5nZSBtYWRlLCBhZGQgYSByZWFzb24gc3RyaW5nIHdpdGggdGhlIHJlYXNvbiB0ZXh0LAogICAgICAgICAgICAgICAgLy8gb3B0aW9uYWxseSB0aGUgcnVsZSBJRCwgYW5kIHRoZSBudW1iZXIgb2YgcmVwZWF0cyBpZiAyIG9yIG1vcmUuCiAgICAgICAgICAgICAgICByZWFzb25zLnB1c2goQXBwLmdsb2JhbHMucmVhc29uc1t6XS5yZWFzb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIChBcHAuZ2xvYmFscy5zaG93UnVsZXMgPyAnIFsnKyBBcHAuZ2xvYmFscy5yZWFzb25zW3pdLmVkaXRJZCArJ10nIDogJycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAoQXBwLmdsb2JhbHMuc2hvd0NvdW50cyA/ICgoQXBwLmdsb2JhbHMucmVhc29uc1t6XS5jb3VudCA+IDEpID8gJyAoJytBcHAuZ2xvYmFscy5yZWFzb25zW3pdLmNvdW50KycpJyA6ICcnKSA6ICcnKSApOwogICAgICAgICAgICAgICAgQXBwLmdsb2JhbHMuY2hhbmdlcyArPSBBcHAuZ2xvYmFscy5yZWFzb25zW3pdLmNvdW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgcmVhc29uU3RyID0gcmVhc29ucy5sZW5ndGggPyByZWFzb25zLmpvaW4oJzsgJykrJy4nIDogJyc7ICAvLyBVbmlxdWUgcmVhc29ucyBzZXBhcmF0ZWQgYnkgOyBhbmQgdGVybWluYXRlZCBieSAuCgogICAgICAgICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoJ3N1bW1hcnlPcmlnJykpIGRhdGEuc3VtbWFyeU9yaWcgPSBkYXRhLnN1bW1hcnkudHJpbSgpIC8vIFJlbWVtYmVyIG9yaWdpbmFsIHN1bW1hcnkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oW147XSlbLj8hOl0/JC8sIiQxOyIpOwogICAgICAgICAgICBpZiAoZGF0YS5zdW1tYXJ5T3JpZy5sZW5ndGgpCiAgICAgICAgICAgICAgICBkYXRhLnN1bW1hcnlPcmlnID0gZGF0YS5zdW1tYXJ5T3JpZyArICcgJzsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgcmVhc29uU3RyID0gcmVhc29uU3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVhc29uU3RyLnNsaWNlKDEpOyAgLy8gQ2FwIGZpcnN0IGxldHRlci4KCiAgICAgICAgICAgIGRhdGEuc3VtbWFyeSA9IGRhdGEuc3VtbWFyeU9yaWcgKyByZWFzb25TdHI7CiAgICAgICAgICAgIC8vIExpbWl0IHN1bW1hcnkgdG8gMzAwIGNoYXJzCiAgICAgICAgICAgIGlmIChkYXRhLnN1bW1hcnkubGVuZ3RoID4gMzAwKSBkYXRhLnN1bW1hcnkgPSBkYXRhLnN1bW1hcnkuc3Vic3RyKDAsMzAwLTMpICsgJy4uLic7CgogICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICB9OyAgIAogICAgICAgIAogICAgICAgIC8vIFBvcHVsYXRlIHRoZSBkaWZmCiAgICAgICAgQXBwLnBpcGVNb2RzLmRpZmYgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuZGlmZi5lbXB0eSgpLmFwcGVuZCgnPGRpdiBjbGFzcz0iZGlmZnRpdGxlIj4nICsgQXBwLmZ1bmNzLmRpZmYoQXBwLm9yaWdpbmFscy50aXRsZSwgQXBwLml0ZW1zLnRpdGxlLCB0cnVlKSArICc8L2Rpdj4nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iZGlmZmJvZHkiPicgKyBBcHAucGlwZU1vZHMucmVwbGFjZSh7Ym9keTpBcHAuZnVuY3MuZGlmZihBcHAub3JpZ2luYWxzLmJvZHksIEFwcC5pdGVtcy5ib2R5KX0sIHRydWUpLmJvZHkgKyAnPC9kaXY+Jyk7CiAgICAgICAgICAgIEFwcC5mdW5jcy5zaG93RGlmZigpOwogICAgICAgIH0KCiAgICAgICAgLy8gUmVwbGFjZSB0aGUgcHJldmlvdXNseSBvbWl0dGVkIGNvZGUKICAgICAgICBBcHAucGlwZU1vZHMucmVwbGFjZSA9IGZ1bmN0aW9uKGRhdGEsIGxpdGVyYWwpIHsKICAgICAgICAgICAgaWYgKCFkYXRhLmJvZHkpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBBcHAuZ2xvYmFscy5jaGVja3NyKSB7CiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgICAgICAgICBkYXRhLmJvZHkgPSBkYXRhLmJvZHkucmVwbGFjZShBcHAuZ2xvYmFscy5wbGFjZUhvbGRlckNoZWNrc1t0eXBlXSwgZnVuY3Rpb24obWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZSA9IEFwcC5nbG9iYWxzLnJlcGxhY2VkU3RyaW5nc1t0eXBlXVtpKytdOwogICAgICAgICAgICAgICAgICAgIGlmKGxpdGVyYWwgJiYgL2Jsb2NrfGxzZWMvLnRlc3QodHlwZSkpIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZnRlciA9IHJlcGxhY2UucmVwbGFjZSgvXlxuXG4vLCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXBlbmQgPSBhZnRlciAhPT0gcmVwbGFjZSA/ICc8c3BhbiBjbGFzcz0iYWRkIj5cblxuPC9zcGFuPjxzcGFuIGNsYXNzPSJkZWwiPmA8L3NwYW4+JyA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXBwZW5kICA9IGFmdGVyICE9PSByZXBsYWNlID8gJzxzcGFuIGNsYXNzPSJkZWwiPmA8L3NwYW4+JyA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIga2xhc3MgICA9IC9sc2VjLy50ZXN0KHR5cGUpID8gJyBjbGFzcz0ibGFuZy1ub25lIHByZXR0eXByaW50IHByZXR0eXByaW50ZWQiJyA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlcGVuZCArICc8cHJlJyArIGtsYXNzICsgJz48Y29kZT4nICsgYWZ0ZXIucmVwbGFjZSgvPC9nLCcmbHQ7JykucmVwbGFjZSgvXiAgICAvZ20sJycpICsgJzwvY29kZT48L3ByZT4nICsgYXBwZW5kOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihsaXRlcmFsICYmIC9xdW90ZS8udGVzdCh0eXBlKSkgcmV0dXJuICc8YmxvY2txdW90ZT4nICsgcmVwbGFjZS5yZXBsYWNlKC88L2csJyZsdDsnKS5yZXBsYWNlKC9ePi9nbSwnJykgKyAnPC9ibG9ja3F1b3RlPic7CiAgICAgICAgICAgICAgICAgICAgaWYobGl0ZXJhbCkgcmV0dXJuICc8Y29kZT4nICsgcmVwbGFjZS5yZXBsYWNlKC88L2csJyZsdDsnKS5yZXBsYWNlKC8oPzpeYHxgJCkvZywnJykgKyAnPC9jb2RlPic7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICB9OwogICAgICAgIAogICAgICAgIC8vIEhhbmRsZSBwaXBlIG91dHB1dAogICAgICAgIEFwcC5waXBlTW9kcy5vdXRwdXQgPSBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnRpdGxlLnZhbChkYXRhLnRpdGxlKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuYm9keS52YWwoZGF0YS5ib2R5LnJlcGxhY2UoL1xuezMsfS8sJ1xuXG4nKSk7CiAgICAgICAgICAgIEFwcC5zZWxlY3Rpb25zLnN1bW1hcnkudmFsKGRhdGEuc3VtbWFyeSk7CiAgICAgICAgICAgIEFwcC5nbG9iYWxzLnJvb3QuZmluZCgnLmFjdHVhbC1lZGl0LW92ZXJsYXknKS5yZW1vdmUoKTsKICAgICAgICAgICAgQXBwLnNlbGVjdGlvbnMuc3VtbWFyeS5jc3Moe29wYWNpdHk6MX0pOwogICAgICAgICAgICBBcHAuc2VsZWN0aW9ucy5idXR0b25JbmZvLnRleHQoQXBwLmdsb2JhbHMuY2hhbmdlcykuc2hvdygpOwogICAgICAgICAgICBTdGFja0V4Y2hhbmdlLk1hcmtkb3duRWRpdG9yLnJlZnJlc2hBbGxQcmV2aWV3cygpOwogICAgICAgIH07CgogICAgICAgIC8vIEluaXQgYXBwCiAgICAgICAgQXBwLmluaXQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGNvdW50ID0gMDsKICAgICAgICAgICAgdmFyIHRvb2xiYXJjaGsgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYoKytjb3VudCA9PT0gMTApIGNsZWFySW50ZXJ2YWwodG9vbGJhcmNoayk7CiAgICAgICAgICAgICAgICBpZighQXBwLmdsb2JhbHMucm9vdC5maW5kKCcud21kLWJ1dHRvbi1yb3cnKS5sZW5ndGgpIHJldHVybjsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodG9vbGJhcmNoayk7CiAgICAgICAgICAgICAgICBBcHAuZnVuY3MucG9wU2VsZWN0aW9ucygpOwogICAgICAgICAgICAgICAgQXBwLmZ1bmNzLmNyZWF0ZUJ1dHRvbigpOwogICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICByZXR1cm4gQXBwOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBBcHAuaW5pdCgpOwogICAgfQogICAgdHJ5IHsKICAgICAgICB2YXIgdGVzdCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKC8ucG9zdHMuKFxkKykuZWRpdC8pOwogICAgICAgIGlmKHRlc3QpIGV4dGVuZEVkaXRvcigkKCdmb3JtW2FjdGlvbl49Ii9wb3N0cy8nICsgdGVzdFsxXSArICciXScpKTsKICAgICAgICBlbHNlICQoZG9jdW1lbnQpLmFqYXhDb21wbGV0ZShmdW5jdGlvbigpIHsgCiAgICAgICAgICAgIHRlc3QgPSBhcmd1bWVudHNbMl0udXJsLm1hdGNoKC9wb3N0cy4oXGQrKS5lZGl0LWlubGluZS8pOwogICAgICAgICAgICBpZighdGVzdCkgewogICAgICAgICAgICAgICAgdGVzdCA9IGFyZ3VtZW50c1syXS51cmwubWF0Y2goL3Jldmlldy5pbmxpbmUtZWRpdC1wb3N0Lyk7CiAgICAgICAgICAgICAgICBpZighdGVzdCkgcmV0dXJuOwogICAgICAgICAgICAgICAgdGVzdCA9IGFyZ3VtZW50c1syXS5kYXRhLm1hdGNoKC9pZD0oXGQrKS8pOwogICAgICAgICAgICAgICAgaWYoIXRlc3QpIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBleHRlbmRFZGl0b3IoJCgnZm9ybVthY3Rpb25ePSIvcG9zdHMvJyArIHRlc3RbMV0gKyAnIl0nKSk7CiAgICAgICAgfSk7CiAgICAgICAgaWYoJCgnI3Bvc3QtZm9ybScpLmxlbmd0aCkgJCgnI3Bvc3QtZm9ybScpLmVhY2goZnVuY3Rpb24oKXsgZXh0ZW5kRWRpdG9yKCQodGhpcykpOyB9KTsKICAgICAgICAvLyBUaGlzIGlzIHRoZSBzdHlsaW5nIGZvciB0aGUgZGlmZiBvdXRwdXQuCiAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPHN0eWxlPicgKwogICAgICAgICAgICAgICAgICAgICAgICAgJy5kaWZmdGl0bGUgeycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICBjb2xvcjogcmdiKDM0LCAzNCwgMzQpOycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICBmb250LXNpemU6IDI0cHg7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIGxpbmUtaGVpZ2h0OiAzNnB4OycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICBtYXJnaW4tYm90dG9tOiAxMnB4OycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJ30nICsKICAgICAgICAgICAgICAgICAgICAgICAgICcuZGlmZmJvZHkgeycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIGZvbnQtZmFtaWx5OiAiY291cmllciBuZXciLCAibHVjaWRhIHNhbnMgdHlwZXdyaXRlciIsIG1vbm8sIG1vbm9zcGFjZScgKyAKICAgICAgICAgICAgICAgICAgICAgICAgICd9JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnLmFkZCB7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnICAgIGJhY2tncm91bmQ6ICNDRkM7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAnfScgKwogICAgICAgICAgICAgICAgICAgICAgICAgJy5kZWwgeycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJyAgICBiYWNrZ3JvdW5kOiAjRkNDOycgKwogICAgICAgICAgICAgICAgICAgICAgICAgJ30nICsKICAgICAgICAgICAgICAgICAgICAgICAgICc8L3N0eWxlPicpOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgfQp9KSgpOwoKLyogCiAgKiBUbyBUaXRsZSBDYXNlIDIuMSDigJMgaHR0cDovL2luZGl2aWRlZC5jb20vY29kZS90by10aXRsZS1jYXNlLwogICogQ29weXJpZ2h0IMKpIDIwMDjigJMyMDEzIERhdmlkIEdvdWNoLiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuCiAqLwoKU3RyaW5nLnByb3RvdHlwZS50b1RpdGxlQ2FzZSA9IGZ1bmN0aW9uKCl7CiAgdmFyIHNtYWxsV29yZHMgPSAvXihhfGFufGFuZHxhc3xhdHxidXR8Ynl8ZW58Zm9yfGlmfGlufG5vcnxvZnxvbnxvcnxwZXJ8dGhlfHRvfHZzP1wuP3x2aWEpJC9pOwoKICByZXR1cm4gdGhpcy5yZXBsYWNlKC9bQS1aYS16MC05XHUwMEMwLVx1MDBGRl0rW15ccy1dKi9nLCBmdW5jdGlvbihtYXRjaCwgaW5kZXgsIHRpdGxlKXsKICAgIGlmIChpbmRleCA+IDAgJiYgaW5kZXggKyBtYXRjaC5sZW5ndGggIT09IHRpdGxlLmxlbmd0aCAmJgogICAgICBtYXRjaC5zZWFyY2goc21hbGxXb3JkcykgPiAtMSAmJiB0aXRsZS5jaGFyQXQoaW5kZXggLSAyKSAhPT0gIjoiICYmCiAgICAgICh0aXRsZS5jaGFyQXQoaW5kZXggKyBtYXRjaC5sZW5ndGgpICE9PSAnLScgfHwgdGl0bGUuY2hhckF0KGluZGV4IC0gMSkgPT09ICctJykgJiYKICAgICAgdGl0bGUuY2hhckF0KGluZGV4IC0gMSkuc2VhcmNoKC9bXlxzLV0vKSA8IDApIHsKICAgICAgcmV0dXJuIG1hdGNoLnRvTG93ZXJDYXNlKCk7CiAgICB9CgogICAgaWYgKG1hdGNoLnN1YnN0cigxKS5zZWFyY2goL1tBLVpdfFwuLi8pID4gLTEpIHsKICAgICAgcmV0dXJuIG1hdGNoOwogICAgfQoKICAgIHJldHVybiBtYXRjaC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG1hdGNoLnN1YnN0cigxKTsKICB9KTsKfTsKCi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL0VhbW9uTmVyYm9ubmUvYS12cy1hbgp2YXIgQXZzQW5TaW1wbGU9ZnVuY3Rpb24obil7ZnVuY3Rpb24gaShuKXt2YXIgcj1wYXJzZUludCh0LDM2KXx8MCxmPXImJnIudG9TdHJpbmcoMzYpLmxlbmd0aCx1LGU7Zm9yKG4uYXJ0aWNsZT10W2ZdPT0iLiI/ImEiOiJhbiIsdD10LnN1YnN0cigxK2YpLHU9MDt1PHI7dSsrKWU9blt0WzBdXT17fSx0PXQuc3Vic3RyKDEpLGkoZSl9dmFyIHQ9IjJoLiMyLmE7aTsmMS5OOyo0LmE7ZTtpO287LzkuYTtlO2gxLm8uaTtsMS4vO24xLm8ubztyMS5lLnMxLi87MDEuODsxMi4xYTswMS4wOzEyLjg7OTsyLjMxLjc7NC41LjYuNy44LjkuOGE7MGEuMDsxOzI7Mzs0OzU7Njs3Ozg7OTsxMTsgLjIyOyAu4oCTLjMxOyAuNDI7IC7igJMuNTU7IC4sLmguay5tLjYyOyAuay43MjsgLuKAky44MjsgLiwuOTI7IC7igJMuODs8Mi5tMS5kO287PTEuPTEuRTtAO0E2O0ExO0ExLlM7aTE7cjE7by5tMTthMTtyMTsgLm4xO2QxO2ExO2wxO3UxO2MxLmkxLmExLm47czE7dDE7dTE7cjE7aTE7YTE7cy50MTtoMTtsMTtlMTt0MTtlMS5zO0IyLmgyLmExLmkxO3IxO2Euw6E7bzEucjEuZDEuIDtDMy5hMS5pMS5zMS5zLmg0LmEyLmkxLnMxO2UubzEuaTtsMS7DoTtyMS5vMS7DrTt1Mi5pO3IxLnIxLmE7bzEubjEuZzEuajtENy5hMS5vMS5xO2kyLm4xLmExLnM7bzEudDt1MS5hMS5sMS5jO8OhMS4gO8OyO8O5O8awO0U3O1UxO1IuYjE7bzE7bDE7aS5tMTtwMTtlMTt6Lm4xO2ExO20uczE7cDUuYTEuYztlO2g7bztyO3UxLmwxO28udzE7aS5GMTEuIDssOy47LzswOzE7MjszOzQ7NTs2OzcxLjAuODs5O0FlO0IuQy5ELkYuSTIuTC5SLksuTC5NLk4uUC5RLlIuUy5ULkI7QzE7TS5EO0UyLkM7STtGMTtyLkg7STMuQTE7VC5SMS4gO1U7SjtMMy5DO047UDtNO08xLiA7UDE7Li5SMi5BMS4gO1M7UztUMTtTLlUyLiw7LjtYO1kxO1YuYztmMS5vLmg7z4M7RzcuZTEucjEubjEuZTtoMS5hMy5lO2k7bztpMS5hMS5uMS5nO28yLmYxLiA7dDEudDEuIDtyMS5pMS5hO3cxLmExLnIxLnI7w7o7SHMuIDsmOyw7LjI7QS5JLjE7MjszOzU7NztCMTtQLkM7RDtGO0c7SDE7SS5JNjtDLkcuTi5QLlMxLkQ7VC5LMS45O0w7TTE7Li5OO08yLiA7VjtQO1IxO1QuUzEuRi5UO1Y7ZTIuaTEucjtyMS5yMS5uO28yLm42O2QuZTEucztnLmsubzI7bC5yMTtpMS5mO3YudTEucjtJMztJMjsqLkkubjE7ZDE7ZTE7cDE7ZTE7bjE7ZDI7ZTE7bjE7YzE7aS7Dqi5zMTtsMTthMTtuMTtkMTtzLkoxLmkxLmExLm87THkuIDssOy47MTsyOzM7NDs4O0EzLiA7UDtYO0I7QztEO0UyLiA7RDtGMTtULkc7SDEuRC5JMS5SO0w7TTtOO1A7UjtTMTttLlQ7VTEuIDtWMTtDLlcxLlQ7WjteO2ExLm8xLmkxLmc7bzEuYzEuaDEuYTE7Yi5wO3UxLnMxLmgxO28u4buZO00xNS4gOyY7LDsuMTtBMTsuMTtTLi87MTsyOzM7NDs1OzY7Nzs4O0FpO0IuQy5ELkYuRy5KLkwuTS5OLlAuUi5TLlQuVi5XLlguWS5aLkIxO1MxO1QuQztEO0UzLlAxO1MuVztuO0Y7RztIO0k0LiA7NTs2O1QxO00uSztMO007TjtPMS5VO1A7UTtSO1M7VDE7Ui5VMi4gO1Y7VjtYO2IxLnUxLm07ZjtoO28yLkQxLmUuVTE7Li5wMS4zO3MxLmM7TnkuIDsrOy4xLkUuNDs3Ozg7OjtBMy5BMTtGLkk7UzEuTDtCO0M7RDtFMy5BO0g7UzEuIDtGMTtVLkc7SDtJNy5DLkQxLiA7Sy5MLk4uTy5TLks7TDtNMTtNLk4yLlI7VDtQMS5PMS5WMS4vMS5CO1IyO0ouVC5TMTtXLlQxO0wxLkQuVTEuUztWO1cyLkE7TzEuSDtYO1kzLkMxLkw7UDtVO2ExLnMxLmExLm47dDEuaDt2O8KyO8OXO081O04xO0UubDE7di5uMjtjMS5lLmUxLmk7bzE7cC51MTtpLlAxLmgyLmkxLmE7bzIuYjI7aS5vLmk7UTEuaTEubjEuZzEueDtSei4gOyY7LDsuMTtKLi87MTs0OzY7QTMuIDsuO0YxO1QuQjE7Ui5DO0Q7RTMuIDtTMS5QO1U7RjtHO0gxLlM7STIuQTtDMS4gO0o7SztMMTtQLk01OzEuMi4zLjUuNi5OO08yLkg7VDI7QS5PLlA7UTtSMTtGLlM0OywuLi4/LlQuVDtVNDtCLk0uTi5TLlY7WDtjO2YxO00xLi4uaDIuQTtCO8OyO1MxMS4gOyY7LDsuNC5FO007TztUMS4uMy5CO0Q7TTsxOzM7NDs1OzY7ODs5O0EzLiA7ODtTMjtFLkkuQjtDMy5BMS4gO1IyLkEuVS5UO0Q7RTYuIDs1O0MzO0EuTy5SLkkxLkYuTztVO0YzOyYuSC5PMS5TLkcxO0QuSDMuMjszO0w7STIuIDtTMS5PLksyLkkuWS5MMztBMi4gOy47STEuIDtPLk0zO0ExLiA7SS5VMS5SLk41LkEuQzMuQS5CLkMuRS5GLk8uTzUuIDtBMS5JO0U7UzE7VS5WO1A3O0E3O0EuQy5ELk0uTi5SLlMuRTEuIDtJNDtDLkQuTi5SLkwxO08uTy5VLlkuUTEuIDtSO1MxO1cuVDkuQTEuIDtDO0Q7RjtJO0w7TTtTO1Y7VTcuQi5MLk0uTi5QLlIuUy5WO1cxLlI7WDEuTTtoMS5pMS5nMS5hMS5vO3AxLmkxLm8xO24udDIuQjtpMS5jMS5pO1Q0LmEyLmkyLmcxLmEuczEuYzt2MS5lMS5zO2UxLmExLm0xLnA7dTEuaTIubDtyO8OgO1VtLi4xLk4xLi4xLkM7LzEuMTsxMS4gLjIxLjE7TDEuVDtNMS5OO040LkMxLkw7RDIuIC5QLks7UjEuIC5hO2IyO2EuaS5kO2cxLmw7aTEuZy5sMjtpLnkubTtuby4gO2ExLm4uYjtjO2Q7ZTE7cy5mO2c7aDtpMi5kO247ajtrO2w7bTtuO287cDtxO3I7czt0O3U7djt3O3A7cjM7YS5lLnUxLms7czMuIDtoO3QxO3IudDQuaDtuO3I7dDt4O3o7w607VzIuUDEuOjQuQTEuRjtJMi5CO04xLkguTzEuVjtSMS5GMS5DMi5OLlUuaTEuazEuaTEuRTEubDEuaTtYNzthLmUuaC5pLm8udS55LlkzLmUxLnQxLmg7cDtzO1s1LkE7RTtJO2E7ZTtfMi5fMS5pO2U7YDMuYTtlO2k7YTc7IC5tMTthMTtyMS4gLm4xO2QyOyAuxJsucDE7cjE7dC5yMTt0MTvDrS51MTtzMTtzMTtpMS4gLnYxO3UxO3QuZDMuYTEuczEuIDtlMi5tMS4gO3IxLiA7aTIuYzEuaDEuIDtlMS5zMS5lMi5tO3I7ZTg7YzE7bzE7bjE7bzE7bTE7aTE7YS5lMTt3LmwxO2kxO3QxO2UxO2kubTE7cDE7ZTE7ei5uMTt0MTtlMTtuMTtkLnMyO2ExLiAudDQ7YTE7IC5lMTsgLmkxO20xO2ExO3IucjE7dTEudC51MS5wMS4gO3cuZjMuIDtNO3kxLmk7aDkuIDssOy47QzthMS51MS50MTtiLmUyLmkxLnIxO2EucjEubTEuYTEubjtvNC5tMi5hMTsgLm07bjg7IC5iLmQuZTM7IC5kLnkuZy5pLmsudi5yMS5zMS4gO3UxLnI7cjEuIDt0MTt0MTtwMTs6Lmk2O2IxO24uZTE7ci5uMjtmMjtsMTt1MTvDqi5vMTthLnMxO3QxO2ExO2wxO2EucjE7IC5zMTsgLnUuazEudTEuIDtsMy5jMS5kO3MxLiA7djEuYTttYS4gOyw7UjtiMS5hLmUxLmkxLm47ZjtwO3QxLmEudTEubDEudDEuaTEuYzEuYTEubTEucDEuaTvDlztuNi4gO1Y7VztkMTsgLnQ7w5c7bzg7YzI7aDE7by51MTtwLmQxO2QxO3kuZjE7IC5nMTtnMTtpLm5vLiA7JzssOy87YTtiO2MxLm87ZDtlMi5pO3I7ZjtnO2k7bDttO247bztyO3M7dDt1O3c7eTt6O+KAkztyMTtpMTtnMTtlLnQxO3IxLnM7dTE7aS5yMy4gOyY7ZjtzOS4sOz87UjtmMi5lLm8uaTEuYzEuaDtsMS4gO3AyLjM7aTEuIDtyMS5nO3YzLmEuZS5pLnQyLkE7Uzt1YzsgLi4uYjIuZTtsO2YuazIuYTtpO20xO2ExLiAubjM7YTM7IC5uNS5hO2M7bjtzO3Q7cjE7eS5lMjsgLmkuaTguYzIubzEucjEucDt1MS5tO2QxO2kxLm87ZzEubjtsMS5sO20xO28ubjtzMS5zO3YxLm8xO2MucjU7YS5lLmkubC5vLnMzLiA7aDt1MS5yMjtlLnAzO2EuZS5pLnQyLm07dDt2LncxLmE7eGIuIDsnOyw7Ljs4O2I7aztsO20xO2EudDt5MS4gO3kxLmw7ezEuYTt8MS5hO8KjMS44O8OAO8OBO8OEO8OFO8OGO8OJO8OSO8OTO8OWO8OcO8OgO8OhO8OmO8OoO8OpMTt0My5hO287dTvDrTvDtjvDvDE7IC7EgDvEgTvEqzvEsDvFjDvFjTvFkzvOqTvOsTvOtTvPiTvPtTvQtTvigJMyLmU7aTvihJM7IjtyZXR1cm4gaShuKSx7cmF3Om4scXVlcnk6ZnVuY3Rpb24odCl7dmFyIGk9bixmPTAsdSxyO2RvIHI9dFtmKytdO3doaWxlKCJcIuKAmOKAmeKAnOKAnSQnIi5pbmRleE9mKHIpPj0wKTtmb3IoOzspe2lmKHU9aS5hcnRpY2xlfHx1LGk9aVtyXSwhaSlyZXR1cm4gdTtyPXRbZisrXXx8IiAifX19fSh7fSkKCi8vIEFkYXB0ZWQgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS82OTY5NDg2LzE2Nzc5MTIKZnVuY3Rpb24gZXNjYXBlVGFnKHRhZykgewogICAgLy8gU2VlIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IveVc5Y0Q0LzEKICAgIHZhciByZXRhZyA9IHRhZy5yZXBsYWNlKC8oPzooXC0pfChbKy4jXSkpL2csCiAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChtYXRjaCwgaHlwaGVuLCBvdGhlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWQgPSAoaHlwaGVuKSA/ICJbIFxcLV0iIDogIlxcIittYXRjaDsKICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlc2NhcGVkOwogICAgICAgICAgICAgICAgICAgICB9KTsKICAgIHJldHVybiAiKD86XFxzfFxcYnwkKSIgKyByZXRhZyArICIoPzpcXHN8XFxifCQpIjsgIC8vIGhhY2sgLSBlbmNsb3NlIHRhZyBpbiByZWdleHAgYm91bmRhcnkgY2hlY2tzLiBXQk4gdG8gZG8gdGhpcyBpbiB0aGUgdGFnbGlzdCByZWdleHAuCn0K"},{"name":"Current Completed Reviews in Queue","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["http://stackoverflow.com/review/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831477},"enabled":true,"position":15,"file_url":"https://raw.githubusercontent.com/SO-Close-Vote-Reviewers/UserScripts/master/CurrentQueueReviewsDone.user.js","uuid":"1ae23fcb-e8b9-43e0-bacc-14e8c3ed4798","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBDdXJyZW50IENvbXBsZXRlZCBSZXZpZXdzIGluIFF1ZXVlCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3VzZXJzLzU3ODQxMS9yZW5lCi8vIEB2ZXJzaW9uICAgICAgMC4yCi8vIEBkZXNjcmlwdGlvbiAgQWRkcyB0aGUgY3VycmVudCBudW1iZXIgb2YgcmV2aWV3cyB5b3UgaGF2ZSBjb21wbGV0ZWQgaW4gdGhlIHF1ZXVlIGluIGZyb250IG9mIHlvdXIgdG90YWwgcmV2aWV3cyBvbiB0aGUgcmV2aWV3IHRhYgovLyBAYXV0aG9yICAgICAgIFJlbmUsIFNPQ1ZSCi8vIEBtYXRjaCAgICAgICAgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3Jldmlldy8qCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCi8vIHRoaXMgc2NyaXB0IGNvbWVzIGZyb20gdGhlIHJlcXVlc3QgaGVyZTogaHR0cDovL21ldGEuc3RhY2tleGNoYW5nZS5jb20vcS8yNTA1ODAvMjEzNjcxCi8vIHJlbmUgb3JpZ2luYWxseSBtYWRlIHRoaXM6IGh0dHA6Ly9tZXRhLnN0YWNrZXhjaGFuZ2UuY29tL2EvMjUwNjIyLzIxMzY3MQoKKGZ1bmN0aW9uKCQsIHdpbmRvdykgewoKICAgIHZhciBwYXJ0cywKICAgICAgICBzdGF0c3VybCwKICAgICAgICBjdXJyZW50aHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLAogICAgICAgIC8vIGhlcmUgd2UgcHV0IG91ciBzdGF0CiAgICAgICAgc3RhdCA9ICQoJzxkaXY+PC9kaXY+JykKICAgICAgICAuaHRtbCgnLi4uJm5ic3A7LyZuYnNwOycpCiAgICAgICAgLmNzcygnZmxvYXQnLCdsZWZ0JykKICAgICAgICAuY3NzKCdwYWRkaW5nLXRvcCcsJzEzcHgnKTsKCiAgICBmdW5jdGlvbiBidWlsZFVybCgpIHsKICAgICAgICAvLyBidWlsZCB0aGUgc3RhdHMgdXJsCiAgICAgICAgcGFydHMgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKTsKICAgICAgICBpZiAocGFydHMubGVuZ3RoPjMpIHsKICAgICAgICAgICBwYXJ0c1twYXJ0cy5sZW5ndGgtMV0gPSAnc3RhdHMnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBhcnRzLnB1c2goJ3N0YXRzJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcvJyk7CiAgICB9CgogICAgc3RhdHN1cmwgPSBidWlsZFVybCgpOwoKICAgIC8vIGludGVnYXRlIGluIHRoZSByZXZpZXcgcGFnZQogICAgJCgnI2JhZGdlLXByb2dyZXNzJykucHJlcGVuZChzdGF0KTsKCiAgICAvLyBnZXQgdGhlIChmdWxsYmxvd24pIHN0YXRzIHBhZ2UgYW5kIGZpbmQgeW91ciBvd24gc3RhdAogICAgZnVuY3Rpb24gcmVmcmVzaHN0YXQoKSB7CiAgICAgICAgJC5nZXQoc3RhdHN1cmwsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIHZhciBodG1sID0gJChkYXRhKSwKICAgICAgICAgICAgICAgIHRkID0gaHRtbC5maW5kKCd0ZC5yZXZpZXctc3RhdHMtY291bnQtY3VycmVudC11c2VyOmZpcnN0Jyk7CiAgICAgICAgICAgIC8vIHJlcGxhY2Ugb3VyIGN1cnJlbnQgc3RhdCB3aXRoIHRoZSBqdXN0IGxvYWRlZCBvbmUKICAgICAgICAgICAgc3RhdC5odG1sKHRkLnRleHQoKSArICcmbmJzcDsvJm5ic3A7Jyk7ICAgIAogICAgICAgIH0pLmZhaWwoZnVuY3Rpb24ocHJvbSwgZXJyb3IsIG1zZykgewogICAgICAgICAgICBkZWJ1Z2dlcjsKICAgICAgICAgICAgaWYgKG1zZyA9PT0gJ05vdCBGb3VuZCcpIHsKICAgICAgICAgICAgICAgIC8vIHRoZSB1cmwgaXMgbm90IGNvcnJlY3QsIHRyeSBhIG5ldyBvbmUKICAgICAgICAgICAgICAgIHN0YXRzdXJsID0gYnVpbGRVcmwoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIC8vIGNoZWNrIHJlZ3VsYXJseSAoZXZlcnkgNSBzZWNvbmRzKSBpZiB3ZSBkb25lIGEgcmV2aWV3IHlldAogICAgd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBpZiB0aGUgdXJsIGNoYW5nZWQsIGxldHMgZ2V0IHRoZSBuZXcgc3RhdAogICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZiAhPT0gY3VycmVudGhyZWYpIHsKICAgICAgICAgICAgY3VycmVudGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgcmVmcmVzaHN0YXQoKTsKICAgICAgICB9CiAgICB9LCA1MDAwKTsgLy8gbm93IDUgc2Vjb25kcyBiZWNhdXNlIHdlIGhhcmRseSBldmVyIHJldmlldyBxdWlja2VyIHRoYW4gdGhhdAogICAgcmVmcmVzaHN0YXQoKTsgLy8gcnVuIG9uY2UgZm9yIGFuIGluaXRpYWwgdmFsdWUKCn0oJCB8fCB1bnNhZmVXaW5kb3cuJCwgd2luZG93IHx8IHVuc2FmZVdpbmRvdykpOwo="},{"name":"(SE) Customize help menu","options":{"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"user_agent":"","override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.askubuntu.com/*","*://*.mathoverflow.net/*","*://*.serverfault.com/*","*://*.stackapps.com/*","*://*.stackexchange.com/*","*://*.stackoverflow.com/*","*://*.superuser.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]}},"storage":{"data":{"helpSE_v1":"s{\"help_blank\":false,\"remove_help\":false,\"menu\":[{\"name\":\"Moderation Tools\",\"url\":\"/tools\"},{\"name\":\"NATO\",\"url\":\"/tools/new-answers-old-questions\"}]}"},"ts":1456720105784},"enabled":true,"position":16,"file_url":"https://gist.github.com/raw/a539c1905608b253fcb6/CustomizeHelpMenu.user.js","uuid":"098ebad5-b95b-472e-be23-361868277072","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAoU0UpIEN1c3RvbWl6ZSBoZWxwIG1lbnUKLy8gQG5hbWVzcGFjZSAgICBzdGFja2FwcHMuY29tL3VzZXJzLzEwNTkwL2JyYXNvZmlsbwovLyBAdmVyc2lvbiAgICAgIDEuMAovLyBAZGVzY3JpcHRpb24gIFRoYW5rcyBmb3IgdGhlIGhlbHAsIGJ1dCBubyB0aGFua3MsIEkgd2FudCB0aGUgaGVscCBmb3IgbXlzZWxmIDpECi8vIEBpY29uICAgICAgICAgaHR0cDovL2kuc3RhY2suaW1ndXIuY29tL2F0NjVuLnBuZwovLyBAaG9tZXBhZ2UgICAgIGh0dHA6Ly9zdGFja2FwcHMuY29tL3EvNDkyMS8xMDU5MAovLyBAYXV0aG9yICAgICAgIGJyYXNvZmlsbwovLyBAY29weXJpZ2h0ICAgIDIwMTQsIFJvZG9sZm8gQnVhaXogKGh0dHA6Ly9zdGFja2FwcHMuY29tL3VzZXJzLzEwNTkwL2JyYXNvZmlsbykKLy8gQGxpY2Vuc2UgTUlUICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUCi8vIEBtYXRjaCAgICAgICAgKjovLyouYXNrdWJ1bnR1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyoubWF0aG92ZXJmbG93Lm5ldC8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouc2VydmVyZmF1bHQuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5zdGFja2FwcHMuY29tLyoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5zdGFja2V4Y2hhbmdlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouc3RhY2tvdmVyZmxvdy5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly8qLnN1cGVydXNlci5jb20vKgovLyBAdXBkYXRlVVJMICAgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3Jhdy9hNTM5YzE5MDU2MDhiMjUzZmNiNi9DdXN0b21pemVIZWxwTWVudS51c2VyLmpzCi8vIEBkb3dubG9hZFVSTCAgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmF3L2E1MzljMTkwNTYwOGIyNTNmY2I2L0N1c3RvbWl6ZUhlbHBNZW51LnVzZXIuanMKLy8gQGdyYW50ICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vID09L1VzZXJTY3JpcHQ9PQoKLyoqCiAqIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIAogKgogKiBJY29ucyBmcm9tIGh0dHBzOi8vd3d3Lmljb25maW5kZXIuY29tLwogKgogKiBLdWRvcyB0byBCcm9jayBBZGFtcyBhbmQgYWxsIGhpcyBHTSBhbnN3ZXJzIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS90YWdzL2dyZWFzZW1vbmtleS90b3B1c2VycwogKgogKiBqUXVlcnkgcGx1Z2luIFJlcGVhdGFibGUgRmllbGRzIGJ5IFJoeXp6IGh0dHBzOi8vZ2l0aHViLmNvbS9SaHl6ei9yZXBlYXRhYmxlLWZpZWxkcwogKgogKiAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAKICovCgp2YXIganF1aV91cmwgPSAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvanF1ZXJ5dWkvMS4xMC40L2pxdWVyeS11aS5taW4uanMnOwp2YXIgc2VuZExTdG9yYWdlID0gR01fZ2V0VmFsdWUoImhlbHBTRV92MSIpOwoKaWYoIHdpbmRvdy5sb2NhdGlvbi5oYXNoICkgLy8gcHJldmVudHMgQWpheCBidWcgd2hlbiBVUkwgaGFzIGEgaGFzaAogICAgc2V0VGltZW91dChmdW5jdGlvbigpeyBoZWxwX3NlX2FkZF9qcXVlcnkoIHN0YXJ0X3VwICk7IH0sIDMwMDAgKTsKZWxzZQogICAgaGVscF9zZV9hZGRfanF1ZXJ5KCBzdGFydF91cCApOwogICAgCi8qKgogKiBTYXZlIEdNIFN0b3JhZ2UKICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQyNTU0NDAvMTI4NzgxMgogKi8Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgKCJtZXNzYWdlIiwgcmVjZWl2ZVNhdmVNZXNzYWdlLCBmYWxzZSk7CmZ1bmN0aW9uIHJlY2VpdmVTYXZlTWVzc2FnZSAoIGV2ZW50ICkgewogICAgaWYgKCAhIGV2ZW50LmRhdGEgIHx8ICAhIGV2ZW50LmRhdGEucG9zdCApCiAgICAgICAgcmV0dXJuOyAvLyAtLSBub3Qgb3VyIGRhdGEKCiAgICB2YXIgc2FmZVZhbHVlID0gSlNPTi5zdHJpbmdpZnkgKGV2ZW50LmRhdGEucG9zdCk7CiAgICBHTV9zZXRWYWx1ZSAoImhlbHBTRV92MSIsIHNhZmVWYWx1ZSk7Cn0KCi8qKgogKiBPdXIgdGhpbmcKICovCmZ1bmN0aW9uIHN0YXJ0X3VwKCBsb2NhbFN0b3JlICkgewogICAgLyoqCiAgICAgKiBqUXVlcnkgUmVwZWF0YWJsZSBGaWVsZHMgdjEuMS40CiAgICAgKiBodHRwOi8vd3d3LnJoeXp6LmNvbS9yZXBlYXRhYmxlLWZpZWxkcy5odG1sCiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTQgUmh5enoKICAgICAqIExpY2Vuc2UgTUlUCiAgICAgKgogICAgICogQHJlcXVpcmUgd2FzIG5vdCB3b3JraW5nIG9uIEdNCiAgICAgKi8KICAgIChmdW5jdGlvbihlKXtlLmZuLnJlcGVhdGFibGVfZmllbGRzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkodCl7ZShyLndyYXBwZXIsdCkuZWFjaChmdW5jdGlvbih0LG4pe3ZhciBzPXRoaXM7dmFyIG89ZShzKS5jaGlsZHJlbihyLmNvbnRhaW5lcik7CiAgICAgICAgZShvKS5jaGlsZHJlbihyLnRlbXBsYXRlKS5oaWRlKCkuZmluZCgiOmlucHV0IikuZWFjaChmdW5jdGlvbigpeyQodGhpcykucHJvcCgiZGlzYWJsZWQiLHRydWUpfSk7ZShzKS5vbigiY2xpY2siLHIuYWRkLGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgdmFyIG49ZShlKG8pLmNoaWxkcmVuKHIudGVtcGxhdGUpLmNsb25lKCkucmVtb3ZlQ2xhc3Moci50ZW1wbGF0ZS5yZXBsYWNlKCIuIiwiIikpWzBdLm91dGVySFRNTCk7JChuKS5maW5kKCI6aW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7alF1ZXJ5KHRoaXMpLnByb3AoImRpc2FibGVkIixmYWxzZSl9KTsKICAgICAgICBpZih0eXBlb2Ygci5iZWZvcmVfYWRkPT09ImZ1bmN0aW9uIil7ci5iZWZvcmVfYWRkKG8pfXZhciBzPWUobikuZmFkZUluKCkuYXBwZW5kVG8obyk7aWYodHlwZW9mIHIuYWZ0ZXJfYWRkPT09ImZ1bmN0aW9uIil7ci5hZnRlcl9hZGQobyxzKX1pKHMpfSk7CiAgICAgICAgZShzKS5vbigiY2xpY2siLHIucmVtb3ZlLGZ1bmN0aW9uKHQpe3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIG49ZSh0aGlzKS5wYXJlbnRzKHIucm93KS5maXJzdCgpO2lmKHR5cGVvZiByLmJlZm9yZV9yZW1vdmU9PT0iZnVuY3Rpb24iKXtyLmJlZm9yZV9yZW1vdmUobyxuKX1uLmZhZGVPdXQoMTUwLCBmdW5jdGlvbigpIHsgJCh0aGlzKS5yZW1vdmUoKTsgfSk7CiAgICAgICAgaWYodHlwZW9mIHIuYWZ0ZXJfcmVtb3ZlPT09ImZ1bmN0aW9uIil7ci5hZnRlcl9yZW1vdmUobyl9fSk7aWYoci5pc19zb3J0YWJsZT09PXRydWUmJnR5cGVvZiBlLnVpIT09InVuZGVmaW5lZCImJnR5cGVvZiBlLnVpLnNvcnRhYmxlIT09InVuZGVmaW5lZCIpewogICAgICAgIHZhciB1PXIuc29ydGFibGVfb3B0aW9ucyE9PW51bGw/ci5zb3J0YWJsZV9vcHRpb25zOnt9O3UuaGFuZGxlPXIubW92ZTtlKHMpLmZpbmQoci5jb250YWluZXIpLnNvcnRhYmxlKHUpfX0pfWZ1bmN0aW9uIHModCxuKXsKICAgICAgICB2YXIgaT1lKHQpLmNoaWxkcmVuKHIucm93KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hJCh0aGlzKS5oYXNDbGFzcyhyLnRlbXBsYXRlLnJlcGxhY2UoIi4iLCIiKSl9KS5sZW5ndGg7ZSgiKiIsbikuZWFjaChmdW5jdGlvbigpewogICAgICAgIGUuZWFjaCh0aGlzLmF0dHJpYnV0ZXMsZnVuY3Rpb24oZSx0KXt0aGlzLnZhbHVlPXRoaXMudmFsdWUucmVwbGFjZSgve3tyb3ctY291bnQtcGxhY2Vob2xkZXJ9fS8saS0xKX0pfSl9dmFyIG49e3dyYXBwZXI6Ii53cmFwcGVyIixjb250YWluZXI6Ii5jb250YWluZXIiLAogICAgICAgIHJvdzoiLnJvdyIsYWRkOiIuYWRkIixyZW1vdmU6Ii5yZW1vdmUiLG1vdmU6Ii5tb3ZlIix0ZW1wbGF0ZToiLnRlbXBsYXRlIixpc19zb3J0YWJsZTp0cnVlLGJlZm9yZV9hZGQ6bnVsbCxhZnRlcl9hZGQ6cyxiZWZvcmVfcmVtb3ZlOm51bGwsCiAgICBhZnRlcl9yZW1vdmU6bnVsbCxzb3J0YWJsZV9vcHRpb25zOm51bGx9O3ZhciByPWUuZXh0ZW5kKG4sdCk7aSh0aGlzKX19KSgkKQogICAKICAgIC8qKgogICAgICogSW5pdCBzb21lIHZhcnMKICAgICAqLwogICAgdmFyICR1c2VyTWVudSwKICAgICAgICAkc2V0QmxhbmtNZW51LAogICAgICAgICRyZW1vdmVIZWxwQ2VudGVyLAogICAgICAgIC8vIFJlcGVhdGFibGUgZmllbGRzIEhUTUwgYW5kIENTUyBiYXNlIGF0IGh0dHA6Ly9qc2ZpZGRsZS5uZXQvYnJhc29maWxvL2VMbzEzcmszLwogICAgICAgIHJlcGVhdGVyX3RhYmxlID0gJ1wKICAgICAgICA8ZGl2IGlkPSJ0aGUtc2V0dGluZ3MtcGFnZSI+XAogICAgICAgICAgICA8YnV0dG9uIGlkPSJjbG9zZS1tb2RhbCIgY2xhc3M9ImVkaXQtY291bnQgdW5yZWFkLWNvdW50IiB0aXRsZT0iY2xvc2Ugc2V0dGluZ3MgKHdpdGhvdXQgc2F2aW5nLCBjaGFuZ2VzIGFyZSBub3QgbG9zdCBpZiBwYWdlIG5vdCByZWZyZXNoZWQpIj5jbG9zZTwvYnV0dG9uPlwKICAgICAgICAgICAgPGJyIC8+XAogICAgICAgIAk8ZGl2IGNsYXNzPSJyZXBlYXQiPlwKICAgICAgICAJICAgIDx0YWJsZSBpZD0idGhlLXRhYmxlIiBjbGFzcz0id3JhcHBlciI+XAogICAgICAgIAkgICAgICAgIDx0aGVhZD5cCiAgICAgICAgCSAgICAgICAgICAgIDx0cj5cCiAgICAgICAgCSAgICAgICAgICAgICAgICA8dGQgY2xhc3M9IncxMCIgY29sc3Bhbj0iMiI+XAogICAgICAgIAkJCQkJCTxkaXYgY2xhc3M9ImFkZCI+PGltZyBzcmM9Imh0dHA6Ly9pLnN0YWNrLmltZ3VyLmNvbS9OWFFXWS5wbmciIGNsYXNzPSJpY29uLWltZyIgdGl0bGU9ImFkZCBpdGVtIiAvPjwvZGl2PlwKICAgICAgICAJICAgICAgICAgICAgICAgIDwvdGQ+XAogICAgICAgIAkgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJ3MTAiIGNvbHNwYW49IjIiPlwKICAgICAgICAJCQkJCQk8ZGl2IGNsYXNzPSJzYXZlIj48aW1nIHNyYz0iaHR0cDovL2kuc3RhY2suaW1ndXIuY29tL05nbUxqLnBuZyIgY2xhc3M9Imljb24taW1nIiB0aXRsZT0ic2F2ZSBzZXR0aW5ncyIgLz48L2Rpdj5cCiAgICAgICAgCSAgICAgICAgICAgICAgICA8L3RkPlwKICAgICAgICAJICAgICAgICAgICAgPC90cj5cCiAgICAgICAgCSAgICAgICAgPC90aGVhZD5cCiAgICAgICAgCSAgICAgICAgPHRib2R5IGNsYXNzPSJjb250YWluZXIiPlwKICAgICAgICAJICAgICAgICAgICAgPHRyIGNsYXNzPSJ0ZW1wbGF0ZSByb3ciPlwKICAgICAgICAJICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0idzUiPlwKICAgICAgICAJCQkJCQk8c3BhbiBjbGFzcz0ibW92ZSI+PGltZyBzcmM9Imh0dHA6Ly9pLnN0YWNrLmltZ3VyLmNvbS9EbVBZeC5wbmciIGNsYXNzPSJpY29uLWltZyIgdGl0bGU9Im1vdmUgaXRlbSIgLz48L3NwYW4+XAogICAgICAgIAkgICAgICAgICAgICAgICAgPC90ZD5cCiAgICAgICAgCSAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InczMCI+XAogICAgICAgIAkgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iTWVudSBuYW1lIiBuYW1lPSJhLW5hbWVbXSIgLz5cCiAgICAgICAgCSAgICAgICAgICAgICAgICA8L3RkPlwKICAgICAgICAJICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0idzYwIj5cCiAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIHBsYWNlaG9sZGVyPSJVUkwgIFsgcHJvZmlsZSBsaW5rcyBjb250YWluIG9ubHkgP3RhYj1ldGMgXSIgbmFtZT0iYW4tdXJsW10iIC8+XAogICAgICAgIAkgICAgICAgICAgICAgICAgPC90ZD5cCiAgICAgICAgCSAgICAgICAgICAgICAgICA8dGQgY2xhc3M9Inc1IHc1ciI+XAogICAgICAgIAkJCQkJCTxzcGFuIGNsYXNzPSJyZW1vdmUiPjxpbWcgc3JjPSJodHRwOi8vaS5zdGFjay5pbWd1ci5jb20vYThLTFQucG5nIiBjbGFzcz0iaWNvbi1pbWciIHRpdGxlPSJyZW1vdmUgaXRlbSIgLz48L3NwYW4+XAogICAgICAgIAkgICAgICAgICAgICAgICAgPC90ZD5cCiAgICAgICAgCSAgICAgICAgICAgIDwvdHI+XAogICAgICAgIAkgICAgICAgIDwvdGJvZHk+XAogICAgICAgIAkgICAgPC90YWJsZT5cCiAgICAgICAgCTwvZGl2PlwKICAgICAgICA8L2Rpdj5cCiAgICAgICAgJywKICAgICAgICByZW1vdmVfaXRlbXMgPSBbIC8qIGl0ZW1zIHRvIHJlbW92ZSAqLwogICAgICAgICAgICAnLnRvcGJhci1kaWFsb2cuaGVscC1kaWFsb2cgdWwgbGk6bnRoLW9mLXR5cGUoNSknLAogICAgICAgICAgICAnLnRvcGJhci1kaWFsb2cuaGVscC1kaWFsb2cgdWwgbGk6bnRoLW9mLXR5cGUoNCknLAogICAgICAgICAgICAnLnRvcGJhci1kaWFsb2cuaGVscC1kaWFsb2cgdWwgbGk6bnRoLW9mLXR5cGUoMyknLAogICAgICAgICAgICAnLnRvcGJhci1kaWFsb2cuaGVscC1kaWFsb2cgdWwgbGk6bnRoLW9mLXR5cGUoMSknCiAgICAgICAgXTsKICAgICAgICByZW1vdmVfbWV0YSA9IFsKICAgICAgICAgICAgJy50b3BiYXItZGlhbG9nLmhlbHAtZGlhbG9nIHVsIGxpOm50aC1vZi10eXBlKDYpJywKICAgICAgICAgICAgJy50b3BiYXItZGlhbG9nLmhlbHAtZGlhbG9nIHVsIGxpOm50aC1vZi10eXBlKDUpJywKICAgICAgICAgICAgJy50b3BiYXItZGlhbG9nLmhlbHAtZGlhbG9nIHVsIGxpOm50aC1vZi10eXBlKDQpJywKICAgICAgICAgICAgJy50b3BiYXItZGlhbG9nLmhlbHAtZGlhbG9nIHVsIGxpOm50aC1vZi10eXBlKDIpJywKICAgICAgICAgICAgJy50b3BiYXItZGlhbG9nLmhlbHAtZGlhbG9nIHVsIGxpOm50aC1vZi10eXBlKDEpJwogICAgICAgIF0sCiAgICAgICAgZGVmYXVsdHMgPSB7CiAgICAgICAgICAgICdoZWxwX2JsYW5rJzogZmFsc2UsCiAgICAgICAgICAgICdyZW1vdmVfaGVscCc6IGZhbHNlLAogICAgICAgICAgICAnbWVudSc6IFsKICAgICAgICAgICAgICAgIHsgJ25hbWUnOiAnWW91ciBtZW51IScsICd1cmwnOiAnaHR0cDovL3N0YWNrYXBwcy5jb20vcS80OTIxLzEwNTkwJyB9LAogICAgICAgICAgICAgICAgeyAnbmFtZSc6ICdZb3VyIGZhdm9yaXRlcycsICd1cmwnOiAnP3RhYj1mYXZvcml0ZXMmc29ydD1hZGRlZCcgfSwKICAgICAgICAgICAgICAgIHsgJ25hbWUnOiAnVXNlcnMgYnkgcmVwIHRoaXMgd2VlaycsICd1cmwnOiAndXNlcnM/dGFiPVJlcHV0YXRpb24mZmlsdGVyPXdlZWsnIH0sCiAgICAgICAgICAgIF0KICAgIH07CgogICAgLyoqCiAgICAgKiBHZXQgVVJMIHF1ZXJ5IHN0cmluZ3MKICAgICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzkwMTE0NC8xMjg3ODEyCiAgICAgKi8KICAgIGZ1bmN0aW9uIGdldFBhcmFtZXRlckJ5TmFtZShuYW1lKSB7CiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xbXS8sICJcXFsiKS5yZXBsYWNlKC9bXF1dLywgIlxcXSIpOwogICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoIltcXD8mXSIgKyBuYW1lICsgIj0oW14mI10qKSIpLAogICAgICAgICAgICByZXN1bHRzID0gcmVnZXguZXhlYyhsb2NhdGlvbi5zZWFyY2gpOwogICAgCiAgICAgICAgcmV0dXJuIHJlc3VsdHMgPT0gbnVsbCA/IGZhbHNlIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXCsvZywgIiAiKSk7CiAgICB9CgogICAgLyoqCiAgICAqIFJlYWQgb3B0aW9ucyBvciBzZXQgZGVmYXVsdHMKICAgICovCiAgICB2YXIgc2V0dXBfbG9jYWxfc3RvcmFnZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICggbG9jYWxTdG9yZSA9PT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAkdXNlck1lbnUgPSBkZWZhdWx0cy5tZW51OwogICAgICAgICAgICAkc2V0QmxhbmtNZW51ID0gZGVmYXVsdHMuaGVscF9ibGFuazsKICAgICAgICAgICAgJHJlbW92ZUhlbHBDZW50ZXIgPSBkZWZhdWx0cy5yZW1vdmVfaGVscDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICR1c2VyTWVudSA9IGxvY2FsU3RvcmUubWVudTsKICAgICAgICAgICAgJHNldEJsYW5rTWVudSA9IGxvY2FsU3RvcmUuaGVscF9ibGFuazsKICAgICAgICAgICAgJHJlbW92ZUhlbHBDZW50ZXIgPSBsb2NhbFN0b3JlLnJlbW92ZV9oZWxwOwogICAgICAgIH0KICAgICAgICAvKiBDaGFuZ2UgY29uZmlnIHVzaW5nIFVSTCBwYXJhbXMgKi8KICAgICAgICBpZiggKCBzZXRCbGFuayA9IGdldFBhcmFtZXRlckJ5TmFtZSgnaGVscC1ibGFuaycpICkgIT09IGZhbHNlICkgewogICAgICAgICAgICBpZiggJ3llcycgPT09IHNldEJsYW5rICkgewogICAgICAgICAgICAgICAgJHNldEJsYW5rTWVudSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkc2V0QmxhbmtNZW51ID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlICggeydwb3N0Jzp7ICdoZWxwX2JsYW5rJzokc2V0QmxhbmtNZW51LCAncmVtb3ZlX2hlbHAnOiAkcmVtb3ZlSGVscENlbnRlciwgJ21lbnUnOiR1c2VyTWVudX19LCAiKiIgKTsKICAgICAgICB9CiAgICAgICAgLyogaWRlbSAqLwogICAgICAgIGlmKCAoIHJlbW92ZUhDID0gZ2V0UGFyYW1ldGVyQnlOYW1lKCdoZWxwLXJlbW92ZScpICkgIT09IGZhbHNlICkgewogICAgICAgICAgICBpZiggJ3llcycgPT09IHJlbW92ZUhDICkgewogICAgICAgICAgICAgICAgJHJlbW92ZUhlbHBDZW50ZXIgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJHJlbW92ZUhlbHBDZW50ZXIgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2UgKCB7J3Bvc3QnOnsgJ2hlbHBfYmxhbmsnOiRzZXRCbGFua01lbnUsICdyZW1vdmVfaGVscCc6ICRyZW1vdmVIZWxwQ2VudGVyLCAnbWVudSc6JHVzZXJNZW51fX0sICIqIiApOwogICAgICAgIH0KICAgIH07CgogICAgLyoqCiAgICAqIExvY2Fsc3RvcmFnZSBmb3Igc2F2aW5nIG9wdGlvbnMKICAgICovCiAgICB2YXIgdXBkYXRlX3N0b3JhZ2UgPSBmdW5jdGlvbiggdmFsdWVzICkgewogICAgICAgICR1c2VyTWVudSA9IHZhbHVlczsKICAgICAgICB3aW5kb3cucG9zdE1lc3NhZ2UgKCB7J3Bvc3QnOnsgJ2hlbHBfYmxhbmsnOiRzZXRCbGFua01lbnUsICdyZW1vdmVfaGVscCc6ICRyZW1vdmVIZWxwQ2VudGVyLCAnbWVudSc6dmFsdWVzfX0sICIqIiApOwogICAgICAgIHJlYnVpbGRfbWVudSgpOwogICAgfTsKCiAgICAvKioKICAgICAqIFJlbW92ZSBtZW51IGhlbHAgaXRlbXMKICAgICAqLwogICAgdmFyIHJlbW92ZV9tb2RpZnlfaXRlbXMgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZiggJHJlbW92ZUhlbHBDZW50ZXIgKSB7CiAgICAgICAgICAgICQoJy50b3BiYXItZGlhbG9nLmhlbHAtZGlhbG9nIHVsIGxpJykucmVtb3ZlKCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZiAoIFN0YWNrRXhjaGFuZ2Uub3B0aW9ucy5zaXRlLmlzTWV0YVNpdGUgJiYgU3RhY2tFeGNoYW5nZS5vcHRpb25zLnNpdGUuaXNDaGlsZE1ldGEgKSB7IC8vIE1ldGEuQWxsCiAgICAgICAgICAgICAgICAkKCByZW1vdmVfbWV0YS5qb2luKCcsJykgKS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsgLy8gTWFpbiBzaXRlcyAmIE1ldGEuU0UKICAgICAgICAgICAgICAgICQoIHJlbW92ZV9pdGVtcy5qb2luKCcsJykgKS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAgICAgICAKICAgICAgIGlmKCAkc2V0QmxhbmtNZW51ICkKICAgICAgICAgICAgJCgnLnRvcGJhci1kaWFsb2cuaGVscC1kaWFsb2cgdWwgbGkgYVtocmVmPSIvaGVscCJdJykuYXR0cigndGFyZ2V0JywnX2JsYW5rJyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBCb251cyBidXR0b246IGJhY2sgdG8gdG9wCiAgICAgKiBodHRwOi8vd3d3LmRldmVsb3BlcmRyaXZlLmNvbS8/cD00MzIxCiAgICAgKi8KICAgIHZhciBjcmVhdGVfYmFjazJ0b3AgPSBmdW5jdGlvbigpIHsKICAgICAgICAkKCdib2R5JykuYXBwZW5kKCc8YSBocmVmPSIjIiBjbGFzcz0iYmFjay10by10b3AiPkJhY2sgdG8gVG9wPC9hPicpOwogICAgICAgIHZhciBvZmZzZXQgPSA0MjA7CiAgICAgICAgdmFyIGR1cmF0aW9uID0gMTUwOwogICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICgkKHRoaXMpLnNjcm9sbFRvcCgpID4gb2Zmc2V0KSB7CiAgICAgICAgICAgICAgICAkKCcuYmFjay10by10b3AnKS5mYWRlSW4oZHVyYXRpb24pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgnLmJhY2stdG8tdG9wJykuZmFkZU91dChkdXJhdGlvbik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAkKCcuYmFjay10by10b3AnKS5jbGljayhmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAwfSwgZHVyYXRpb24pOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIC8qKgogICAgICogQWZ0ZXIgc2F2aW5nIHNldHRpbmdzCiAgICAgKi8KICAgIHZhciByZWJ1aWxkX21lbnUgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgaT0wLCAkbGlzID0gJCgnZGl2LnRvcGJhci1kaWFsb2cuaGVscC1kaWFsb2cuanMtaGVscC1kaWFsb2cgZGl2Lm1vZGFsLWNvbnRlbnQgdWwgbGknKTsKICAgICAgICBmb3IoIGk7IGkgPCAoICRsaXMubGVuZ3RoIC0gMiApIDsgaSsrICkgewogICAgICAgICAgICAkbGlzW2ldLnJlbW92ZSgpOwogICAgICAgIH0KICAgICAgICBjcmVhdGVfbWVudSgpOwogICAgfTsKCiAgICAvKioKICAgICAqIEF0IHN0YXJ0dXAgYW5kIGFmdGVyIHNhdmluZwogICAgICovCiAgICB2YXIgY3JlYXRlX21lbnUgPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgcmV2ZXJzZUNsb25lID0gJHVzZXJNZW51LnNsaWNlKDApLnJldmVyc2UoKTsKICAgICAgICAkLmVhY2goIHJldmVyc2VDbG9uZSwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSB2YWx1ZS51cmwsIAogICAgICAgICAgICAgICAgaXNfdGFiID0gKCB2YWx1ZS51cmwuaW5kZXhPZignP3RhYicpID09PSAwICksCiAgICAgICAgICAgICAgICB6ZXJvX3VybCA9ICggdmFsdWUudXJsLmxlbmd0aCA9PT0gMCApLAogICAgICAgICAgICAgICAgdGhlX2xpbms7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgaWYoIGlzX3RhYiApCiAgICAgICAgICAgICAgICB1cmwgPSBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5wcm9maWxlVXJsICsgdmFsdWUudXJsOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKCBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5pc0Fub255bW91cyAmJiBpc190YWIgKQogICAgICAgICAgICAgICAgdGhlX2xpbmsgPSAnPGEgc3R5bGU9Im9wYWNpdHk6LjU7IGN1cnNvcjpkZWZhdWx0OyI+JyArIHZhbHVlLm5hbWUgKyAnPC9hPic7CiAgICAgICAgICAgIGVsc2UgaWYoIHplcm9fdXJsICkKICAgICAgICAgICAgICAgIHRoZV9saW5rID0gJzxhPicgKyB2YWx1ZS5uYW1lICsgJzwvYT4nOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB0aGVfbGluayA9ICc8YSBocmVmPSInICsgdXJsICsgJyI+JyArIHZhbHVlLm5hbWUgKyAnPC9hPic7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgJCgnLnRvcGJhci1kaWFsb2cuaGVscC1kaWFsb2cgdWwnKS5wcmVwZW5kKCc8bGk+JyArIHRoZV9saW5rICsgJzwvbGk+Jyk7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBpY29uIGF0IHRvcGJhcgogICAgICovCiAgICB2YXIgY3JlYXRlX2hlbHBfbWVudSA9IGZ1bmN0aW9uKCl7CiAgICAgICAgJCgnLmxpbmtzLWNvbnRhaW5lciBhLmljb24taGVscC5qcy1oZWxwLWJ1dHRvbicpCiAgICAgICAgICAgIC5odG1sKCc8aW1nIHNyYz0iaHR0cDovL2kuc3RhY2suaW1ndXIuY29tL0xDTHFBLnBuZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiAvPicpCiAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsICdmYXZvcml0ZXMnKQogICAgICAgICAgICAuYXR0cignaWQnLCdoYWxwLWJ0bicpCiAgICAgICAgICAgIC5hZGRDbGFzcygnZ20tYWN0aXZlJyk7CiAgICAgICAgJCgnLnRvcGJhci1kaWFsb2cuaGVscC1kaWFsb2cnKS5jc3MoJ3dpZHRoJywnMTM1cHgnKTsKCiAgICAgICAgLyogQWRkIGl0ZW1zIHRvIG1lbnUgKi8KICAgICAgICBjcmVhdGVfbWVudSgpOwogICAgICAgIGlmKCBTdGFja0V4Y2hhbmdlLm9wdGlvbnMudXNlci5pc0Fub255bW91cyA9PT0gdW5kZWZpbmVkICkKICAgICAgICAkKCcudG9wYmFyLWRpYWxvZy5oZWxwLWRpYWxvZyB1bCcpLmFwcGVuZCgnPGxpPjxkaXYgY2xhc3M9ImhlbHAtZGl2Ij48YSBocmVmPSIjIiBpZD0iaGVscC1zZXR0aW5ncyI+eyBzZXR0aW5ncyB9PC9hPjwvZGl2PjwvbGk+Jyk7CiAgICB9OwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBtb2RhbCBzZXR0aW5ncyBzY3JlZW4gYW5kIHJlcGVhdGFibGUgZmllbGRzCiAgICAgKi8KICAgIHZhciBjcmVhdGVfc2V0dGluZ3NfbW9kYWwgPSBmdW5jdGlvbigpewogICAgICAgICQoIHJlcGVhdGVyX3RhYmxlICkuaW5zZXJ0QmVmb3JlKCAiYm9keSBkaXYuY29udGFpbmVyIiApOwoKICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2hlbHAtc2V0dGluZ3MsICNjbG9zZS1tb2RhbCcsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHZhciB0b190b2dnbGUgPSAnYm9keSBkaXYuY29udGFpbmVyLCAudG9wYmFyLXdyYXBwZXIgLm5ldHdvcmstaXRlbXMsIC50b3BiYXItd3JhcHBlciAuc2VhcmNoLWNvbnRhaW5lciwgI2hhbHAtYnRuLCAudG9wYmFyLXdyYXBwZXIgLmxpbmtzLWNvbnRhaW5lciBhW2hyZWY9Ii9yZXZpZXciXSwgI2Zvb3RlciwgI3RoZS1zZXR0aW5ncy1wYWdlJzsKICAgICAgICAgICAgJCh0b190b2dnbGUpLmZhZGVUb2dnbGUoJ3Nsb3cnLCBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYoICQoJyN0aGUtc2V0dGluZ3MtcGFnZScpLmlzKCc6dmlzaWJsZScpICkKICAgICAgICAgICAgICAgICAgICAkKCcjdGhlLXNldHRpbmdzLXBhZ2UnKS5jc3MoJ2Rpc3BsYXknLCdpbmxpbmUtYmxvY2snKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgICQoJy5yZXBlYXQnKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCh0aGlzKS5yZXBlYXRhYmxlX2ZpZWxkcyh7CiAgICAgICAgICAgICAgICB3cmFwcGVyOiAndGFibGUnLAogICAgICAgICAgICAgICAgY29udGFpbmVyOiAndGJvZHknLAogICAgICAgICAgICAgICAgcm93OiAndHInLAogICAgICAgICAgICAgICAgY2VsbDogJ3RkJywKICAgICAgICAgICAgICAgIGFkZDogJy5hZGQnLAogICAgICAgICAgICAgICAgcmVtb3ZlOiAnLnJlbW92ZScsCiAgICAgICAgICAgICAgICBtb3ZlOiAnLm1vdmUnLAogICAgICAgICAgICAgICAgdGVtcGxhdGU6ICcudGVtcGxhdGUnLAogICAgICAgICAgICAgICAgYmVmb3JlX2FkZDogbnVsbCwKICAgICAgICAgICAgICAgIGFmdGVyX2FkZDogbnVsbCwKICAgICAgICAgICAgICAgIGJlZm9yZV9yZW1vdmU6IG51bGwsCiAgICAgICAgICAgICAgICBhZnRlcl9yZW1vdmU6IG51bGwsCiAgICAgICAgICAgICAgICBzb3J0YWJsZV9vcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJ0ZW1wbGF0ZSIsCiAgICAgICAgICAgICAgICAgICAgLy9mb3JjZVBsYWNlaG9sZGVyU2l6ZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICAkKCcuc2F2ZScpLmNsaWNrKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBfYWxsID0gbmV3IEFycmF5KCk7CiAgICAgICAgICAgICQoJyN0aGUtdGFibGUgdGJvZHkgdHI6Z3QoMCknKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF9hbGwucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAkKHRoaXMpLmZpbmQoJ3RkOm50aC1vZi10eXBlKDIpIGlucHV0JykudmFsKCksCiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICQodGhpcykuZmluZCgndGQ6bnRoLW9mLXR5cGUoMykgaW5wdXQnKS52YWwoKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdXBkYXRlX3N0b3JhZ2UoX2FsbCk7CiAgICAgICAgICAgICQoJyNjbG9zZS1tb2RhbCcpLmNsaWNrKCk7CiAgICAgICAgfSk7CgogICAgICAgICQuZWFjaCggJHVzZXJNZW51LCBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHsKICAgICAgICAgICAgdmFyIGJ1dHRvbiA9ICQoJyN0aGUtdGFibGUgdGJvZHkgdHIudGVtcGxhdGUucm93JykuY2xvbmUoKS5hcHBlbmRUbygnI3RoZS10YWJsZSB0Ym9keScpLnJlbW92ZUNsYXNzKCd0ZW1wbGF0ZScpLnNob3coKTsKICAgICAgICAgICAgJChidXR0b24pLmZpbmQoJ3RkLnczMCBpbnB1dCcpLnZhbCh2YWx1ZS5uYW1lKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgICAgICAgJChidXR0b24pLmZpbmQoJ3RkLnc2MCBpbnB1dCcpLnZhbCh2YWx1ZS51cmwpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICAgIH0pOwogICAgfTsKCiAgICBjcmVhdGVfYmFjazJ0b3AoKTsKICAgIHNldHVwX2xvY2FsX3N0b3JhZ2UoKTsKICAgIHJlbW92ZV9tb2RpZnlfaXRlbXMoKTsKICAgIGNyZWF0ZV9oZWxwX21lbnUoKTsKICAgIGNyZWF0ZV9zZXR0aW5nc19tb2RhbCgpOwp9CgovKioKICogSW5qZWN0IGpRdWVyeSBVSSBhbmQgY2FsbCBpbml0IGZ1bmN0aW9uCiAqLwpmdW5jdGlvbiBoZWxwX3NlX2FkZF9qcXVlcnkoIGNhbGxiYWNrICl7CiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NjcmlwdCcgKTsKICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoICdzcmMnLCBqcXVpX3VybCApOwogICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkJywgZnVuY3Rpb24oKQogICAgewogICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICBzY3JpcHQudGV4dENvbnRlbnQgPSAnKCcgKyBjYWxsYmFjay50b1N0cmluZygpICsgJykoJyArIHNlbmRMU3RvcmFnZSArICcpOyc7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2NyaXB0ICk7CiAgICB9LCBmYWxzZSApOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2NyaXB0ICk7Cn0KCi8qKgogKiBDU1MKICogaHR0cDovL3N0YWNrYXBwcy5jb20vYS80ODAwLzEwNTkwCiAqLwpmdW5jdGlvbiBhZGRHbG9iYWxTdHlsZShjc3MpIHsKICAgIHZhciBoZWFkLCBzdHlsZTsKICAgIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdOwogICAgaWYgKCFoZWFkKSB7IHJldHVybjsgfQogICAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7CiAgICBzdHlsZS5pbm5lckhUTUwgPSBjc3MKICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwp9CgphZGRHbG9iYWxTdHlsZSAoZnVuY3Rpb24oKXsvKgogICAgaHRtbCxib2R5IHsgaGVpZ2h0OiAxMDAlOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IH0KICAgICN0aGUtc2V0dGluZ3MtcGFnZSB7IHBhZGRpbmctdG9wOiAxZW07IGJhY2tncm91bmQtY29sb3I6ICNERURBREE7IHdpZHRoOjEwMCU7IGhlaWdodDoxMDAlOyBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjEwOyBsZWZ0OjA7IHotaW5kZXg6OTk5OyBkaXNwbGF5Om5vbmU7IG92ZXJmbG93OmF1dG8gfQogICAgI2hlbHAtc2V0dGluZ3MgeyBmbG9hdDogcmlnaHQ7IGNvbG9yOiAjOEM4QzhDOyBmb250LXNpemU6LjVlbSB9CiAgICAjdGhlLXRhYmxlIHsgCiAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgCiAgICAgICAgLXdlYmtpdC1ib3gtc2hhZG93OiA5cHggOXB4IDEycHggMHB4IHJnYmEoNTAsIDUwLCA1MCwgMC4yKTsKICAgICAgICAtbW96LWJveC1zaGFkb3c6ICAgIDlweCA5cHggMTJweCAwcHggcmdiYSg1MCwgNTAsIDUwLCAwLjIpOwogICAgICAgIGJveC1zaGFkb3c6ICAgICAgICAgOXB4IDlweCAxMnB4IDBweCByZ2JhKDUwLCA1MCwgNTAsIDAuMik7IAogICAgfQogICAgI3RoZS10YWJsZSB0aGVhZCB0ZDpudGgtb2YtdHlwZSgxKSB7IHRleHQtYWxpZ246IGxlZnQ7IH0KICAgICN0aGUtdGFibGUgdGhlYWQgdGQ6bnRoLW9mLXR5cGUoMikgeyB0ZXh0LWFsaWduOiByaWdodDsgfQogICAgI3RoZS10YWJsZSB0ZCwgI3RoZS10YWJsZSB0ciB7IGJhY2tncm91bmQtY29sb3I6ICNjY2M7IHBhZGRpbmc6MnB4OyBtYXJnaW46MDsgdGV4dC1hbGlnbjpjZW50ZXI7IHZlcnRpY2FsLWFsaWduOm1pZGRsZTsgIH0KICAgICN0aGUtdGFibGUgLnc1IHsgd2lkdGg6IDUlOyB9CiAgICAjdGhlLXRhYmxlIC53NXIgeyBvcGFjaXR5OiAuMTU7fQogICAgI3RoZS10YWJsZSAudzEwIHsgd2lkdGg6IDEwJSB9CiAgICAjdGhlLXRhYmxlIC53MzAgeyB3aWR0aDogMzAlIH0KICAgICN0aGUtdGFibGUgLnc2MCB7IHdpZHRoOiA2NSUgfQogICAgI3RoZS10YWJsZSAubW92ZSBpbWcgeyB3aWR0aDogMTAwJTsgbWF4LXdpZHRoOiAyMHB4OyAtd2Via2l0LWZpbHRlcjogaW52ZXJ0KDEwMCUpOyBvcGFjaXR5OiAuMjU7IH0KICAgICN0aGUtdGFibGUgaW5wdXQgeyBwYWRkaW5nOiAzcHg7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luOiAwOyB3aWR0aDogOTUlOyBib3JkZXI6IDFweCBzb2xpZCAjRTRFNEU0OyB9CiAgICBkaXYucmVwZWF0IHsgd2lkdGg6NjAlO21hcmdpbjoxZW0gYXV0bzsgcGFkZGluZy1ib3R0b206My41ZW0gfQogICAgI2Nsb3NlLW1vZGFsIHsgZmxvYXQ6IHJpZ2h0O21hcmdpbi1yaWdodDogMjAlOyB9CiAgICAuYmFjay10by10b3AgewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgYm90dG9tOiAyZW07IHJpZ2h0OiAtM3B4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICAgICAgY29sb3I6ICMwMDAwMDA7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjM1LCAyMzUsIDIzNSwgMC44MCk7IGZvbnQtc2l6ZTogMTJweDsKICAgICAgICBwYWRkaW5nOiAuNWVtOyBkaXNwbGF5OiBub25lOyBib3JkZXItcmFkaXVzOiA1cHgKICAgIH0KICAgIC5iYWNrLXRvLXRvcDpob3ZlciB7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTM1LCAxMzUsIDEzNSwgMC41MCk7IH0KICAgIC5saW5rcy1jb250YWluZXIgYS5pY29uLWhlbHAuanMtaGVscC1idXR0b24uZ20tYWN0aXZlIHsgLXdlYmtpdC1maWx0ZXI6IGludmVydCgyMCUpO3BhZGRpbmctcmlnaHQ6IDRweDsgfQogICAgLmhlbHAtZGl2IHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgdGV4dC1hbGlnbjogcmlnaHQ7IGZsb2F0OiByaWdodDsgfQogICAgLmFkZCwgLnNhdmUsICNjbG9zZS1tb2RhbCB7Y3Vyc29yOnBvaW50ZXJ9CiAgICAubW92ZSB7Y3Vyc29yOm1vdmV9CiAgICAuYWRkIHsgcG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IDVweDsgbGVmdDogM3B4OyB9CiAgICAuc2F2ZSB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiA1cHg7IHJpZ2h0OiA1cHg7IH0KICAgIC5yZW1vdmUge2N1cnNvcjpjcm9zc2hhaXI7IH0KICAgIC50b3BiYXItZGlhbG9nLmhlbHAtZGlhbG9nIHVsIGxpIHNwYW4uaXRlbS1zdW1tYXJ5IHsgZGlzcGxheTogbm9uZTsgfQogICAgLnRvcGJhci1kaWFsb2cgLm1vZGFsLWNvbnRlbnQgeyBtYXgtaGVpZ2h0OiAxMDAlIH0KICovCn0udG9TdHJpbmcoKS5zbGljZSgxNCwtMykpOw=="},{"name":"AutoReviewComments","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/^https?:\\/\\/(.*\\.)?stackoverflow\\.com/.*$/","/^https?:\\/\\/(.*\\.)?serverfault\\.com/.*$/","/^https?:\\/\\/(.*\\.)?superuser\\.com/.*$/","/^https?:\\/\\/(.*\\.)?stackexchange\\.com/.*$/","/^https?:\\/\\/(.*\\.)?askubuntu\\.com/.*$/","/^https?:\\/\\/(.*\\.)?mathoverflow\\.com/.*$/","/^https?:\\/\\/discuss\\.area51\\.stackexchange\\.com/.*$/","/^https?:\\/\\/stackapps\\.com/.*$/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"data":{},"ts":1456451831506},"enabled":true,"position":17,"file_url":"https://raw.github.com/Benjol/SE-AutoReviewComments/master/dist/autoreviewcomments.user.js","uuid":"8b302a20-45b6-48df-aa1f-ba2a8c340e57","source":"LyoqIEBwcmVzZXJ2ZQovLyA9PVVzZXJTY3JpcHQ9PQovLyBAbmFtZSAgICAgICAgICAgQXV0b1Jldmlld0NvbW1lbnRzCi8vIEBuYW1lc3BhY2UgICAgICBiZW5qb2wKLy8gQHZlcnNpb24gICAgICAgIDEuNC4wCi8vIEBkZXNjcmlwdGlvbiAgICBObyBtb3JlIHJlLXR5cGluZyB0aGUgc2FtZSBjb21tZW50cyBvdmVyIGFuZCBvdmVyIQovLyBAaG9tZXBhZ2UgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL0JlbmpvbC9TRS1BdXRvUmV2aWV3Q29tbWVudHMKLy8gQGdyYW50ICAgICAgICAgIG5vbmUKLy8gQGluY2x1ZGUgL15odHRwcz86XC9cLyguKlwuKT9zdGFja292ZXJmbG93XC5jb20vLiokLwovLyBAaW5jbHVkZSAvXmh0dHBzPzpcL1wvKC4qXC4pP3NlcnZlcmZhdWx0XC5jb20vLiokLwovLyBAaW5jbHVkZSAvXmh0dHBzPzpcL1wvKC4qXC4pP3N1cGVydXNlclwuY29tLy4qJC8KLy8gQGluY2x1ZGUgL15odHRwcz86XC9cLyguKlwuKT9zdGFja2V4Y2hhbmdlXC5jb20vLiokLwovLyBAaW5jbHVkZSAvXmh0dHBzPzpcL1wvKC4qXC4pP2Fza3VidW50dVwuY29tLy4qJC8KLy8gQGluY2x1ZGUgL15odHRwcz86XC9cLyguKlwuKT9tYXRob3ZlcmZsb3dcLmNvbS8uKiQvCi8vIEBpbmNsdWRlIC9eaHR0cHM/OlwvXC9kaXNjdXNzXC5hcmVhNTFcLnN0YWNrZXhjaGFuZ2VcLmNvbS8uKiQvCi8vIEBpbmNsdWRlIC9eaHR0cHM/OlwvXC9zdGFja2FwcHNcLmNvbS8uKiQvCi8vID09L1VzZXJTY3JpcHQ9PQoqLwoKZnVuY3Rpb24gd2l0aF9qcXVlcnkoZikgewogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICBzY3JpcHQudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOwogIHNjcmlwdC50ZXh0Q29udGVudCA9ICIoIiArIGYudG9TdHJpbmcoKSArICIpKGpRdWVyeSkiOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKfTsKCndpdGhfanF1ZXJ5KGZ1bmN0aW9uICgkKSB7CiAgU3RhY2tFeGNoYW5nZS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAvLy8vIFNlbGYgVXBkYXRpbmcgVXNlcnNjcmlwdCwgc2VlIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0JlbmpvbC84NzQwNTgKLy8gKHRoZSBmaXJzdCBsaW5lIG9mIHRoaXMgdGVtcGxhdGUgX211c3RfIGJlIGEgY29tbWVudCEpCnZhciBWRVJTSU9OID0gJzEuNC4wJzsKdmFyIFVSTCA9ICJodHRwczovL3Jhdy5naXRodWIuY29tL0JlbmpvbC9TRS1BdXRvUmV2aWV3Q29tbWVudHMvbWFzdGVyL2Rpc3QvYXV0b3Jldmlld2NvbW1lbnRzLnVzZXIuanMiOwoKLy8gVGhpcyBoYWNrIGlzIG5lY2Vzc2FyeSB0byBicmluZyBwZW9wbGUgdXAgZnJvbSB0aGUgbGFzdCB3b3JraW5nIGF1dG8tdXB0YXRlIGdpc3QKLy8gcmVsZWFzZSBpZiB0aGV5IG1hbnVhbGx5IGluc3RhbGxlZCB0aGUgbGF0ZXN0IHZlcnNpb24uIChjYW4gYmUgcmVtb3ZlZCBhZnRlciBzb21lCi8vIHRpbWUgaGFzIHBhc3NlZCBhbmQgbGFzdCByZWxlYXNlZCB2ZXJzaW9uIGlzIGF0IGxlYXN0IDEuMy40KQpmb3IgKHZhciBrZXkgaW4gd2luZG93KSB7CiAgaWYgKGtleS5pbmRleE9mKCdzZWxmVXBkYXRlckNhbGxiYWNrJykgIT0gLTEpIHsKICAgIHdpbmRvd1trZXldKFZFUlNJT04pOwogICAgcmV0dXJuOwogIH0KfQovLyBFbmQgaGFjawoKaWYod2luZG93WyJBdXRvUmV2aWV3Q29tbWVudHNfQXV0b1VwZGF0ZUNhbGxiYWNrIl0pIHsKICB3aW5kb3dbIkF1dG9SZXZpZXdDb21tZW50c19BdXRvVXBkYXRlQ2FsbGJhY2siXShWRVJTSU9OKTsKICByZXR1cm47Cn0KCi8vIFNwbGl0IGludCBiYXNlZCB2ZXJzaW9uIG51bWJlciBzdHJpbmdzIG9uIGRvdHMsIHplcm8tcGFkIHRoZSBhcnJheXMgdG8gdGhlIHNhbWUgbGVuZ3RoIGFuZAovLyBjb21wYXJlIHRoZW0gaW4gb3JkZXIgc3VjaCB0aGF0IHRydWUgaXMgcmV0dXJuZWQgb25seSBpZiB0aGUgcHJvcG9zdGVkIHZlcnNpb24gaXMgbmV3ZXIKZnVuY3Rpb24gaXNWZXJzaW9uTmV3ZXIocHJvcG9zZWQsIGN1cnJlbnQpIHsKICAgIHByb3Bvc2VkID0gcHJvcG9zZWQuc3BsaXQoIi4iKTsKICAgIGN1cnJlbnQgPSBjdXJyZW50LnNwbGl0KCIuIik7CgogICAgd2hpbGUgKHByb3Bvc2VkLmxlbmd0aCA8IGN1cnJlbnQubGVuZ3RoKSBwcm9wb3NlZC5wdXNoKCIwIik7CiAgICB3aGlsZSAoY3VycmVudC5sZW5ndGggPCBwcm9wb3NlZC5sZW5ndGgpIGN1cnJlbnQucHVzaCgiMCIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcG9zZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAocGFyc2VJbnQocHJvcG9zZWRbaV0pID4gcGFyc2VJbnQoY3VycmVudFtpXSkpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChwYXJzZUludChwcm9wb3NlZFtpXSkgPCBwYXJzZUludChjdXJyZW50W2ldKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gdXBkYXRlQ2hlY2sobm90aWZpZXIpIHsKICB3aW5kb3dbIkF1dG9SZXZpZXdDb21tZW50c19BdXRvVXBkYXRlQ2FsbGJhY2siXSA9IGZ1bmN0aW9uIChuZXd2ZXIpIHsKICAgICAgaWYoaXNWZXJzaW9uTmV3ZXIobmV3dmVyLCBWRVJTSU9OKSkgbm90aWZpZXIobmV3dmVyLCBWRVJTSU9OLCBVUkwpOwogICAgfQogICQoIjxzY3JpcHQgLz4iKS5hdHRyKCJzcmMiLCBVUkwpLmFwcGVuZFRvKCJoZWFkIik7Cn0KCi8vIENoZWNrIHRvIHNlZSBpZiBhIG5ldyB2ZXJzaW9uIGhhcyBiZWNvbWUgYXZhaWxhYmxlIHNpbmNlIGxhc3QgY2hlY2sKLy8gLSBvbmx5IGNoZWNrcyBvbmNlIGEgZGF5Ci8vIC0gZG9lcyBub3QgY2hlY2sgZm9yIGZpcnN0IHRpbWUgdmlzaXRvcnMsIHNob3dzIHRoZW0gYSB3ZWxjb21lIG1lc3NhZ2UgaW5zdGVhZAovLyAtIGNhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSBtYWluIHNjcmlwdCBpZiBmdW5jdGlvbiBleGlzdHMKZnVuY3Rpb24gQ2hlY2tGb3JOZXdWZXJzaW9uKHBvcHVwKSB7CiAgdmFyIHRvZGF5ID0gKG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCwgMCkpOwogIHZhciBMYXN0VXBkYXRlQ2hlY2tEYXkgPSBHZXRTdG9yYWdlKCJMYXN0VXBkYXRlQ2hlY2tEYXkiKTsKICBpZihMYXN0VXBkYXRlQ2hlY2tEYXkgPT0gbnVsbCkgeyAvL2ZpcnN0IHRpbWUgdmlzaXRvcgogICAgU2hvd01lc3NhZ2UocG9wdXAsICJQbGVhc2UgcmVhZCB0aGlzISIsICdUaGFua3MgZm9yIGluc3RhbGxpbmcgdGhpcyBzY3JpcHQuIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsZWFzZSBub3RlIHRoYXQgeW91IGNhbiBFRElUIHRoZSB0ZXh0cyBpbmxpbmUgYnkgZG91YmxlLWNsaWNraW5nIHRoZW0uIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBvdGhlciBvcHRpb25zLCBwbGVhc2Ugc2VlIHRoZSBSRUFETUUgYXQgPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL0JlbmpvbC9TRS1BdXRvUmV2aWV3Q29tbWVudHMiIHRhcmdldD0iX2JsYW5rIj5oZXJlPC9hPi4nLAogICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyB9KTsKICB9IGVsc2UgaWYgKCBMYXN0VXBkYXRlQ2hlY2tEYXkgIT0gdG9kYXkpIHsKICAgIHVwZGF0ZUNoZWNrKGZ1bmN0aW9uIChuZXd2ZXIsIG9sZHZlciwgaW5zdGFsbF91cmwpIHsKICAgICAgaWYobmV3dmVyICE9IEdldFN0b3JhZ2UoIkxhc3RWZXJzaW9uQWNrbm93bGVkZ2VkIikpIHsKICAgICAgICBTaG93TWVzc2FnZShwb3B1cCwgIk5ldyBWZXJzaW9uISIsICdBIG5ldyB2ZXJzaW9uICgnICsgbmV3dmVyICsgJykgb2YgdGhlIDxhIGhyZWY9Imh0dHA6Ly9zdGFja2FwcHMuY29tL3EvMjExNiI+QXV0b1Jldmlld0NvbW1lbnRzPC9hPiB1c2Vyc2NyaXB0IGlzIG5vdyBhdmFpbGFibGUsIHNlZSB0aGUgPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL0JlbmpvbC9TRS1BdXRvUmV2aWV3Q29tbWVudHMvcmVsZWFzZXMiPnJlbGVhc2Ugbm90ZXM8L2E+IGZvciBkZXRhaWxzIG9yIDxhIGhyZWY9IicgKyBpbnN0YWxsX3VybCArICciPmNsaWNrIGhlcmU8L2E+IHRvIGluc3RhbGwgbm93LicsCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyBTZXRTdG9yYWdlKCJMYXN0VmVyc2lvbkFja25vd2xlZGdlZCIsIG5ld3Zlcik7IH0pOwogICAgICB9CiAgICB9KTsKICB9CiAgU2V0U3RvcmFnZSgiTGFzdFVwZGF0ZUNoZWNrRGF5IiwgdG9kYXkpOwp9CgovKiBIb3cgZG9lcyB0aGlzIHdvcms/CiAgIDEuIFRoZSBpbnN0YWxsZWQgc2NyaXB0IGxvYWRzIGZpcnN0LCBhbmQgc2V0cyB0aGUgbG9jYWwgVkVSU0lPTiB2YXJpYWJsZSB3aXRoIHRoZSBjdXJyZW50bHkgaW5zdGFsbGVkIHZlcnNpb24gbnVtYmVyCiAgIDIuIHdpbmRvd1siQXV0b1Jldmlld0NvbW1lbnRzX0F1dG9VcGRhdGVDYWxsYmFjayJdIGlzIG5vdCBkZWZpbmVkLCBzbyB0aGlzIGlzIHNraXBwZWQKICAgMy4gV2hlbiB1cGRhdGVDaGVjaygpIGlzIGNhbGxlZCwgaXQgZGVmaW5lcyB3aW5kb3dbIkF1dG9SZXZpZXdDb21tZW50c19BdXRvVXBkYXRlQ2FsbGJhY2siXSwgd2hpY2ggcmV0YWlucyB0aGUgaW5zdGFsbGVkIHZlcnNpb24gbnVtYmVyIGluIFZFUlNJT04gKGNsb3N1cmUpCiAgIDQuIHVwZGF0ZUNoZWNrKCkgdGhlbiBsb2FkcyB0aGUgZXh0ZXJuYWwgdmVyc2lvbiBvZiB0aGUgc2NyaXB0IGludG8gdGhlIHBhZ2UgaGVhZGVyCiAgIDUuIHdoZW4gdGhlIGV4dGVybmFsIHZlcnNpb24gb2YgdGhlIHNjcmlwdCBsb2FkcywgaXQgZGVmaW5lcyBpdHMgb3duIGxvY2FsIFZFUlNJT04gd2l0aCB0aGUgZXh0ZXJuYWwgKHBvdGVudGlhbGx5IG5ldykgdmVyc2lvbiBudW1iZXIKICAgNi4gd2luZG93WyJBdXRvUmV2aWV3Q29tbWVudHNfQXV0b1VwZGF0ZUNhbGxiYWNrIl0gaXMgbm93IGRlZmluZWQsIHNvIGl0IGlzIGludm9rZWQsIGFuZCB0aGUgZXh0ZXJuYWwgdmVyc2lvbiBudW1iZXIgaXMgcGFzc2VkIGluCiAgIDcuIGlmIHRoZSBleHRlcm5hbCB2ZXJzaW9uIG51bWJlciAodmVyKSBpcyBncmVhdGVyIHRoYW4gdGhlIGluc3RhbGxlZCB2ZXJzaW9uIChWRVJTSU9OKSwgdGhlIG5vdGlmaWNhdGlvbiBpcyBpbnZva2VkCiAqLwoKCiAgICB2YXIgc2l0ZXVybCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTsKICAgIHZhciBhcnIgPSBkb2N1bWVudC50aXRsZS5zcGxpdCgnIC0gJyk7CiAgICB2YXIgc2l0ZW5hbWUgPSBhcnJbYXJyLmxlbmd0aCAtIDFdOwogICAgdmFyIHVzZXJuYW1lID0gJ3VzZXInOwogICAgdmFyIE9QID0gJ09QJzsKICAgIHZhciBwcmVmaXggPSAiQXV0b1Jldmlld0NvbW1lbnRzLSI7IC8vcHJlZml4IHRvIGF2b2lkIGNsYXNoZXMgaW4gbG9jYWxzdG9yYWdlCiAgICB2YXIgbXl1c2VyaWQgPSBnZXRMb2dnZWRJblVzZXJJZCgpOwoKICAgIGlmKHNpdGVuYW1lID09ICJTdGFjayBFeGNoYW5nZSIpIHNpdGVuYW1lID0gYXJyW2Fyci5sZW5ndGggLSAyXTsgLy93b3JrYXJvdW5kIGZvciBzb21lIFNFIHNpdGVzIChlLmcuIEFyZWEgNTEsIFN0YWNrIEFwcHMpCiAgICBzaXRlbmFtZSA9IHNpdGVuYW1lLnJlcGxhY2UoLyA/U3RhY2sgRXhjaGFuZ2UvLCAnJyk7ICAgICAgICAgICAgIC8vc2FtZSBmb3Igb3RoZXJzICgiQW5kcm9pZCBFbnRodXNpYXN0cyBTdGFjayBFeGNoYW5nZSIsIFNSLCBhbmQgbW9yZSkKICAgIGlmKCFHZXRTdG9yYWdlKCJXZWxjb21lTWVzc2FnZSIpKSBTZXRTdG9yYWdlKCJXZWxjb21lTWVzc2FnZSIsICdXZWxjb21lIHRvICcgKyBzaXRlbmFtZSArICchICcpOwogICAgdmFyIGdyZWV0aW5nID0gR2V0U3RvcmFnZSgiV2VsY29tZU1lc3NhZ2UiKSA9PSAiTk9ORSIgPyAiIiA6IEdldFN0b3JhZ2UoIldlbGNvbWVNZXNzYWdlIik7CiAgICB2YXIgc2hvd0dyZWV0aW5nID0gZmFsc2U7CgogICAgdmFyIGNzc1RlbXBsYXRlID0gJzxzdHlsZT4uYXV0by1yZXZpZXctY29tbWVudHMucG9wdXB7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpibG9jazt3aWR0aDo2OTBweDtwYWRkaW5nOjE1cHggMTVweCAxMHB4fS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAuZmxvYXQtbGVmdHtmbG9hdDpsZWZ0fS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAuZmxvYXQtcmlnaHR7ZmxvYXQ6cmlnaHR9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC50aHJvYmJlcntkaXNwbGF5Om5vbmV9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC5yZW1vdGVlcnJvcntjb2xvcjpyZWR9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwPmRpdj50ZXh0YXJlYXt3aWR0aDoxMDAlO2hlaWdodDo0NDJweH0uYXV0by1yZXZpZXctY29tbWVudHMucG9wdXAgLm1haW57b3ZlcmZsb3c6aGlkZGVufS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAubWFpbiAudXNlcmluZm97cGFkZGluZzo1cHg7bWFyZ2luLWJvdHRvbTo3cHg7YmFja2dyb3VuZDojZWFlZmVmfS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAubWFpbiAuYWN0aW9uLWxpc3R7aGVpZ2h0OjQ0MHB4O21hcmdpbjowIDAgN3B4IDAgIWltcG9ydGFudDtvdmVyZmxvdy15OmF1dG99LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC5tYWluIC5hY3Rpb24tbGlzdCBsaXt3aWR0aDoxMDAlO3BhZGRpbmc6MDt0cmFuc2l0aW9uOi4xc30uYXV0by1yZXZpZXctY29tbWVudHMucG9wdXAgLm1haW4gLmFjdGlvbi1saXN0IGxpOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2YyZjJmMn0uYXV0by1yZXZpZXctY29tbWVudHMucG9wdXAgLm1haW4gLmFjdGlvbi1saXN0IGxpLmFjdGlvbi1zZWxlY3RlZDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlNmU2ZTZ9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC5tYWluIC5hY3Rpb24tbGlzdCBsaSBpbnB1dHtkaXNwbGF5Om5vbmV9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC5tYWluIC5hY3Rpb24tbGlzdCBsaSBsYWJlbHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTBweH0uYXV0by1yZXZpZXctY29tbWVudHMucG9wdXAgLm1haW4gLmFjdGlvbi1saXN0IGxpIGxhYmVsIC5hY3Rpb24tbmFtZXtkaXNwbGF5OmJsb2NrO21hcmdpbi1ib3R0b206M3B4O2N1cnNvcjpkZWZhdWx0fS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAubWFpbiAuYWN0aW9uLWxpc3QgbGkgbGFiZWwgLmFjdGlvbi1kZXNje21hcmdpbjowO2NvbG9yOiM4ODg7Y3Vyc29yOmRlZmF1bHR9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC5tYWluIC5hY3Rpb24tbGlzdCBsaSBsYWJlbCAuYWN0aW9uLW5hbWUgdGV4dGFyZWEsLmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC5tYWluIC5hY3Rpb24tbGlzdCBsaSBsYWJlbCAuYWN0aW9uLWRlc2MgdGV4dGFyZWF7d2lkdGg6OTklO21hcmdpbjowIDAgLTRweCAwfS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAubWFpbiAuYWN0aW9uLWxpc3QgbGkgbGFiZWwgLmFjdGlvbi1kZXNjIHRleHRhcmVhe2hlaWdodDo0MnB4fS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAubWFpbiAuYWN0aW9uLWxpc3QgbGkgbGFiZWwgLnF1aWNrLWluc2VydHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2hlaWdodDoxMDAlO21hcmdpbjowO2ZvbnQtc2l6ZTozMDAlO2NvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7dHJhbnNpdGlvbjouM3M7dGV4dC1zaGFkb3c6MCAwIDFweCAjZmZmO2N1cnNvcjpwb2ludGVyfS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAubWFpbiAuYWN0aW9uLWxpc3QgbGkgbGFiZWwgLnF1aWNrLWluc2VydDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMyMjI7Y29sb3I6I2ZmZn0uYXV0by1yZXZpZXctY29tbWVudHMucG9wdXAgLm1haW4gLnNoYXJlLXRpcHtkaXNwbGF5Om5vbmV9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC5tYWluIC5zaGFyZS10aXAgLmN1c3RvbXdlbGNvbWV7d2lkdGg6MzAwcHh9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLnBvcHVwIC5tYWluIC5zaGFyZS10aXAgLnJlbW90ZXVybHtkaXNwbGF5OmJsb2NrO3dpZHRoOjQwMHB4fS5hdXRvLXJldmlldy1jb21tZW50cy5wb3B1cCAuYWN0aW9ucywuYXV0by1yZXZpZXctY29tbWVudHMucG9wdXAgLm1haW4gLnBvcHVwLWFjdGlvbnMgLmFjdGlvbnN7bWFyZ2luOjZweH0uYXV0by1yZXZpZXctY29tbWVudHMucG9wdXAgLm1haW4gLnBvcHVwLWFjdGlvbnMgLnBvcHVwLXN1Ym1pdHtmbG9hdDpub25lO21hcmdpbjowIDAgNXB4IDB9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLmFubm91bmNlbWVudHtwYWRkaW5nOjdweDttYXJnaW4tYm90dG9tOjEwcHg7YmFja2dyb3VuZDpvcmFuZ2U7Zm9udC1zaXplOjE1cHh9LmF1dG8tcmV2aWV3LWNvbW1lbnRzLmFubm91bmNlbWVudCAubm90aWZ5LWNsb3Nle2Rpc3BsYXk6YmxvY2s7ZmxvYXQ6cmlnaHQ7bWFyZ2luOjAgNHB4O3BhZGRpbmc6MCA0cHg7Ym9yZGVyOjJweCBzb2xpZCBibGFjaztjdXJzb3I6cG9pbnRlcjtsaW5lLWhlaWdodDoxN3B4fS5hdXRvLXJldmlldy1jb21tZW50cy5hbm5vdW5jZW1lbnQgLm5vdGlmeS1jbG9zZSBhe2NvbG9yOmJsYWNrO3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjE2cHh9PC9zdHlsZT4nOwogICAgdmFyIG1hcmt1cFRlbXBsYXRlID0gJzxkaXYgY2xhc3M9ImF1dG8tcmV2aWV3LWNvbW1lbnRzIHBvcHVwIiBpZD0icG9wdXAiPiA8ZGl2IGNsYXNzPSJwb3B1cC1jbG9zZSIgaWQ9ImNsb3NlIj48YSB0aXRsZT0iY2xvc2UgdGhpcyBwb3B1cCAob3IgaGl0IEVzYykiPiYjMjE1OzwvYT48L2Rpdj4gPGgyIGNsYXNzPSJoYW5kbGUiPldoaWNoIHJldmlldyBjb21tZW50IHRvIGluc2VydD88L2gyPiA8ZGl2IGNsYXNzPSJtYWluIiBpZD0ibWFpbiI+IDxkaXYgY2xhc3M9InBvcHVwLWFjdGl2ZS1wYW5lIj4gPGRpdiBjbGFzcz0idXNlcmluZm8iIGlkPSJ1c2VyaW5mbyI+IDxpbWcgc3JjPSIvL3NzdGF0aWMubmV0L2ltZy9wcm9ncmVzcy1kb3RzLmdpZiIvPiA8L2Rpdj4gPHVsIGNsYXNzPSJhY3Rpb24tbGlzdCI+IDwvdWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJzaGFyZS10aXAiIGlkPSJyZW1vdGUtcG9wdXAiPiBlbnRlciB1cmwgZm9yIHJlbW90ZSBzb3VyY2Ugb2YgY29tbWVudHMgKHVzZSBpbXBvcnQvZXhwb3J0IHRvIGNyZWF0ZSBqc29ucCkgPGlucHV0IGNsYXNzPSJyZW1vdGV1cmwiIGlkPSJyZW1vdGV1cmwiIHR5cGU9InRleHQiLz4gPGltZyBjbGFzcz0idGhyb2JiZXIiIGlkPSJ0aHJvYmJlcjEiIHNyYz0iLy9zc3RhdGljLm5ldC9pbWcvcHJvZ3Jlc3MtZG90cy5naWYiLz4gPHNwYW4gY2xhc3M9InJlbW90ZWVycm9yIiBpZD0icmVtb3RlZXJyb3IxIj48L3NwYW4+IDxkaXYgY2xhc3M9ImZsb2F0LWxlZnQiPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJyZW1vdGVhdXRvIi8+IDxsYWJlbCB0aXRsZT0iZ2V0IGZyb20gcmVtb3RlIG9uIGV2ZXJ5IHBhZ2UgcmVmcmVzaCIgZm9yPSJyZW1vdGVhdXRvIj5hdXRvLWdldDwvbGFiZWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmbG9hdC1yaWdodCI+IDxhIGNsYXNzPSJyZW1vdGUtZ2V0Ij5nZXQgbm93PC9hPiA8c3BhbiBjbGFzcz0ibHNlcCI+IHwgPC9zcGFuPiA8YSBjbGFzcz0icmVtb3RlLXNhdmUiPnNhdmU8L2E+IDxzcGFuIGNsYXNzPSJsc2VwIj4gfCA8L3NwYW4+IDxhIGNsYXNzPSJyZW1vdGUtY2FuY2VsIj5jYW5jZWw8L2E+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ic2hhcmUtdGlwIiBpZD0id2VsY29tZS1wb3B1cCI+IGNvbmZpZ3VyZSAid2VsY29tZSIgbWVzc2FnZSAoZW1wdHk9bm9uZSk6IDxkaXY+IDxpbnB1dCBjbGFzcz0iY3VzdG9td2VsY29tZSIgaWQ9ImN1c3RvbXdlbGNvbWUiIHR5cGU9InRleHQiLz4gPC9kaXY+IDxkaXYgY2xhc3M9ImZsb2F0LXJpZ2h0Ij4gPGEgY2xhc3M9IndlbGNvbWUtZm9yY2UiPmZvcmNlPC9hPiA8c3BhbiBjbGFzcz0ibHNlcCI+IHwgPC9zcGFuPiA8YSBjbGFzcz0id2VsY29tZS1zYXZlIj5zYXZlPC9hPiA8c3BhbiBjbGFzcz0ibHNlcCI+IHwgPC9zcGFuPiA8YSBjbGFzcz0id2VsY29tZS1jYW5jZWwiPmNhbmNlbDwvYT4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwb3B1cC1hY3Rpb25zIj4gPGRpdiBjbGFzcz0iZmxvYXQtbGVmdCBhY3Rpb25zIj4gPGEgdGl0bGU9ImNsb3NlIHRoaXMgcG9wdXAgKG9yIGhpdCBFc2MpIiBjbGFzcz0icG9wdXAtYWN0aW9ucy1jYW5jZWwiPmNhbmNlbDwvYT4gPHNwYW4gY2xhc3M9ImxzZXAiPiB8IDwvc3Bhbj4gPGEgdGl0bGU9InNlZSBpbmZvIGFib3V0IHRoaXMgcG9wdXAiIGNsYXNzPSJwb3B1cC1hY3Rpb25zLWhlbHAiIGhyZWY9Ii8vc3RhY2thcHBzLmNvbS9xLzIxMTYiIHRhcmdldD0iX2JsYW5rIj5pbmZvPC9hPiA8c3BhbiBjbGFzcz0ibHNlcCI+IHwgPC9zcGFuPiA8YSBjbGFzcz0icG9wdXAtYWN0aW9ucy1zZWUiPnNlZS10aHJvdWdoPC9hPiA8c3BhbiBjbGFzcz0ibHNlcCI+IHwgPC9zcGFuPiA8YSB0aXRsZT0icmVzZXQgYW55IGN1c3RvbSBjb21tZW50cyIgY2xhc3M9InBvcHVwLWFjdGlvbnMtcmVzZXQiPnJlc2V0PC9hPiA8c3BhbiBjbGFzcz0ibHNlcCI+IHwgPC9zcGFuPiA8YSB0aXRsZT0idXNlIHRoaXMgdG8gaW1wb3J0L2V4cG9ydCBhbGwgY29tbWVudHMiIGNsYXNzPSJwb3B1cC1hY3Rpb25zLWltcGV4cCI+aW1wb3J0L2V4cG9ydDwvYT4gPHNwYW4gY2xhc3M9ImxzZXAiPiB8IDwvc3Bhbj4gPGEgdGl0bGU9InVzZSB0aGlzIHRvIGhpZGUvc2hvdyBhbGwgY29tbWVudHMiIGNsYXNzPSJwb3B1cC1hY3Rpb25zLXRvZ2dsZWRlc2MiPnNob3cvaGlkZSBkZXNjPC9hPiA8c3BhbiBjbGFzcz0ibHNlcCI+IHwgPC9zcGFuPiA8YSB0aXRsZT0ic2V0dXAgcmVtb3RlIHNvdXJjZSIgY2xhc3M9InBvcHVwLWFjdGlvbnMtcmVtb3RlIj5yZW1vdGU8L2E+IDxpbWcgY2xhc3M9InRocm9iYmVyIiBpZD0idGhyb2JiZXIyInNyYz0iLy9zc3RhdGljLm5ldC9pbWcvcHJvZ3Jlc3MtZG90cy5naWYiLz4gPHNwYW4gY2xhc3M9InJlbW90ZWVycm9yIiBpZD0icmVtb3RlZXJyb3IyIj48L3NwYW4+IDxzcGFuIGNsYXNzPSJsc2VwIj4gfCA8L3NwYW4+IDxhIHRpdGxlPSJjb25maWd1cmUgd2VsY29tZSIgY2xhc3M9InBvcHVwLWFjdGlvbnMtd2VsY29tZSI+d2VsY29tZTwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9ImZsb2F0LXJpZ2h0Ij4gPGlucHV0IGNsYXNzPSJwb3B1cC1zdWJtaXQiIHR5cGU9ImJ1dHRvbiIgZGlzYWJsZWQ9ImRpc2FibGVkIiB2YWx1ZT0iSW5zZXJ0Ij4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+JzsKICAgIHZhciBtZXNzYWdlVGVtcGxhdGUgPSAnPGRpdiBjbGFzcz0iYXV0by1yZXZpZXctY29tbWVudHMgYW5ub3VuY2VtZW50IiBpZD0iYW5ub3VuY2VtZW50Ij4gPHNwYW4gY2xhc3M9Im5vdGlmeS1jbG9zZSI+IDxhIHRpdGxlPSJkaXNtaXNzIHRoaXMgbm90aWZpY2F0aW9uIj54PC9hPiA8L3NwYW4+IDxzdHJvbmc+JFRJVExFJDwvc3Ryb25nPiAkQk9EWSQgPC9kaXY+JzsKICAgIHZhciBvcHRpb25UZW1wbGF0ZSA9ICc8bGk+IDxpbnB1dCBpZD0iY29tbWVudC0kSUQkIiB0eXBlPSJyYWRpbyIgbmFtZT0iY29tbWVudHJldmlldyIvPiA8bGFiZWwgZm9yPSJjb21tZW50LSRJRCQiPiA8c3BhbiBpZD0ibmFtZS0kSUQkIiBjbGFzcz0iYWN0aW9uLW5hbWUiPiROQU1FJDwvc3Bhbj4gPHNwYW4gaWQ9ImRlc2MtJElEJCIgY2xhc3M9ImFjdGlvbi1kZXNjIj4kREVTQ1JJUFRJT04kPC9zcGFuPiA8YnV0dG9uIGNsYXNzPSJxdWljay1pbnNlcnQiIHRpdGxlPSJJbnNlcnQgbm93Ij7ihpM8L2J1dHRvbj4gPC9sYWJlbD4gPC9saT4nOwoKICAgIC8qKgogICAgICogQWxsIHRoZSBkaWZmZXJlbnQgInRhcmdldHMiIGEgY29tbWVudCBjYW4gYmUgcGxhY2VkIG9uLgogICAgICogVGhlIGdpdmVuIHZhbHVlcyBhcmUgdXNlZCBhcyBwcmVmaXhlcyBpbiB0aGUgY29tbWVudCB0aXRsZXMsIHRvIG1ha2UgaXQgZWFzeSBmb3IgdGhlIHVzZXIgdG8gY2hhbmdlIHRoZSB0YXJnZXRzLAogICAgICogYnkgc2ltcGx5IGFkZGluZyB0aGUgcHJlZml4IHRvIHRoZWlyIGNvbW1lbnQgdGl0bGUuCiAgICAgKi8KICAgIHZhciBUYXJnZXQgPSB7CiAgICAgIC8vIEEgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIHRoZSBwb3NzaWJsZSB0YXJnZXRzIGluIGEgc3RyaW5nLgogICAgICBNQVRDSF9BTEwgOiBuZXcgUmVnRXhwKCAiXFxbKEU/W0FRXXxDKSg/OiwoRT9bQVFdfEMpKSpcXF0iICksCiAgICAgIENsb3N1cmUgOiAiQyIsCiAgICAgIENvbW1lbnRRdWVzdGlvbiA6ICJRIiwKICAgICAgQ29tbWVudEFuc3dlciA6ICJBIiwKICAgICAgRWRpdFN1bW1hcnlBbnN3ZXIgOiAiRUEiLAogICAgICBFZGl0U3VtbWFyeVF1ZXN0aW9uIDogIkVRIgogICAgfTsKCiAgICAvL2RlZmF1bHQgY29tbWVudHMKICAgIHZhciBkZWZhdWx0Y29tbWVudHMgPSBbCiAgICAgeyBUYXJnZXQ6IFsgVGFyZ2V0LkNvbW1lbnRRdWVzdGlvbiBdLCBOYW1lOiAiTW9yZSB0aGFuIG9uZSBxdWVzdGlvbiBhc2tlZCIsIERlc2NyaXB0aW9uOiAnSXQgaXMgcHJlZmVycmVkIGlmIHlvdSBjYW4gcG9zdCBzZXBhcmF0ZSBxdWVzdGlvbnMgaW5zdGVhZCBvZiBjb21iaW5pbmcgeW91ciBxdWVzdGlvbnMgaW50byBvbmUuIFRoYXQgd2F5LCBpdCBoZWxwcyB0aGUgcGVvcGxlIGFuc3dlcmluZyB5b3VyIHF1ZXN0aW9uIGFuZCBhbHNvIG90aGVycyBodW50aW5nIGZvciBhdCBsZWFzdCBvbmUgb2YgeW91ciBxdWVzdGlvbnMuIFRoYW5rcyEnIH0sCiAgICAgeyBUYXJnZXQ6IFsgVGFyZ2V0LkNvbW1lbnRRdWVzdGlvbiBdLCBOYW1lOiAiRHVwbGljYXRlIENsb3N1cmUiLCBEZXNjcmlwdGlvbjogJ1RoaXMgcXVlc3Rpb24gd2lsbCBwcm9iYWJseSBiZSBjbG9zZWQgYXMgYSBkdXBsaWNhdGUgc29vbi4gSWYgdGhlIGFuc3dlcnMgZnJvbSB0aGUgZHVwbGljYXRlcyBkb25cJ3QgZnVsbHkgYWRkcmVzcyB5b3VyIHF1ZXN0aW9uIHBsZWFzZSBlZGl0IGl0IHRvIGluY2x1ZGUgd2h5IGFuZCBmbGFnIHRoaXMgZm9yIHJlLW9wZW5pbmcuIFRoYW5rcyEnIH0sCiAgICAgeyBUYXJnZXQ6IFsgVGFyZ2V0LkNvbW1lbnRBbnN3ZXIgXSwgTmFtZTogIkFuc3dlcnMganVzdCB0byBzYXkgVGhhbmtzISIsIERlc2NyaXB0aW9uOiAnUGxlYXNlIGRvblwndCBhZGQgInRoYW5rcyIgYXMgYW5zd2Vycy4gSW52ZXN0IHNvbWUgdGltZSBpbiB0aGUgc2l0ZSBhbmQgeW91IHdpbGwgZ2FpbiBzdWZmaWNpZW50IDxhIGhyZWY9Ii8vJFNJVEVVUkwkL3ByaXZpbGVnZXMiPnByaXZpbGVnZXM8L2E+IHRvIHVwdm90ZSBhbnN3ZXJzIHlvdSBsaWtlLCB3aGljaCBpcyB0aGUgJFNJVEVOQU1FJCB3YXkgb2Ygc2F5aW5nIHRoYW5rIHlvdS4nIH0sCiAgICAgeyBUYXJnZXQ6IFsgVGFyZ2V0LkNvbW1lbnRBbnN3ZXIgXSwgTmFtZTogIk5vdGhpbmcgYnV0IGEgVVJMIChhbmQgaXNuJ3Qgc3BhbSkiLCBEZXNjcmlwdGlvbjogJ1doaWxzdCB0aGlzIG1heSB0aGVvcmV0aWNhbGx5IGFuc3dlciB0aGUgcXVlc3Rpb24sIDxhIGhyZWY9Ii8vbWV0YS5zdGFja292ZXJmbG93LmNvbS9xLzgyNTkiPml0IHdvdWxkIGJlIHByZWZlcmFibGU8L2E+IHRvIGluY2x1ZGUgdGhlIGVzc2VudGlhbCBwYXJ0cyBvZiB0aGUgYW5zd2VyIGhlcmUsIGFuZCBwcm92aWRlIHRoZSBsaW5rIGZvciByZWZlcmVuY2UuJyB9LAogICAgIHsgVGFyZ2V0OiBbIFRhcmdldC5Db21tZW50QW5zd2VyIF0sIE5hbWU6ICJSZXF1ZXN0cyB0byBPUCBmb3IgZnVydGhlciBpbmZvcm1hdGlvbiIsIERlc2NyaXB0aW9uOiAnVGhpcyBpcyByZWFsbHkgYSBjb21tZW50LCBub3QgYW4gYW5zd2VyLiBXaXRoIGEgYml0IG1vcmUgcmVwLCA8YSBocmVmPSIvLyRTSVRFVVJMJC9wcml2aWxlZ2VzL2NvbW1lbnQiPnlvdSB3aWxsIGJlIGFibGUgdG8gcG9zdCBjb21tZW50czwvYT4uIEZvciB0aGUgbW9tZW50IElcJ3ZlIGFkZGVkIHRoZSBjb21tZW50IGZvciB5b3UsIGFuZCBJXCdtIGZsYWdnaW5nIHRoaXMgcG9zdCBmb3IgZGVsZXRpb24uJyB9LAogICAgIHsgVGFyZ2V0OiBbIFRhcmdldC5Db21tZW50QW5zd2VyIF0sIE5hbWU6ICJPUCB1c2luZyBhbiBhbnN3ZXIgZm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24iLCBEZXNjcmlwdGlvbjogJ1BsZWFzZSB1c2UgdGhlIDxlbT5Qb3N0IGFuc3dlcjwvZW0+IGJ1dHRvbiBvbmx5IGZvciBhY3R1YWwgYW5zd2Vycy4gWW91IHNob3VsZCBtb2RpZnkgeW91ciBvcmlnaW5hbCBxdWVzdGlvbiB0byBhZGQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbi4nIH0sCiAgICAgeyBUYXJnZXQ6IFsgVGFyZ2V0LkNvbW1lbnRBbnN3ZXIgXSwgTmFtZTogIk9QIGFkZGluZyBhIG5ldyBxdWVzdGlvbiBhcyBhbiBhbnN3ZXIiLCBEZXNjcmlwdGlvbjogJ0lmIHlvdSBoYXZlIGFub3RoZXIgcXVlc3Rpb24sIHBsZWFzZSBhc2sgaXQgYnkgY2xpY2tpbmcgdGhlIDxhIGhyZWY9Ii8vJFNJVEVVUkwkL3F1ZXN0aW9ucy9hc2siPkFzayBRdWVzdGlvbjwvYT4gYnV0dG9uLicgfSwKICAgICB7IFRhcmdldDogWyBUYXJnZXQuQ29tbWVudEFuc3dlciBdLCBOYW1lOiAiQW5vdGhlciB1c2VyIGFkZGluZyBhICdNZSB0b28hJyIsIERlc2NyaXB0aW9uOiAnSWYgeW91IGhhdmUgYSBORVcgcXVlc3Rpb24sIHBsZWFzZSBhc2sgaXQgYnkgY2xpY2tpbmcgdGhlIDxhIGhyZWY9Ii8vJFNJVEVVUkwkL3F1ZXN0aW9ucy9hc2siPkFzayBRdWVzdGlvbjwvYT4gYnV0dG9uLiBJZiB5b3UgaGF2ZSBzdWZmaWNpZW50IHJlcHV0YXRpb24sIDxhIGhyZWY9Ii8vJFNJVEVVUkwkL3ByaXZpbGVnZXMvdm90ZS11cCI+eW91IG1heSB1cHZvdGU8L2E+IHRoZSBxdWVzdGlvbi4gQWx0ZXJuYXRpdmVseSwgInN0YXIiIGl0IGFzIGEgZmF2b3JpdGUgYW5kIHlvdSB3aWxsIGJlIG5vdGlmaWVkIG9mIGFueSBuZXcgYW5zd2Vycy4nIH0sCiAgICAgeyBUYXJnZXQ6IFsgVGFyZ2V0LkNsb3N1cmUgXSwgTmFtZTogIlRvbyBsb2NhbGl6ZWQiLCBEZXNjcmlwdGlvbjogJ1RoaXMgcXVlc3Rpb24gYXBwZWFycyB0byBiZSBvZmYtdG9waWMgYmVjYXVzZSBpdCBpcyB0b28gbG9jYWxpemVkLicgfSwKICAgICB7IFRhcmdldDogWyBUYXJnZXQuRWRpdFN1bW1hcnlRdWVzdGlvbiBdLCBOYW1lOiAiSW1wcm9wZXIgdGFnZ2luZyIsIERlc2NyaXB0aW9uOiAnVGhlIHRhZ3MgeW91IHdlcmUgdXNpbmcgYXJlIG5vdCBhcHByb3ByaXRhdGUgZm9yIHRoaXMgcXVlc3Rpb24uIFBsZWFzZSByZXZpZXcgPGEgaHJlZj0iLy8kU0lURVVSTCQvaGVscC90YWdnaW5nIj5XaGF0IGFyZSB0YWdzLCBhbmQgaG93IHNob3VsZCBJIHVzZSB0aGVtPzwvYT4nIH0KICAgIF07CgogICAgdmFyIHdlZWtkYXlfbmFtZSA9IFsiU3VuZGF5IiwgIk1vbmRheSIsICJUdWVzZGF5IiwgIldlZG5lc2RheSIsICJUaHVyc2RheSIsICJGcmlkYXkiLCAiU2F0dXJkYXkiXTsKICAgIHZhciBtaW51dGUgPSA2MCwgaG91ciA9IDM2MDAsIGRheSA9IDg2NDAwLCBzaXhkYXlzID0gNTE4NDAwLCB3ZWVrID0gNjA0ODAwLCBtb250aCA9IDI1OTIwMDAsIHllYXIgPSAzMTUzNjAwMDsKCiAgICAvL1dyYXAgbG9jYWwgc3RvcmFnZSBhY2Nlc3Mgc28gdGhhdCB3ZSBhdm9pZCBjb2xsaXNpb25zIHdpdGggb3RoZXIgc2NyaXB0cwogICAgZnVuY3Rpb24gR2V0U3RvcmFnZShrZXkpIHsgcmV0dXJuIGxvY2FsU3RvcmFnZVtwcmVmaXggKyBrZXldOyB9CiAgICBmdW5jdGlvbiBTZXRTdG9yYWdlKGtleSwgdmFsKSB7IGxvY2FsU3RvcmFnZVtwcmVmaXggKyBrZXldID0gdmFsOyB9CiAgICBmdW5jdGlvbiBSZW1vdmVTdG9yYWdlKGtleSkgeyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwcmVmaXggKyBrZXkpOyB9CiAgICBmdW5jdGlvbiBDbGVhclN0b3JhZ2Uoc3RhcnRzV2l0aCkgewogICAgICBmb3IodmFyIGkgPSBsb2NhbFN0b3JhZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICB2YXIga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTsKICAgICAgICBpZihrZXkuaW5kZXhPZihwcmVmaXggKyBzdGFydHNXaXRoKSA9PSAwKSBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpOwogICAgICB9CiAgICB9CgogICAgLy9DYWxjdWxhdGUgYW5kIGZvcm1hdCBkYXRlc3BhbiBmb3IgIk1lbWJlciBzaW5jZS9mb3IiCiAgICBmdW5jdGlvbiBkYXRlc3BhbihkYXRlKSB7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpIC8gMTAwMDsKICAgICAgdmFyIHRoZW4gPSBuZXcgRGF0ZShkYXRlICogMTAwMCk7CiAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCkuc2V0SG91cnMoMCwgMCwgMCkgLyAxMDAwOwogICAgICB2YXIgbm93c2Vjb25kcyA9IG5vdyAtIHRvZGF5OwogICAgICB2YXIgZWxhcHNlZFNlY29uZHMgPSBub3cgLSBkYXRlOwogICAgICB2YXIgc3Ryb3V0ID0gIiI7CiAgICAgIGlmKGVsYXBzZWRTZWNvbmRzIDwgbm93c2Vjb25kcykgc3Ryb3V0ID0gInNpbmNlIHRvZGF5IjsKICAgICAgZWxzZSBpZihlbGFwc2VkU2Vjb25kcyA8IGRheSArIG5vd3NlY29uZHMpIHN0cm91dCA9ICJzaW5jZSB5ZXN0ZXJkYXkiOwogICAgICBlbHNlIGlmKGVsYXBzZWRTZWNvbmRzIDwgc2l4ZGF5cykgc3Ryb3V0ID0gInNpbmNlICIgKyB3ZWVrZGF5X25hbWVbdGhlbi5nZXREYXkoKV07CiAgICAgIGVsc2UgaWYoZWxhcHNlZFNlY29uZHMgPiB5ZWFyKSB7CiAgICAgICAgc3Ryb3V0ID0gImZvciAiICsgTWF0aC5yb3VuZCgoZWxhcHNlZFNlY29uZHMpIC8geWVhcikgKyAiIHllYXJzIjsKICAgICAgICBpZigoKGVsYXBzZWRTZWNvbmRzKSAlIHllYXIpID4gbW9udGgpIHN0cm91dCArPSAiLCAiICsgTWF0aC5yb3VuZCgoKGVsYXBzZWRTZWNvbmRzKSAlIHllYXIpIC8gbW9udGgpICsgIiBtb250aHMiOwogICAgICB9CiAgICAgIGVsc2UgaWYoZWxhcHNlZFNlY29uZHMgPiBtb250aCkgewogICAgICAgIHN0cm91dCA9ICJmb3IgIiArIE1hdGgucm91bmQoKGVsYXBzZWRTZWNvbmRzKSAvIG1vbnRoKSArICIgbW9udGhzIjsKICAgICAgICBpZigoKGVsYXBzZWRTZWNvbmRzKSAlIG1vbnRoKSA+IHdlZWspIHN0cm91dCArPSAiLCAiICsgTWF0aC5yb3VuZCgoKGVsYXBzZWRTZWNvbmRzKSAlIG1vbnRoKSAvIHdlZWspICsgIiB3ZWVrcyI7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgc3Ryb3V0ID0gImZvciAiICsgTWF0aC5yb3VuZCgoZWxhcHNlZFNlY29uZHMpIC8gd2VlaykgKyAiIHdlZWtzIjsKICAgICAgfQogICAgICByZXR1cm4gc3Ryb3V0OwogICAgfQoKICAgIC8vQ2FsY3VsYXRlIGFuZCBmb3JtYXQgZGF0ZXNwYW4gZm9yICJMYXN0IHNlZW4iCiAgICBmdW5jdGlvbiBsYXN0c2VlbihkYXRlKSB7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpIC8gMTAwMDsKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKS5zZXRIb3VycygwLCAwLCAwKSAvIDEwMDA7CiAgICAgIHZhciBub3dzZWNvbmRzID0gbm93IC0gdG9kYXk7CiAgICAgIHZhciBlbGFwc2VkU2Vjb25kcyA9IG5vdyAtIGRhdGU7CiAgICAgIGlmKGVsYXBzZWRTZWNvbmRzIDwgbWludXRlKSByZXR1cm4gKE1hdGgucm91bmQoZWxhcHNlZFNlY29uZHMpICsgIiBzZWNvbmRzIGFnbyIpOwogICAgICBpZihlbGFwc2VkU2Vjb25kcyA8IGhvdXIpIHJldHVybiAoTWF0aC5yb3VuZCgoZWxhcHNlZFNlY29uZHMpIC8gbWludXRlKSArICIgbWludXRlcyBhZ28iKTsKICAgICAgaWYoZWxhcHNlZFNlY29uZHMgPCBub3dzZWNvbmRzKSByZXR1cm4gKE1hdGgucm91bmQoKGVsYXBzZWRTZWNvbmRzKSAvIGhvdXIpICsgIiBob3VycyBhZ28iKTsKICAgICAgaWYoZWxhcHNlZFNlY29uZHMgPCBkYXkgKyBub3dzZWNvbmRzKSByZXR1cm4gKCJ5ZXN0ZXJkYXkiKTsKICAgICAgdmFyIHRoZW4gPSBuZXcgRGF0ZShkYXRlICogMTAwMCk7CiAgICAgIGlmKGVsYXBzZWRTZWNvbmRzIDwgc2l4ZGF5cykgcmV0dXJuICgib24gIiArIHdlZWtkYXlfbmFtZVt0aGVuLmdldERheSgpXSk7CiAgICAgIHJldHVybiB0aGVuLnRvRGF0ZVN0cmluZygpOwogICAgfQoKICAgIC8vRm9ybWF0IHJlcHV0YXRpb24gc3RyaW5nCiAgICBmdW5jdGlvbiByZXBOdW1iZXIocikgewogICAgICBpZihyIDwgMUU0KSByZXR1cm4gcjsKICAgICAgZWxzZSBpZihyIDwgMUU1KSB7CiAgICAgICAgdmFyIGQgPSBNYXRoLmZsb29yKE1hdGgucm91bmQociAvIDEwMCkgLyAxMCk7CiAgICAgICAgciA9IE1hdGgucm91bmQoKHIgLSBkICogMUUzKSAvIDEwMCk7CiAgICAgICAgcmV0dXJuIGQgKyAociA+IDAgPyAiLiIgKyByIDogIiIpICsgImsiCiAgICAgIH0KICAgICAgZWxzZSByZXR1cm4gTWF0aC5yb3VuZChyIC8gMUUzKSArICJrIgogICAgfQoKICAgIC8vIEdldCB0aGUgSWQgb2YgdGhlIGxvZ2dlZC1pbiB1c2VyCiAgICBmdW5jdGlvbiBnZXRMb2dnZWRJblVzZXJJZCgpIHsKICAgICAgdmFyIHByb2ZpbGVNZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwcm9maWxlLW1lJyk7CiAgICAgIGlmICggcHJvZmlsZU1lRWxlbWVudC5sZW5ndGggJiYgcHJvZmlsZU1lRWxlbWVudFswXS5ocmVmLm1hdGNoKC9cL3VzZXJzXC8oXGQrKVwvLiovaSkgKSB7CiAgICAgICAgcmV0dXJuIFJlZ0V4cC4kMTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgIH0KCiAgICAvL0dldCB1c2VySWQgZm9yIHBvc3QKICAgIGZ1bmN0aW9uIGdldFVzZXJJZChlbCkgewogICAgICAvLyBhIGJpdCBjb21wbGljYXRlZCwgYnV0IHdlIGhhdmUgdG8gYXZvaWQgZWRpdHMgKDpsYXN0KSwgbm90IHRyaXAgb24gQ1cgcXVlc3Rpb25zICg6bm90KFtpZF0pKSwgYW5kIG5vdCBidWJibGUKICAgICAgLy8gIG91dCBvZiBwb3N0IHNjb3BlIGZvciBkZWxldGVkIHVzZXJzIChmaXJzdCgpKS4KICAgICAgdmFyIHVzZXJsaW5rID0gZWwucGFyZW50cygnZGl2JykuZmluZCgnLnBvc3Qtc2lnbmF0dXJlOmxhc3QnKS5maXJzdCgpLmZpbmQoJy51c2VyLWRldGFpbHMgPiBhOm5vdChbaWRdKScpOwogICAgICBpZih1c2VybGluay5sZW5ndGgpIHJldHVybiB1c2VybGluay5hdHRyKCdocmVmJykuc3BsaXQoJy8nKVsyXTsKICAgICAgcmV0dXJuICJbTlVMTF0iOwogICAgfQogICAgZnVuY3Rpb24gaXNOZXdVc2VyKGRhdGUpIHsKICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpIC8gMTAwMCkgLSBkYXRlIDwgd2VlawogICAgfQogICAgZnVuY3Rpb24gZ2V0T1AoKSB7CiAgICAgIHZhciB1c2VybGluayA9ICQoJyNxdWVzdGlvbicpLmZpbmQoJy5vd25lcicpLmZpbmQoJy51c2VyLWRldGFpbHMgPiBhOm5vdChbaWRdKScpOwogICAgICBpZih1c2VybGluay5sZW5ndGgpIHJldHVybiB1c2VybGluay50ZXh0KCk7CiAgICAgIHZhciB1c2VyID0gJCgnI3F1ZXN0aW9uJykuZmluZCgnLm93bmVyJykuZmluZCgnLnVzZXItZGV0YWlscycpOyAvL2ZvciBkZWxldGVkIHVzZXJzCiAgICAgIGlmKHVzZXIubGVuZ3RoKSByZXR1cm4gdXNlci50ZXh0KCk7CiAgICAgIHJldHVybiAiW05VTExdIjsKICAgIH0KCiAgICAvL0FqYXggdG8gU3RhY2sgRXhjaGFuZ2UgYXBpIHRvIGdldCBiYXNpYyB1c2VyIGluZm8sIGFuZCBwYXN0ZSBpbnRvIHVzZXJpbmZvIGVsZW1lbnQKICAgIC8vaHR0cDovL3NvYXBpLmluZm8vY29kZS9qcy9zdGFibGUvc29hcGktZXhwbG9yZS1iZXRhLmh0bQogICAgZnVuY3Rpb24gZ2V0VXNlckluZm8odXNlcmlkLCBjb250YWluZXIpIHsKICAgICAgdmFyIHVzZXJpbmZvID0gY29udGFpbmVyLmZpbmQoJyN1c2VyaW5mbycpOwogICAgICBpZihpc05hTih1c2VyaWQpKSB7CiAgICAgICAgdXNlcmluZm8uZmFkZU91dEFuZFJlbW92ZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJHRVQiLAogICAgICAgIHVybDogJy8vYXBpLnN0YWNrZXhjaGFuZ2UuY29tLzIuMi91c2Vycy8nICsgdXNlcmlkICsgJz9zaXRlPScgKyBzaXRldXJsICsgJyZqc29ucD0/JywKICAgICAgICBkYXRhVHlwZTogImpzb25wIiwKICAgICAgICB0aW1lb3V0OiAyMDAwLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBpZihkYXRhWydpdGVtcyddLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIHVzZXIgPSBkYXRhWydpdGVtcyddWzBdOwogICAgICAgICAgICBpZihpc05ld1VzZXIodXNlclsnY3JlYXRpb25fZGF0ZSddKSkgewogICAgICAgICAgICAgIHNob3dHcmVldGluZyA9IHRydWU7CiAgICAgICAgICAgICAgY29udGFpbmVyLmZpbmQoJy5hY3Rpb24tZGVzYycpLnByZXBlbmQoZ3JlZXRpbmcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVzZXJuYW1lID0gdXNlclsnZGlzcGxheV9uYW1lJ107CiAgICAgICAgICAgIHZhciB1c2VydHlwZSA9IHVzZXJbJ3VzZXJfdHlwZSddLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdXNlclsndXNlcl90eXBlJ10uc2xpY2UoMSk7CiAgICAgICAgICAgIHZhciBodG1sID0gdXNlcnR5cGUgKyAnIHVzZXIgPHN0cm9uZz48YSBocmVmPSIvdXNlcnMvJyArIHVzZXJpZCArICciIHRhcmdldD0iX2JsYW5rIj4nICsgdXNlcm5hbWUgKyAnPC9hPjwvc3Ryb25nPiwgICAgIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlciA8c3Ryb25nPicgKyBkYXRlc3Bhbih1c2VyWydjcmVhdGlvbl9kYXRlJ10pICsgJzwvc3Ryb25nPiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCBzZWVuIDxzdHJvbmc+JyArIGxhc3RzZWVuKHVzZXJbJ2xhc3RfYWNjZXNzX2RhdGUnXSkgKyAnPC9zdHJvbmc+LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXB1dGF0aW9uIDxzdHJvbmc+JyArIHJlcE51bWJlcih1c2VyWydyZXB1dGF0aW9uJ10pICsgJzwvc3Ryb25nPic7CgogICAgICAgICAgICB1c2VyaW5mby5odG1sKGh0bWwucmVwbGFjZSgvICsvZywgJyAnKSk7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIHVzZXJpbmZvLmZhZGVPdXRBbmRSZW1vdmUoKTsKICAgICAgICB9LAogICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7IHVzZXJpbmZvLmZhZGVPdXRBbmRSZW1vdmUoKTsgfQogICAgICB9KTsKICAgIH0KCiAgICAvL1Nob3cgdGV4dGFyZWEgaW4gZnJvbnQgb2YgcG9wdXAgdG8gaW1wb3J0L2V4cG9ydCBhbGwgY29tbWVudHMgKGZvciBvdGhlciBzaXRlcyBvciBmb3IgcG9zdGluZyBzb21ld2hlcmUpCiAgICBmdW5jdGlvbiBJbXBvcnRFeHBvcnQocG9wdXApIHsKICAgICAgdmFyIHRvaGlkZSA9IHBvcHVwLmZpbmQoJyNtYWluJyk7CiAgICAgIHZhciBkaXYgPSAkKCc8ZGl2Pjx0ZXh0YXJlYS8+PGRpdiBjbGFzcz0iYWN0aW9ucyI+PGEgY2xhc3M9Impzb25wIj5qc29ucDwvYT48c3BhbiBjbGFzcz0ibHNlcCI+IHwgPC9zcGFuPjxhIGNsYXNzPSJzYXZlIj5zYXZlPC9hPjxzcGFuIGNsYXNzPSJsc2VwIj4gfCA8L3NwYW4+PGEgY2xhc3M9ImNhbmNlbCI+Y2FuY2VsPC9hPjwvZGl2PjwvZGl2PicpOwogICAgICAvL1BhaW5mdWwsIGJ1dCBzaG9ydGVzdCB3YXkgSSd2ZSBmb3VuZCB0byBwb3NpdGlvbiBkaXYgb3ZlciB0aGUgdG9oaWRlIGVsZW1lbnQKICAgICAgZGl2LmNzcyh7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiB0b2hpZGUucG9zaXRpb24oKS5sZWZ0LCB0b3A6IHRvaGlkZS5wb3NpdGlvbigpLnRvcCwKICAgICAgICB3aWR0aDogdG9oaWRlLmNzcygnd2lkdGgnKSwgaGVpZ2h0OiB0b2hpZGUuY3NzKCdoZWlnaHQnKSwgYmFja2dyb3VuZDogJ3doaXRlJwogICAgICB9KTsKCiAgICAgIHZhciB0eHQgPSAnJzsKICAgICAgZm9yKHZhciBpID0gMDsgaSA8IEdldFN0b3JhZ2UoImNvbW1lbnRjb3VudCIpOyBpKyspIHsKICAgICAgICB2YXIgbmFtZSA9IEdldFN0b3JhZ2UoJ25hbWUtJyArIGkpOwogICAgICAgIHZhciBkZXNjID0gR2V0U3RvcmFnZSgnZGVzYy0nICsgaSk7CiAgICAgICAgdHh0ICs9ICcjIyMnICsgbmFtZSArICdcbicgKyBodG1sVG9NYXJrRG93bihkZXNjKSArICdcblxuJzsgLy90aGUgbGVhZGluZyAjIyMgbWFrZXMgcHJldHRpZXIgaWYgcGFzdGluZyB0byBtYXJrZG93biwgYW5kIGRpZmZlcmVudGlhdGVzIG5hbWVzIGZyb20gZGVzY3JpcHRpb25zCiAgICAgIH0KCiAgICAgIGRpdi5maW5kKCd0ZXh0YXJlYScpLnZhbCh0eHQpOwogICAgICBkaXYuZmluZCgnLmpzb25wJykuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0eHQgPSAnY2FsbGJhY2soXG5bXG4nOwogICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBHZXRTdG9yYWdlKCJjb21tZW50Y291bnQiKTsgaSsrKSB7CiAgICAgICAgICB0eHQgKz0gJ3sgIm5hbWUiOiAiJyArIEdldFN0b3JhZ2UoJ25hbWUtJyArIGkpICsgJyIsICJkZXNjcmlwdGlvbiI6ICInICsgR2V0U3RvcmFnZSgnZGVzYy0nICsgaSkucmVwbGFjZSgvIi9nLCAnXFwiJykgKyAnIn0sXG5cbic7CiAgICAgICAgfQogICAgICAgIGRpdi5maW5kKCd0ZXh0YXJlYScpLnZhbCh0eHQgKyAnXVxuKScpOwogICAgICAgIGRpdi5maW5kKCdhOmx0KDIpJykucmVtb3ZlKCk7IGRpdi5maW5kKCcubHNlcDpsdCgyKScpLnJlbW92ZSgpOwogICAgICB9KTsKICAgICAgZGl2LmZpbmQoJy5jYW5jZWwnKS5jbGljayhmdW5jdGlvbiAoKSB7IGRpdi5mYWRlT3V0QW5kUmVtb3ZlKCk7IH0pOwogICAgICBkaXYuZmluZCgnLnNhdmUnKS5jbGljayhmdW5jdGlvbiAoKSB7IERvSW1wb3J0KGRpdi5maW5kKCd0ZXh0YXJlYScpLnZhbCgpKTsgV3JpdGVDb21tZW50cyhwb3B1cCk7IGRpdi5mYWRlT3V0QW5kUmVtb3ZlKCk7IH0pOwoKICAgICAgcG9wdXAuYXBwZW5kKGRpdik7CiAgICB9CgogICAgLy9JbXBvcnQgY29tcGxldGUgdGV4dCBpbnRvIGNvbW1lbnRzCiAgICBmdW5jdGlvbiBEb0ltcG9ydCh0ZXh0KSB7CiAgICAgIC8vY2xlYXIgb3V0IGFueSBleGlzdGluZyBzdHVmZgogICAgICBDbGVhclN0b3JhZ2UoIm5hbWUtIik7IENsZWFyU3RvcmFnZSgiZGVzYy0iKTsKICAgICAgdmFyIGFyciA9IHRleHQuc3BsaXQoJ1xuJyk7CiAgICAgIHZhciBuYW1lSW5kZXggPSAwLCBkZXNjSW5kZXggPSAwOwogICAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGxpbmUgPSAkLnRyaW0oYXJyW2ldKTsKICAgICAgICBpZihsaW5lLmluZGV4T2YoJyMnKSA9PSAwKSB7CiAgICAgICAgICB2YXIgbmFtZSA9IGxpbmUucmVwbGFjZSgvXiMrL2csICcnKTsKICAgICAgICAgIFNldFN0b3JhZ2UoJ25hbWUtJyArIG5hbWVJbmRleCwgbmFtZSk7CiAgICAgICAgICBuYW1lSW5kZXgrKzsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZihsaW5lLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBkZXNjID0gbWFya0Rvd25Ub0h0bWwobGluZSk7CiAgICAgICAgICBTZXRTdG9yYWdlKCdkZXNjLScgKyBkZXNjSW5kZXgsIFRhZyhkZXNjKSk7CiAgICAgICAgICBkZXNjSW5kZXgrKzsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy9UaGlzIGlzIGRlLW5vcm1hbGlzZWQsIGJ1dCBJIGRvbid0IGNhcmUuCiAgICAgIFNldFN0b3JhZ2UoImNvbW1lbnRjb3VudCIsIE1hdGgubWluKG5hbWVJbmRleCwgZGVzY0luZGV4KSk7CiAgICB9CgogICAgZnVuY3Rpb24gaHRtbFRvTWFya0Rvd24oaHRtbCkgewogICAgICBtYXJrZG93biA9IGh0bWwucmVwbGFjZSgvPGEgaHJlZj0iKC4rPykiPiguKz8pPFwvYT4vZywgJ1skMl0oJDEpJykucmVwbGFjZSgvJmFtcDsvZywgJyYnKTsKICAgICAgcmV0dXJuIG1hcmtkb3duLnJlcGxhY2UoLzxlbT4oLis/KTxcL2VtPi9nLCAnKiQxKicpLnJlcGxhY2UoLzxzdHJvbmc+KC4rPyk8XC9zdHJvbmc+L2csICcqKiQxKionKTsKICAgIH0KCiAgICBmdW5jdGlvbiBtYXJrRG93blRvSHRtbChtYXJrZG93bikgewogICAgICBodG1sID0gbWFya2Rvd24ucmVwbGFjZSgvXFsoW15cXV0rKVxdXCgoLis/KVwpL2csICc8YSBocmVmPSIkMiI+JDE8L2E+Jyk7CiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoL1wqXCooLis/KVwqXCovZywgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKS5yZXBsYWNlKC9cKihbXmBdKz8pXCovZywgJzxlbT4kMTwvZW0+Jyk7CiAgICB9CgogICAgZnVuY3Rpb24gVW5UYWcodGV4dCkgewogICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cJFNJVEVOQU1FXCQvZywgc2l0ZW5hbWUpLnJlcGxhY2UoL1wkU0lURVVSTFwkL2csIHNpdGV1cmwpLnJlcGxhY2UoL1wkTVlVU0VSSURcJC9nLCBteXVzZXJpZCk7CiAgICB9CgogICAgZnVuY3Rpb24gVGFnKGh0bWwpIHsKICAgICAgLy9wdXQgdGFncyBiYWNrIGluCiAgICAgIHZhciByZWduYW1lID0gbmV3IFJlZ0V4cChzaXRlbmFtZSwgImciKSwgcmVndXJsID0gbmV3IFJlZ0V4cCgnLy8nICsgc2l0ZXVybCwgImciKSwgcmVndWlkID0gbmV3IFJlZ0V4cCgnLycgKyBteXVzZXJpZCArICdbKV0nLCAiZyIpOwogICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKHJlZ25hbWUsICckU0lURU5BTUUkJykucmVwbGFjZShyZWd1cmwsICcvLyRTSVRFVVJMJCcpLnJlcGxhY2UocmVndWlkLCAnLyRNWVVTRVJJRCQpJyk7CiAgICB9CgogICAgLy9SZXBsYWNlIGNvbnRlbnRzIG9mIGVsZW1lbnQgd2l0aCBhIHRleHRhcmVhIChjb250YWluaW5nIG1hcmtkb3duIG9mIGNvbnRlbnRzKSwgYW5kIHNhdmUvY2FuY2VsIGJ1dHRvbnMKICAgIGZ1bmN0aW9uIFRvRWRpdGFibGUoZWwpIHsKICAgICAgdmFyIGJhY2t1cCA9IGVsLmh0bWwoKTsKICAgICAgdmFyIGh0bWwgPSBUYWcoZWwuaHRtbCgpLnJlcGxhY2UoZ3JlZXRpbmcsICcnKSk7ICAvL3JlbW92ZSBncmVldGluZyBiZWZvcmUgZWRpdGluZy4uCiAgICAgIGlmKGh0bWwuaW5kZXhPZignPHRleHRhcmVhJykgPiAtMSkgcmV0dXJuOyAvL2Rvbid0IHdhbnQgdG8gY3JlYXRlIGEgbmV3IHRleHRhcmVhIGluc2lkZSB0aGlzIG9uZSEKICAgICAgdmFyIHR4dCA9ICQoJzx0ZXh0YXJlYSAvPicpLnZhbChodG1sVG9NYXJrRG93bihodG1sKSk7CgogICAgICBCb3JrRm9yKGVsKTsgLy90aGlzIGlzIGEgaGFjawogICAgICAvL3NhdmUvY2FuY2VsIGxpbmtzIHRvIGFkZCB0byB0ZXh0YXJlYQogICAgICB2YXIgYWN0aW9ucyA9ICQoJzxkaXYgY2xhc3M9ImFjdGlvbnMiPicpOwogICAgICB2YXIgY29tbWFuZHMgPSAkKCc8YT5zYXZlPC9hPicpLmNsaWNrKGZ1bmN0aW9uICgpIHsgU2F2ZUVkaXRhYmxlKCQodGhpcykucGFyZW50KCkucGFyZW50KCkpOyBVbmJvcmtGb3IoZWwpOyB9KQogICAgICAgICAgICAgICAgICAgICAgLmFkZCgnPHNwYW4gY2xhc3M9ImxzZXAiPiB8IDwvc3Bhbj4nKQogICAgICAgICAgICAgICAgICAgICAgLmFkZCgkKCc8YT5jYW5jZWw8L2E+JykuY2xpY2soZnVuY3Rpb24gKCkgeyBDYW5jZWxFZGl0YWJsZSgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLCBiYWNrdXApOyBVbmJvcmtGb3IoZWwpOyB9KSk7CiAgICAgIGFjdGlvbnMuYXBwZW5kKGNvbW1hbmRzKTsKCiAgICAgIC8vc2V0IGNvbnRlbnRzIG9mIGVsZW1lbnQgdG8gdGV4dGFyZWEgd2l0aCBsaW5rcwogICAgICBlbC5odG1sKHR4dC5hZGQoYWN0aW9ucykpOwogICAgfQoKICAgIC8vVGhpcyBpcyB0byBzdG9wIHRoZSBpbnB1dCBwaW5jaGluZyBmb2N1cyB3aGVuIEkgY2xpY2sgaW5zaWRlIHRleHRhcmVhCiAgICAvL0NvdWxkIGhhdmUgZG9uZSBzb21ldGhpbmcgY2xldmVyIHdpdGggY29udGVudEVkaXRhYmxlLCBidXQgdGhpcyBpcyBldmlsLCBhbmQgaXQgYW5ub3lzIFlpIDpQCiAgICBmdW5jdGlvbiBCb3JrRm9yKGVsKSB7CiAgICAgIHZhciBsYWJlbCA9IGVsLnBhcmVudCgnbGFiZWwnKTsKICAgICAgbGFiZWwuYXR0cignZm9yJywgJ2JvcmtlbicpOwogICAgfQogICAgZnVuY3Rpb24gVW5ib3JrRm9yKGVsKSB7CiAgICAgIHZhciBsYWJlbCA9IGVsLnBhcmVudCgnbGFiZWwnKTsKICAgICAgbGFiZWwuYXR0cignZm9yJywgbGFiZWwucHJldigpLmF0dHIoJ2lkJykpOwogICAgfQogICAgLy9TYXZlIHRleHRhcmVhIGNvbnRlbnRzLCByZXBsYWNlIGVsZW1lbnQgaHRtbCB3aXRoIG5ldyBlZGl0ZWQgY29udGVudAogICAgZnVuY3Rpb24gU2F2ZUVkaXRhYmxlKGVsKSB7CiAgICAgIHZhciBodG1sID0gbWFya0Rvd25Ub0h0bWwoZWwuZmluZCgndGV4dGFyZWEnKS52YWwoKSk7CiAgICAgIFNldFN0b3JhZ2UoZWwuYXR0cignaWQnKSwgVGFnKGh0bWwpKTsKICAgICAgZWwuaHRtbCgoc2hvd0dyZWV0aW5nID8gZ3JlZXRpbmcgOiAiIikgKyBVblRhZyhodG1sKSk7CiAgICB9CgogICAgZnVuY3Rpb24gQ2FuY2VsRWRpdGFibGUoZWwsIGJhY2t1cCkgewogICAgICBlbC5odG1sKGJhY2t1cCk7CiAgICB9CgogICAgLy9FbXB0eSBhbGwgY3VzdG9tIGNvbW1lbnRzIGZyb20gc3RvcmFnZSBhbmQgcmV3cml0ZSB0byB1aQogICAgZnVuY3Rpb24gUmVzZXRDb21tZW50cygpIHsKICAgICAgQ2xlYXJTdG9yYWdlKCJuYW1lLSIpOyBDbGVhclN0b3JhZ2UoImRlc2MtIik7CiAgICAgICQuZWFjaChkZWZhdWx0Y29tbWVudHMsIGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHsKICAgICAgICB2YXIgdGFyZ2V0c1ByZWZpeCA9ICIiOwogICAgICAgIGlmKCB2YWx1ZS5UYXJnZXQgKSB7CiAgICAgICAgICB2YXIgdGFyZ2V0cyA9IHZhbHVlLlRhcmdldC5qb2luKCIsIik7CiAgICAgICAgICB0YXJnZXRzUHJlZml4ID0gIlsiICsgdGFyZ2V0cyArICJdICI7CiAgICAgICAgfQogICAgICAgIFNldFN0b3JhZ2UoJ25hbWUtJyArIGluZGV4LCB0YXJnZXRzUHJlZml4ICsgdmFsdWVbIk5hbWUiXSk7CiAgICAgICAgU2V0U3RvcmFnZSgnZGVzYy0nICsgaW5kZXgsIHZhbHVlWyJEZXNjcmlwdGlvbiJdKTsKICAgICAgfSk7CiAgICAgIFNldFN0b3JhZ2UoImNvbW1lbnRjb3VudCIsIGRlZmF1bHRjb21tZW50cy5sZW5ndGgpOwogICAgfQoKICAgIC8vcmV3cml0ZSBhbGwgY29tbWVudHMgdG8gdWkgKHR5cGljYWxseSBhZnRlciBpbXBvcnQgb3IgcmVzZXQpCiAgICBmdW5jdGlvbiBXcml0ZUNvbW1lbnRzKHBvcHVwKSB7CiAgICAgIGlmKCFHZXRTdG9yYWdlKCJjb21tZW50Y291bnQiKSkgUmVzZXRDb21tZW50cygpOwogICAgICB2YXIgdWwgPSBwb3B1cC5maW5kKCcuYWN0aW9uLWxpc3QnKTsKICAgICAgdWwuZW1wdHkoKTsKICAgICAgZm9yKHZhciBpID0gMDsgaSA8IEdldFN0b3JhZ2UoImNvbW1lbnRjb3VudCIpOyBpKyspIHsKICAgICAgICB2YXIgY29tbWVudE5hbWUgPSBHZXRTdG9yYWdlKCduYW1lLScgKyBpKTsKICAgICAgICAvL3ZhciBjb21tZW50dHlwZSA9IEdldENvbW1lbnRUeXBlKEdldFN0b3JhZ2UoJ25hbWUtJyArIGkpKTsKICAgICAgICAvL2lmKGNvbW1lbnR0eXBlID09ICJhbnkiIHx8IChjb21tZW50dHlwZSA9PSBwb3B1cC5wb3N0dHlwZSkpIHsKICAgICAgICBpZiggSXNDb21tZW50VmFsaWRGb3JQb3N0VHlwZSggY29tbWVudE5hbWUsIHBvcHVwLnBvc3R0eXBlICkgKSB7CiAgICAgICAgICBjb21tZW50TmFtZSA9IGNvbW1lbnROYW1lLnJlcGxhY2UoIFRhcmdldC5NQVRDSF9BTEwsICIiICk7CiAgICAgICAgICB2YXIgZGVzYyA9IEdldFN0b3JhZ2UoJ2Rlc2MtJyArIGkpLnJlcGxhY2UoL1wkU0lURU5BTUVcJC9nLCBzaXRlbmFtZSkucmVwbGFjZSgvXCRTSVRFVVJMXCQvZywgc2l0ZXVybCkucmVwbGFjZSgvXCRNWVVTRVJJRFwkL2csIG15dXNlcmlkKS5yZXBsYWNlKC9cJC9nLCAiJCQkIik7CiAgICAgICAgICB2YXIgb3B0ID0gb3B0aW9uVGVtcGxhdGUucmVwbGFjZSgvXCRJRFwkL2csIGkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoIiROQU1FJCIsIGNvbW1lbnROYW1lLnJlcGxhY2UoL1wkL2csICIkJCQiKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgiJERFU0NSSVBUSU9OJCIsIChzaG93R3JlZXRpbmcgPyBncmVldGluZyA6ICIiKSArIGRlc2MpOwogICAgICAgICAgdWwuYXBwZW5kKG9wdCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIFNob3dIaWRlRGVzY3JpcHRpb25zKHBvcHVwKTsKICAgICAgQWRkT3B0aW9uRXZlbnRIYW5kbGVycyhwb3B1cCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiBjb21tZW50IGNvdWxkIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBhIGdpdmVuIHBvc3QgdHlwZS4KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb21tZW50IFRoZSBjb21tZW50IGl0c2VsZi4KICAgICAqIEBwYXJhbSB7VGFyZ2V0fSBwb3N0VHlwZSBUaGUgdHlwZSBvZiBwb3N0IHRoZSBjb21tZW50IGNvdWxkIGJlIHBsYWNlZCBvbi4KICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIGNvbW1lbnQgaXMgdmFsaWQgZm9yIHRoZSB0eXBlIG9mIHBvc3Q7IGZhbHNlIG90aGVyd2lzZS4KICAgICAqLwogICAgZnVuY3Rpb24gSXNDb21tZW50VmFsaWRGb3JQb3N0VHlwZSggY29tbWVudCwgcG9zdFR5cGUgKSB7CiAgICAgIHZhciBkZXNpZ25hdG9yID0gY29tbWVudC5tYXRjaCggVGFyZ2V0Lk1BVENIX0FMTCApOwogICAgICBpZiggIWRlc2lnbmF0b3IgKSByZXR1cm4gdHJ1ZTsKCiAgICAgIHJldHVybiAoIC0xIDwgZGVzaWduYXRvci5pbmRleE9mKCBwb3N0VHlwZSApICk7CiAgICB9CgogICAgZnVuY3Rpb24gR2V0Q29tbWVudFR5cGUoY29tbWVudCkgewogICAgICBpZihjb21tZW50LmluZGV4T2YoJ1tRXScpID4gLTEpIHJldHVybiBUYXJnZXQuQ29tbWVudFF1ZXN0aW9uOwogICAgICBpZihjb21tZW50LmluZGV4T2YoJ1tBXScpID4gLTEpIHJldHVybiBUYXJnZXQuQ29tbWVudEFuc3dlcjsKICAgICAgcmV0dXJuICJhbnkiOwogICAgfQoKICAgIGZ1bmN0aW9uIEFkZE9wdGlvbkV2ZW50SGFuZGxlcnMocG9wdXApIHsKICAgICAgcG9wdXAuZmluZCgnbGFiZWwgPiBzcGFuJykuZGJsY2xpY2soZnVuY3Rpb24gKCkgeyBUb0VkaXRhYmxlKCQodGhpcykpOyB9KTsKICAgICAgcG9wdXAuZmluZCgnbGFiZWwgPiAucXVpY2staW5zZXJ0JykuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgIHZhciBsaSA9IHBhcmVudC5wYXJlbnQoKTsKICAgICAgICB2YXIgcmFkaW8gPSBwYXJlbnQuc2libGluZ3MoImlucHV0Iik7CiAgICAgICAgLy8gTWFyayBhY3Rpb24gYXMgc2VsZWN0ZWQuCiAgICAgICAgbGkuYWRkQ2xhc3MoJ2FjdGlvbi1zZWxlY3RlZCcpOwogICAgICAgIHJhZGlvLnByb3AoJ2NoZWNrZWQnLHRydWUpOwogICAgICAgIC8vIFRyaWdlciBmb3JtIHN1Ym1pc3Npb24uCiAgICAgICAgcG9wdXAuZmluZCgnLnBvcHVwLXN1Ym1pdCcpLnRyaWdnZXIoJ2NsaWNrJyk7CiAgICAgIH0pOwogICAgICAvL2FkZCBjbGljayBoYW5kbGVyIHRvIHJhZGlvIGJ1dHRvbnMKICAgICAgcG9wdXAuZmluZCgnaW5wdXQ6cmFkaW8nKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcG9wdXAuZmluZCgnLnBvcHVwLXN1Ym1pdCcpLnJlbW92ZUF0dHIoImRpc2FibGVkIik7IC8vZW5hYmxlIHN1Ym1pdCBidXR0b24KICAgICAgICAvL3Vuc2V0L3NldCBzZWxlY3RlZCBjbGFzcywgaGlkZSBvdGhlcnMgaWYgbmVjZXNzYXJ5CiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCd1bCcpLmZpbmQoJy5hY3Rpb24tc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnYWN0aW9uLXNlbGVjdGVkJyk7CiAgICAgICAgaWYoR2V0U3RvcmFnZSgnaGlkZS1kZXNjJykgPT0gImhpZGUiKSB7CiAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ3VsJykuZmluZCgnLmFjdGlvbi1kZXNjJykuaGlkZSgpOwogICAgICAgIH0KICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdhY3Rpb24tc2VsZWN0ZWQnKQogICAgICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmFjdGlvbi1kZXNjJykuc2hvdygpOwogICAgICB9KTsKICAgICAgcG9wdXAuZmluZCgnaW5wdXQ6cmFkaW8nKS5rZXl1cChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBpZihldmVudC53aGljaCA9PSAxMykgewogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHBvcHVwLmZpbmQoJy5wb3B1cC1zdWJtaXQnKS50cmlnZ2VyKCdjbGljaycpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgLy9BZGp1c3QgdGhlIGRlc2NyaXB0aW9ucyBzbyB0aGV5IHNob3cgb3IgaGlkZSBiYXNlZCBvbiB0aGUgdXNlcidzIHByZWZlcmVuY2UuCiAgICBmdW5jdGlvbiBTaG93SGlkZURlc2NyaXB0aW9ucyhwb3B1cCkgewogICAgICAvL2dldCBsaXN0IG9mIGFsbCBkZXNjcmlwdGlvbnMgZXhjZXB0IHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgb25lCiAgICAgIHZhciBkZXNjcmlwdGlvbnMgPSBwb3B1cC5maW5kKCJ1bC5hY3Rpb24tbGlzdCBsaTpub3QoLmFjdGlvbi1zZWxlY3RlZCkgc3BhbltpZCo9J2Rlc2MtJ10iKTsKCiAgICAgIGlmKEdldFN0b3JhZ2UoJ2hpZGUtZGVzYycpID09ICJoaWRlIikgewogICAgICAgIGRlc2NyaXB0aW9ucy5oaWRlKCk7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgZGVzY3JpcHRpb25zLnNob3coKTsKICAgICAgfQogICAgfQoKICAgIC8vU2hvdyBhIG1lc3NhZ2UgKGxpa2Ugbm90aWZ5LnNob3cpIGluc2lkZSBwb3B1cAogICAgZnVuY3Rpb24gU2hvd01lc3NhZ2UocG9wdXAsIHRpdGxlLCBib2R5LCBjYWxsYmFjaykgewogICAgICB2YXIgaHRtbCA9IGJvZHkucmVwbGFjZSgvXG4vZywgJzxCUi8+Jyk7CiAgICAgIHZhciBtZXNzYWdlID0gJChtZXNzYWdlVGVtcGxhdGUucmVwbGFjZSgiJFRJVExFJCIsIHRpdGxlKQogICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckQk9EWSQnLCBodG1sKSk7CiAgICAgIG1lc3NhZ2UuZmluZCgnLm5vdGlmeS1jbG9zZScpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZhZGVPdXRBbmRSZW1vdmUoKTsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9KTsKICAgICAgcG9wdXAuZmluZCgnaDInKS5iZWZvcmUobWVzc2FnZSk7CiAgICB9CgogICAgLy9HZXQgcmVtb3RlIGNvbnRlbnQgdmlhIGFqYXgsIHRhcmdldCB1cmwgbXVzdCBjb250YWluIHZhbGlkIGpzb24gd3JhcHBlZCBpbiBjYWxsYmFjaygpIGZ1bmN0aW9uCiAgICBmdW5jdGlvbiBHZXRSZW1vdGUodXJsLCBjYWxsYmFjaywgb25lcnJvcikgewogICAgICAkLmFqYXgoeyB0eXBlOiAiR0VUIiwgdXJsOiB1cmwgKyAnP2pzb25wPT8nLCBkYXRhVHlwZTogImpzb25wIiwganNvbnBDYWxsYmFjazogImNhbGxiYWNrIiwgdGltZW91dDogMjAwMCwgc3VjY2VzczogY2FsbGJhY2ssIGVycm9yOiBvbmVycm9yLCBhc3luYzogZmFsc2UgfSk7CiAgICB9CgogICAgLy9jdXN0b21pc2Ugd2VsY29tZQogICAgLy9yZXZlcnNlIGNvbXBhdGlibGUhCiAgICBmdW5jdGlvbiBMb2FkRnJvbVJlbW90ZSh1cmwsIGRvbmUsIGVycm9yKSB7CiAgICAgIEdldFJlbW90ZSh1cmwsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgU2V0U3RvcmFnZSgiY29tbWVudGNvdW50IiwgZGF0YS5sZW5ndGgpOwogICAgICAgIENsZWFyU3RvcmFnZSgibmFtZS0iKTsgQ2xlYXJTdG9yYWdlKCJkZXNjLSIpOwogICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7CiAgICAgICAgICBTZXRTdG9yYWdlKCduYW1lLScgKyBpbmRleCwgdmFsdWUubmFtZSk7CiAgICAgICAgICBTZXRTdG9yYWdlKCdkZXNjLScgKyBpbmRleCwgbWFya0Rvd25Ub0h0bWwodmFsdWUuZGVzY3JpcHRpb24pKTsKICAgICAgICB9KTsKICAgICAgICBkb25lKCk7CiAgICAgIH0sIGVycm9yKTsKICAgIH0KCiAgICAvL0ZhY3RvcmVkIG91dCBmcm9tIG1haW4gcG9wdSBjcmVhdGlvbiwganVzdCBiZWNhdXNlIGl0J3MgdG9vIGxvbmcKICAgIGZ1bmN0aW9uIFNldHVwUmVtb3RlQm94KHBvcHVwKSB7CiAgICAgIHZhciByZW1vdGUgPSBwb3B1cC5maW5kKCcjcmVtb3RlLXBvcHVwJyk7CiAgICAgIHZhciByZW1vdGVlcnJvciA9IHJlbW90ZS5maW5kKCcjcmVtb3RlZXJyb3IxJyk7CiAgICAgIHZhciB1cmxmaWVsZCA9IHJlbW90ZS5maW5kKCcjcmVtb3RldXJsJyk7CiAgICAgIHZhciBhdXRvZmllbGQgPSByZW1vdGUuZmluZCgnI3JlbW90ZWF1dG8nKTsKICAgICAgdmFyIHRocm9iYmVyID0gcmVtb3RlLmZpbmQoIiN0aHJvYmJlcjEiKTsKCiAgICAgIHBvcHVwLmZpbmQoJy5wb3B1cC1hY3Rpb25zLXJlbW90ZScpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB1cmxmaWVsZC52YWwoR2V0U3RvcmFnZSgiUmVtb3RlVXJsIikpOwogICAgICAgIGF1dG9maWVsZC5wcm9wKCdjaGVja2VkJywgR2V0U3RvcmFnZSgiQXV0b1JlbW90ZSIpID09ICd0cnVlJyk7CiAgICAgICAgcmVtb3RlLnNob3coKTsKICAgICAgfSk7CgogICAgICBwb3B1cC5maW5kKCcucmVtb3RlLWNhbmNlbCcpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB0aHJvYmJlci5oaWRlKCk7CiAgICAgICAgcmVtb3RlZXJyb3IudGV4dCgiIik7CiAgICAgICAgcmVtb3RlLmhpZGUoKTsKICAgICAgfSk7CgogICAgICBwb3B1cC5maW5kKCcucmVtb3RlLXNhdmUnKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgU2V0U3RvcmFnZSgiUmVtb3RlVXJsIiwgdXJsZmllbGQudmFsKCkpOwogICAgICAgIFNldFN0b3JhZ2UoIkF1dG9SZW1vdGUiLCBhdXRvZmllbGQucHJvcCgnY2hlY2tlZCcpKTsKICAgICAgICByZW1vdGUuaGlkZSgpOwogICAgICB9KTsKCiAgICAgIHBvcHVwLmZpbmQoJy5yZW1vdGUtZ2V0JykuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHRocm9iYmVyLnNob3coKTsKICAgICAgICBMb2FkRnJvbVJlbW90ZSh1cmxmaWVsZC52YWwoKSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgV3JpdGVDb21tZW50cyhwb3B1cCk7CiAgICAgICAgICB0aHJvYmJlci5oaWRlKCk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGQsIG1zZykgewogICAgICAgICAgcmVtb3RlZXJyb3IudGV4dChtc2cpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBTZXR1cFdlbGNvbWVCb3gocG9wdXApIHsKICAgICAgdmFyIHdlbGNvbWUgPSBwb3B1cC5maW5kKCcjd2VsY29tZS1wb3B1cCcpOwogICAgICB2YXIgY3VzdG9tID0gd2VsY29tZS5maW5kKCcjY3VzdG9td2VsY29tZScpOwoKICAgICAgcG9wdXAuZmluZCgnLnBvcHVwLWFjdGlvbnMtd2VsY29tZScpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBjdXN0b20udmFsKGdyZWV0aW5nKTsKICAgICAgICB3ZWxjb21lLnNob3coKTsKICAgICAgfSk7CgogICAgICBwb3B1cC5maW5kKCcud2VsY29tZS1jYW5jZWwnKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgd2VsY29tZS5oaWRlKCk7CiAgICAgIH0pOwoKICAgICAgcG9wdXAuZmluZCgnLndlbGNvbWUtZm9yY2UnKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgc2hvd0dyZWV0aW5nID0gdHJ1ZTsKICAgICAgICBXcml0ZUNvbW1lbnRzKHBvcHVwKTsKICAgICAgICB3ZWxjb21lLmhpZGUoKTsKICAgICAgfSk7CgogICAgICBwb3B1cC5maW5kKCcud2VsY29tZS1zYXZlJykuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBtc2cgPSBjdXN0b20udmFsKCkgPT0gIiIgPyAiTk9ORSIgOiBjdXN0b20udmFsKCk7CiAgICAgICAgU2V0U3RvcmFnZSgiV2VsY29tZU1lc3NhZ2UiLCBtc2cpOwogICAgICAgIGdyZWV0aW5nID0gY3VzdG9tLnZhbCgpOwogICAgICAgIHdlbGNvbWUuaGlkZSgpOwogICAgICB9KTsKICAgIH0KCiAgICB2YXIgY3NzRWxlbWVudCA9ICQoY3NzVGVtcGxhdGUpOwogICAgJCgiaGVhZCIpLmFwcGVuZChjc3NFbGVtZW50KTsKCiAgICAvKioKICAgICAqIEF0dGFjaCBhbiAiYXV0byIgbGluayBzb21ld2hlcmUgaW4gdGhlIERPTS4gVGhpcyBsaW5rIGlzIGdvaW5nIHRvIHRyaWdnZXIgdGhlIGljb25pYyBBUkMgYmVoYXZpb3IuCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHJpZ2dlclNlbGVjdG9yIEEgc2VsZWN0b3IgZm9yIGEgRE9NIGVsZW1lbnQgd2hpY2gsIHdoZW4gY2xpY2tlZCwgd2lsbCBpbnZva2UgdGhlIGxvY2F0b3IuCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsb2NhdG9yIEEgZnVuY3Rpb24gdGhhdCB3aWxsIHNlYXJjaCBmb3IgYm90aCB0aGUgRE9NIGVsZW1lbnQsIG5leHQgdG8gd2hpY2ggdGhlICJhdXRvIiBsaW5rCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbGwgYmUgcGxhY2VkIGFuZCB3aGVyZSB0aGUgdGV4dCBzZWxlY3RlZCBmcm9tIHRoZSBwb3B1cCB3aWxsIGJlIGluc2VydGVkLgogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSB0aGUgdHJpZ2dlckVsZW1lbnQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHdoZW4gY2FsbGVkIGFuZCBpdAogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGQgcmV0dXJuIGFuIGFycmF5IHdpdGggdGhlIHR3byBET00gZWxlbWVudHMgaW4gdGhlIGV4cGVjdGVkIG9yZGVyLgogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5qZWN0b3IgQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHRvIGFjdHVhbGx5IGluamVjdCB0aGUgImF1dG8iIGxpbmsgaW50byB0aGUgRE9NLgogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBmdW5jdGlvbiB3aWxsIHJlY2VpdmUgdGhlIGVsZW1lbnQgdGhhdCB0aGUgbG9jYXRvciBmb3VuZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgd2hlbiBjYWxsZWQuCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJdCB3aWxsIHJlY2VpdmUgdGhlIGFjdGlvbiBmdW5jdGlvbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBzbyBpdCBrbm93IHdoYXQgdG8gaW52b2tlIHdoZW4gdGhlICJhdXRvIiBsaW5rIGlzIGNsaWNrZWQuCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb24gQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGluamVjdGVkICJhdXRvIiBsaW5rIGlzIGNsaWNrZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGF0dGFjaEF1dG9MaW5rSW5qZWN0b3IoIHRyaWdnZXJTZWxlY3RvciwgbG9jYXRvciwgaW5qZWN0b3IsIGFjdGlvbiApIHsKICAgICAgLyoqCiAgICAgICAqIFRoZSBpbnRlcm5hbCBpbmplY3RvciBpbnZva2VzIHRoZSBsb2NhdG9yIHRvIGZpbmQgYW4gZWxlbWVudCBpbiByZWxhdGlvbiB0byB0aGUgdHJpZ2dlciBlbGVtZW50IGFuZCB0aGVuIGludm9rZXMgdGhlIGluamVjdG9yIG9uIGl0LgogICAgICAgKiBAcGFyYW0ge2pRdWVyeX0gdHJpZ2dlckVsZW1lbnQgVGhlIGVsZW1lbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIG1lY2hhbmlzbS4KICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtyZXRyeUNvdW50PTBdIEhvdyBvZnRlbiB0aGlzIG9wZXJhdGlvbiB3YXMgYWxyZWFkeSByZXRyaWVkLiAyMCByZXRyaWVzIHdpbGwgYmUgcGVyZm9ybWVkIGluIDUwbXMgaW50ZXJ2YWxzLgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KICAgICAgdmFyIF9pbnRlcm5hbEluamVjdG9yID0gZnVuY3Rpb24oIHRyaWdnZXJFbGVtZW50LCByZXRyeUNvdW50ICkgewogICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIHRoZSBlbGVtZW50IGFmdGVyIDIwIHJldHJpZXMsIGdpdmUgdXAuCiAgICAgICAgaWYoIDIwIDw9IHJldHJ5Q291bnQgKSByZXR1cm47CiAgICAgICAgLy8gVHJ5IHRvIGxvY2F0ZSB0aGUgZWxlbWVudHMuCiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnRzID0gbG9jYXRvciggdHJpZ2dlckVsZW1lbnQgKTsKICAgICAgICB2YXIgaW5qZWN0TmV4dFRvID0gdGFyZ2V0RWxlbWVudHNbIDAgXTsKICAgICAgICB2YXIgcGxhY2VDb21tZW50SW4gPSB0YXJnZXRFbGVtZW50c1sgMSBdCiAgICAgICAgLy8gV2UgZGlkbid0IGZpbmQgaXQ/IFRyeSBhZ2FpbiBpbiA1MG1zLgogICAgICAgIGlmKCAhaW5qZWN0TmV4dFRvLmxlbmd0aCApIHsKICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBfaW50ZXJuYWxJbmplY3RvciggdHJpZ2dlckVsZW1lbnQsIHJldHJ5Q291bnQgKyAxICk7CiAgICAgICAgICB9LCA1MCApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBDYWxsIG91ciBpbmplY3RvciBvbiB0aGUgZm91bmQgZWxlbWVudC4KICAgICAgICAgIGluamVjdG9yKCBpbmplY3ROZXh0VG8sIGFjdGlvbiwgcGxhY2VDb21tZW50SW4gKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIC8vIE1heWJlIHVzZSB0aGlzIGluc3RlYWQgKGlmIHN1cHBvcnRlZCk6ICQoICIjY29udGVudCIgKS5vbiggImNsaWNrIiwgdHJpZ2dlclNlbGVjdG9yLCBmdW5jdGlvbigpIHsKICAgICAgJCggIiNjb250ZW50IiApLmRlbGVnYXRlKCB0cmlnZ2VyU2VsZWN0b3IsICJjbGljayIsIGZ1bmN0aW9uKCBldmVudCApIHsKICAgICAgICAvKiogQHR5cGUgalF1ZXJ5ICovCiAgICAgICAgdmFyIHRyaWdnZXJFbGVtZW50ID0gJCggZXZlbnQudGFyZ2V0ICk7CiAgICAgICAgX2ludGVybmFsSW5qZWN0b3IoIHRyaWdnZXJFbGVtZW50ICk7CiAgICAgIH0gKTsKICAgIH0KICAgIGF0dGFjaEF1dG9MaW5rSW5qZWN0b3IoICIuanMtYWRkLWxpbmsiLCBmaW5kQ29tbWVudEVsZW1lbnRzLCBpbmplY3RBdXRvTGluaywgYXV0b0xpbmtBY3Rpb24gKTsKICAgIGF0dGFjaEF1dG9MaW5rSW5qZWN0b3IoICIuZWRpdC1wb3N0IiwgZmluZEVkaXRTdW1tYXJ5RWxlbWVudHMsIGluamVjdEF1dG9MaW5rRWRpdCwgYXV0b0xpbmtBY3Rpb24gKTsKICAgIGF0dGFjaEF1dG9MaW5rSW5qZWN0b3IoICIuY2xvc2UtcXVlc3Rpb24tbGluayIsIGZpbmRDbG9zdXJlRWxlbWVudHMsIGluamVjdEF1dG9MaW5rQ2xvc3VyZSwgYXV0b0xpbmtBY3Rpb24gKTsKCiAgICAvKioKICAgICAqIEEgbG9jYXRvciBmb3IgdGhlIGhlbHAgbGluayBuZXh0IHRvIHRoZSBjb21tZW50IGJveCB1bmRlciBhIHBvc3QgYW5kIHRoZSB0ZXh0YXJlYSBmb3IgdGhlIGNvbW1lbnQuCiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gd2hlcmUgQSBET00gZWxlbWVudCwgbmVhciB3aGljaCB3ZSdyZSBsb29raW5nIGZvciB0aGUgbG9jYXRpb24gd2hlcmUgdG8gaW5qZWN0IG91ciBsaW5rLgogICAgICogQHJldHVybnMge1tqUXVlcnldfSBUaGUgRE9NIGVsZW1lbnQgbmV4dCB0byB3aGljaCB0aGUgbGluayBzaG91bGQgYmUgaW5zZXJ0ZWQgYW5kIHRoZSBlbGVtZW50IGludG8gd2hpY2ggdGhlCiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgc2hvdWxkIGJlIHBsYWNlZC4KICAgICAqLwogICAgZnVuY3Rpb24gZmluZENvbW1lbnRFbGVtZW50cyggd2hlcmUgKSB7CiAgICAgIHZhciBkaXZpZCA9IHdoZXJlLnBhcmVudCgpLmF0dHIoJ2lkJykucmVwbGFjZSgnLWxpbmsnLCAnJyk7CiAgICAgIHZhciBpbmplY3ROZXh0VG8gPSAkKCcjJyArIGRpdmlkKS5maW5kKCcuY29tbWVudC1oZWxwLWxpbmsnKTsKICAgICAgdmFyIHBsYWNlQ29tbWVudEluID0gJCgnIycgKyBkaXZpZCkuZmluZCgidGV4dGFyZWEiKTsKICAgICAgcmV0dXJuIFsgaW5qZWN0TmV4dFRvLCBwbGFjZUNvbW1lbnRJbiBdOwogICAgfQogICAgLyoqCiAgICAgKiBBIGxvY2F0b3IgZm9yIHRoZSBlZGl0IHN1bW1hcnkgaW5wdXQgYm94IHVuZGVyIGEgcG9zdCB3aGlsZSBpdCBpcyBiZWluZyBlZGl0ZWQuCiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gd2hlcmUgQSBET00gZWxlbWVudCwgbmVhciB3aGljaCB3ZSdyZSBsb29raW5nIGZvciB0aGUgbG9jYXRpb24gd2hlcmUgdG8gaW5qZWN0IG91ciBsaW5rLgogICAgICogQHJldHVybnMge1tqUXVlcnldfSBUaGUgRE9NIGVsZW1lbnQgbmV4dCB0byB3aGljaCB0aGUgbGluayBzaG91bGQgYmUgaW5zZXJ0ZWQgYW5kIHRoZSBlbGVtZW50IGludG8gd2hpY2ggdGhlCiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgc2hvdWxkIGJlIHBsYWNlZC4KICAgICAqLwogICAgZnVuY3Rpb24gZmluZEVkaXRTdW1tYXJ5RWxlbWVudHMoIHdoZXJlICkgewogICAgICB2YXIgZGl2aWQgPSB3aGVyZS5hdHRyKCdocmVmJykucmVwbGFjZSgnL3Bvc3RzLycsICcnKS5yZXBsYWNlKCcvZWRpdCcsICcnKTsKICAgICAgdmFyIGluamVjdE5leHRUbyA9ICQoJyNwb3N0LWVkaXRvci0nICsgZGl2aWQpLm5leHQoKS5maW5kKCcuZWRpdC1jb21tZW50Jyk7CiAgICAgIHZhciBwbGFjZUNvbW1lbnRJbiA9IGluamVjdE5leHRUbzsKICAgICAgcmV0dXJuIFsgaW5qZWN0TmV4dFRvLCBwbGFjZUNvbW1lbnRJbiBdOwogICAgfQogICAgLyoqCiAgICAgKiBBIGxvY2F0b3IgZm9yIHRoZSB0ZXh0IGFyZWEgaW4gd2hpY2ggdG8gcHV0IGEgY3VzdG9tIG9mZi10b3BpYyBjbG9zdXJlIHJlYXNvbiBpbiB0aGUgY2xvc3VyZSBkaWFsb2cuCiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gd2hlcmUgQSBET00gZWxlbWVudCwgbmVhciB3aGljaCB3ZSdyZSBsb29raW5nIGZvciB0aGUgbG9jYXRpb24gd2hlcmUgdG8gaW5qZWN0IG91ciBsaW5rLgogICAgICogQHJldHVybnMge1tqUXVlcnldfSBUaGUgRE9NIGVsZW1lbnQgbmV4dCB0byB3aGljaCB0aGUgbGluayBzaG91bGQgYmUgaW5zZXJ0ZWQgYW5kIHRoZSBlbGVtZW50IGludG8gd2hpY2ggdGhlCiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgc2hvdWxkIGJlIHBsYWNlZC4KICAgICAqLwogICAgZnVuY3Rpb24gZmluZENsb3N1cmVFbGVtZW50cyggd2hlcmUgKSB7CiAgICAgIHZhciBpbmplY3ROZXh0VG8gPSAkKCIuY2xvc2UtYXMtb2ZmLXRvcGljLXBhbmUgdGV4dGFyZWEiKTsKICAgICAgdmFyIHBsYWNlQ29tbWVudEluID0gaW5qZWN0TmV4dFRvOwogICAgICByZXR1cm4gWyBpbmplY3ROZXh0VG8sIHBsYWNlQ29tbWVudEluIF07CiAgICB9CgogICAgLyoqCiAgICAgKiBJbmplY3QgdGhlIGF1dG8gbGluayBuZXh0IHRvIHRoZSBnaXZlbiBET00gZWxlbWVudC4KICAgICAqIEBwYXJhbSB7alF1ZXJ5fSB3aGVyZSBUaGUgRE9NIGVsZW1lbnQgbmV4dCB0byB3aGljaCB3ZSdsbCBwbGFjZSB0aGUgbGluay4KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdoYXQgVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgbGluayBpcyBjbGlja2VkLgogICAgICogQHBhcmFtIHtqUXVlcnl9IHBsYWNlQ29tbWVudEluIFRoZSBET00gZWxlbWVudCBpbnRvIHdoaWNoIHRoZSBjb21tZW50IHNob3VsZCBiZSBwbGFjZWQuCiAgICAgKi8KICAgIGZ1bmN0aW9uIGluamVjdEF1dG9MaW5rKCB3aGVyZSwgd2hhdCwgcGxhY2VDb21tZW50SW4gKSB7CiAgICAgIHZhciBwb3N0dHlwZSA9IHdoZXJlLnBhcmVudHMoIi5xdWVzdGlvbiwgLmFuc3dlciIpLmF0dHIoImNsYXNzIikuc3BsaXQoJyAnKVswXTsgLy9zbGlnaHRseSBmcmFnaWxlCiAgICAgIGlmKCAiYW5zd2VyIiA9PSBwb3N0dHlwZSApIHBvc3R0eXBlID0gVGFyZ2V0LkNvbW1lbnRBbnN3ZXI7CiAgICAgIGlmKCAicXVlc3Rpb24iID09IHBvc3R0eXBlICkgcG9zdHR5cGUgPSBUYXJnZXQuQ29tbWVudFF1ZXN0aW9uOwogICAgICB2YXIgX2F1dG9MaW5rQWN0aW9uID0gZnVuY3Rpb24oKXsKICAgICAgICB3aGF0KCBwbGFjZUNvbW1lbnRJbiwgcG9zdHR5cGUgKTsKICAgICAgfTsKICAgICAgdmFyIGF1dG9MaW5rID0gJCgnPHNwYW4gY2xhc3M9ImxzZXAiPiB8IDwvc3Bhbj4nKS5hZGQoJCgnPGEgY2xhc3M9ImNvbW1lbnQtYXV0by1saW5rIj5hdXRvPC9hPicpLmNsaWNrKF9hdXRvTGlua0FjdGlvbikpOwogICAgICBhdXRvTGluay5pbnNlcnRBZnRlciggd2hlcmUgKTsKICAgIH0KICAgIC8qKgogICAgICogSW5qZWN0IHRoZSBhdXRvIGxpbmsgbmV4dCB0byB0aGUgZWRpdCBzdW1tYXJ5IGlucHV0IGJveC4KICAgICAqIFRoaXMgd2lsbCBhbHNvIHNsaWdodGx5IHNocmluayB0aGUgaW5wdXQgYm94LCBzbyB0aGF0IHRoZSBsaW5rIHdpbGwgZml0IG5leHQgdG8gaXQuCiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gd2hlcmUgVGhlIERPTSBlbGVtZW50IG5leHQgdG8gd2hpY2ggd2UnbGwgcGxhY2UgdGhlIGxpbmsuCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3aGF0IFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGxpbmsgaXMgY2xpY2tlZC4KICAgICAqIEBwYXJhbSB7alF1ZXJ5fSBwbGFjZUNvbW1lbnRJbiBUaGUgRE9NIGVsZW1lbnQgaW50byB3aGljaCB0aGUgY29tbWVudCBzaG91bGQgYmUgcGxhY2VkLgogICAgICovCiAgICBmdW5jdGlvbiBpbmplY3RBdXRvTGlua0VkaXQoIHdoZXJlLCB3aGF0LCBwbGFjZUNvbW1lbnRJbiApewogICAgICB3aGVyZS5jc3MoICJ3aWR0aCIsICI1MTBweCIgKTsKICAgICAgd2hlcmUuc2libGluZ3MoICIuYWN0dWFsLWVkaXQtb3ZlcmxheSIgKS5jc3MoICJ3aWR0aCIsICI1MTBweCIgKTsKCiAgICAgIHZhciBwb3N0dHlwZSA9IHdoZXJlLnBhcmVudHMoIi5xdWVzdGlvbiwgLmFuc3dlciIpLmF0dHIoImNsYXNzIikuc3BsaXQoJyAnKVswXTsgLy9zbGlnaHRseSBmcmFnaWxlCiAgICAgIGlmKCAiYW5zd2VyIiA9PSBwb3N0dHlwZSApIHBvc3R0eXBlID0gVGFyZ2V0LkVkaXRTdW1tYXJ5QW5zd2VyOwogICAgICBpZiggInF1ZXN0aW9uIiA9PSBwb3N0dHlwZSApIHBvc3R0eXBlID0gVGFyZ2V0LkVkaXRTdW1tYXJ5UXVlc3Rpb247CgogICAgICB2YXIgX2F1dG9MaW5rQWN0aW9uID0gZnVuY3Rpb24oKXsKICAgICAgICB3aGF0KCBwbGFjZUNvbW1lbnRJbiwgcG9zdHR5cGUgKTsKICAgICAgfTsKICAgICAgdmFyIGF1dG9MaW5rID0gJCgnPHNwYW4gY2xhc3M9ImxzZXAiPiB8IDwvc3Bhbj4nKS5hZGQoJCgnPGEgY2xhc3M9ImNvbW1lbnQtYXV0by1saW5rIj5hdXRvPC9hPicpLmNsaWNrKF9hdXRvTGlua0FjdGlvbikpOwogICAgICBhdXRvTGluay5pbnNlcnRBZnRlciggd2hlcmUgKTsKICAgIH0KICAgIC8qKgogICAgICogSW5qZWN0IHRoZSBhdXRvIGxpbmsgbmV4dCB0byB0aGUgZ2l2ZW4gRE9NIGVsZW1lbnQuCiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gd2hlcmUgVGhlIERPTSBlbGVtZW50IG5leHQgdG8gd2hpY2ggd2UnbGwgcGxhY2UgdGhlIGxpbmsuCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3aGF0IFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGxpbmsgaXMgY2xpY2tlZC4KICAgICAqIEBwYXJhbSB7alF1ZXJ5fSBwbGFjZUNvbW1lbnRJbiBUaGUgRE9NIGVsZW1lbnQgaW50byB3aGljaCB0aGUgY29tbWVudCBzaG91bGQgYmUgcGxhY2VkLgogICAgICovCiAgICBmdW5jdGlvbiBpbmplY3RBdXRvTGlua0Nsb3N1cmUoIHdoZXJlLCB3aGF0LCBwbGFjZUNvbW1lbnRJbiApIHsKICAgICAgdmFyIF9hdXRvTGlua0FjdGlvbiA9IGZ1bmN0aW9uKCl7CiAgICAgICAgd2hhdCggcGxhY2VDb21tZW50SW4sIFRhcmdldC5DbG9zdXJlICk7CiAgICAgIH07CiAgICAgIHZhciBhdXRvTGluayA9ICQoJzxzcGFuIGNsYXNzPSJsc2VwIj4gfCA8L3NwYW4+JykuYWRkKCQoJzxhIGNsYXNzPSJjb21tZW50LWF1dG8tbGluayI+YXV0bzwvYT4nKS5jbGljayhfYXV0b0xpbmtBY3Rpb24pKTsKICAgICAgYXV0b0xpbmsuaW5zZXJ0QWZ0ZXIoIHdoZXJlICk7CiAgICB9CgogICAgZnVuY3Rpb24gYXV0b0xpbmtBY3Rpb24oIHRhcmdldE9iamVjdCwgcG9zdHR5cGUgKSB7CiAgICAgIC8vQ3JlYXRlIHBvcHVwIGFuZCB3aXJlLXVwIHRoZSBmdW5jdGlvbmFsaXR5CiAgICAgIHZhciBwb3B1cCA9ICQobWFya3VwVGVtcGxhdGUpOwogICAgICBwb3B1cC5maW5kKCcucG9wdXAtY2xvc2UnKS5jbGljayhmdW5jdGlvbiAoKSB7IHBvcHVwLmZhZGVPdXRBbmRSZW1vdmUoKTsgfSk7CiAgICAgIHBvcHVwLnBvc3R0eXBlID0gcG9zdHR5cGU7CgogICAgICAvL1Jlc2V0IHRoaXMsIG90aGVyd2lzZSB3ZSBnZXQgdGhlIGdyZWV0aW5nIHR3aWNlLi4uCiAgICAgIHNob3dHcmVldGluZyA9IGZhbHNlOwoKICAgICAgLy9jcmVhdGUvYWRkIG9wdGlvbnMKICAgICAgV3JpdGVDb21tZW50cyhwb3B1cCk7CgogICAgICAvL0FkZCBoYW5kbGVycyBmb3IgY29tbWFuZCBsaW5rcwogICAgICBwb3B1cC5maW5kKCcucG9wdXAtYWN0aW9ucy1jYW5jZWwnKS5jbGljayhmdW5jdGlvbiAoKSB7IHBvcHVwLmZhZGVPdXRBbmRSZW1vdmUoKTsgfSk7CiAgICAgIHBvcHVwLmZpbmQoJy5wb3B1cC1hY3Rpb25zLXJlc2V0JykuY2xpY2soZnVuY3Rpb24gKCkgeyBSZXNldENvbW1lbnRzKCk7IFdyaXRlQ29tbWVudHMocG9wdXApOyB9KTsKICAgICAgcG9wdXAuZmluZCgnLnBvcHVwLWFjdGlvbnMtc2VlJykuaG92ZXIoZnVuY3Rpb24gKCkgewogICAgICAgIHBvcHVwLmZhZGVUbygnZmFzdCcsICcwLjQnKS5jaGlsZHJlbigpLm5vdCgnI2Nsb3NlJykuZmFkZVRvKCdmYXN0JywgJzAuMCcpCiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBwb3B1cC5mYWRlVG8oJ2Zhc3QnLCAnMS4wJykuY2hpbGRyZW4oKS5ub3QoJyNjbG9zZScpLmZhZGVUbygnZmFzdCcsICcxLjAnKQogICAgICB9KTsKICAgICAgcG9wdXAuZmluZCgnLnBvcHVwLWFjdGlvbnMtaW1wZXhwJykuY2xpY2soZnVuY3Rpb24gKCkgeyBJbXBvcnRFeHBvcnQocG9wdXApOyB9KTsKICAgICAgcG9wdXAuZmluZCgnLnBvcHVwLWFjdGlvbnMtdG9nZ2xlZGVzYycpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgaGlkZURlc2MgPSBHZXRTdG9yYWdlKCdoaWRlLWRlc2MnKSB8fCAic2hvdyI7CiAgICAgICAgU2V0U3RvcmFnZSgnaGlkZS1kZXNjJywgaGlkZURlc2MgPT0gInNob3ciID8gImhpZGUiIDogInNob3ciKTsKICAgICAgICBTaG93SGlkZURlc2NyaXB0aW9ucyhwb3B1cCk7CiAgICAgIH0pOwogICAgICAvL0hhbmRsZSByZW1vdGUgdXJsICYgd2VsY29tZQogICAgICBTZXR1cFJlbW90ZUJveChwb3B1cCk7CiAgICAgIFNldHVwV2VsY29tZUJveChwb3B1cCk7CgogICAgICAvL29uIHN1Ym1pdCwgY29udmVydCBodG1sIHRvIG1hcmtkb3duIGFuZCBjb3B5IHRvIGNvbW1lbnQgdGV4dGFyZWEKICAgICAgcG9wdXAuZmluZCgnLnBvcHVwLXN1Ym1pdCcpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgc2VsZWN0ZWQgPSBwb3B1cC5maW5kKCdpbnB1dDpyYWRpbzpjaGVja2VkJyk7CiAgICAgICAgdmFyIG1hcmtkb3duID0gaHRtbFRvTWFya0Rvd24oc2VsZWN0ZWQucGFyZW50KCkuZmluZCgnLmFjdGlvbi1kZXNjJykuaHRtbCgpKS5yZXBsYWNlKC9cW3VzZXJuYW1lXF0vZywgdXNlcm5hbWUpLnJlcGxhY2UoL1xbT1BcXS9nLCBPUCk7CiAgICAgICAgdGFyZ2V0T2JqZWN0LnZhbChtYXJrZG93bikuZm9jdXMoKTsgIC8vZm9jdXMgcHJvdm9rZXMgY2hhcmFjdGVyIGNvdW50IHRlc3QKICAgICAgICB2YXIgY2FyZXQgPSBtYXJrZG93bi5pbmRleE9mKCdbdHlwZSBoZXJlXScpCiAgICAgICAgaWYoY2FyZXQgPj0gMCkgdGFyZ2V0T2JqZWN0WzBdLnNldFNlbGVjdGlvblJhbmdlKGNhcmV0LCBjYXJldCArICdbdHlwZSBoZXJlXScubGVuZ3RoKTsKICAgICAgICBwb3B1cC5mYWRlT3V0QW5kUmVtb3ZlKCk7CiAgICAgIH0pOwoKICAgICAgLy9BdXRvLWxvYWQgZnJvbSByZW1vdGUgaWYgcmVxdWlyZWQKICAgICAgaWYoIXdpbmRvdy5WZXJzaW9uQ2hlY2tlZCAmJiBHZXRTdG9yYWdlKCJBdXRvUmVtb3RlIikgPT0gJ3RydWUnKSB7CiAgICAgICAgdmFyIHRocm9iYmVyID0gcG9wdXAuZmluZCgiI3Rocm9iYmVyMiIpOwogICAgICAgIHZhciByZW1vdGVlcnJvciA9IHBvcHVwLmZpbmQoJyNyZW1vdGVlcnJvcjInKTsKICAgICAgICB0aHJvYmJlci5zaG93KCk7CiAgICAgICAgTG9hZEZyb21SZW1vdGUoR2V0U3RvcmFnZSgiUmVtb3RlVXJsIiksCiAgICAgICAgICBmdW5jdGlvbiAoKSB7IFdyaXRlQ29tbWVudHMocG9wdXApOyB0aHJvYmJlci5oaWRlKCk7IH0sCiAgICAgICAgICBmdW5jdGlvbiAoZCwgbXNnKSB7IHJlbW90ZWVycm9yLnRleHQobXNnKTsgfSk7CiAgICAgIH0KCiAgICAgIC8vIEF0dGFjaCB0byAjY29udGVudCwgZXZlcnl0aGluZyBlbHNlIGlzIHRvbyBmcmFnaWxlLgogICAgICAkKCIjY29udGVudCIpLmFwcGVuZChwb3B1cCk7CiAgICAgIHBvcHVwLmNlbnRlcigpOwogICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuYmluZE1vdmFibGVQb3B1cHMoKTsKCiAgICAgIC8vR2V0IHVzZXIgaW5mbyBhbmQgaW5qZWN0CiAgICAgIHZhciB1c2VyaWQgPSBnZXRVc2VySWQoJCh0aGlzKSk7CiAgICAgIGdldFVzZXJJbmZvKHVzZXJpZCwgcG9wdXApOwogICAgICBPUCA9IGdldE9QKCk7CgogICAgICAvL1dlIG9ubHkgYWN0dWFsbHkgcGVyZm9ybSB0aGUgdXBkYXRlcyBjaGVjayB3aGVuIHNvbWVvbmUgY2xpY2tzLCB0aGlzIHNob3VsZCBtYWtlIGl0IGxlc3MgY29zdGx5LCBhbmQgbW9yZSB0aW1lbHkKICAgICAgLy9hbHNvIHdyYXAgaXQgc28gdGhhdCBpdCBvbmx5IGdldHMgY2FsbGVkIHRoZSAqRklSU1QqIHRpbWUgd2Ugb3BlbiB0aGlzIGRpYWxvZyBvbiBhbnkgZ2l2ZW4gcGFnZSAobm90IG11Y2ggb2YgYW4gb3B0aW1pc2F0aW9uKS4KICAgICAgaWYodHlwZW9mIENoZWNrRm9yTmV3VmVyc2lvbiA9PSAiZnVuY3Rpb24iICYmICF3aW5kb3cuVmVyc2lvbkNoZWNrZWQpIHsgQ2hlY2tGb3JOZXdWZXJzaW9uKHBvcHVwKTsgd2luZG93LlZlcnNpb25DaGVja2VkID0gdHJ1ZTsgfQogICAgfQogIH0pOwp9KTsK"},{"name":"NATO Enhancements","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?:\\/\\/(meta\\.)?stackoverflow.com\\/tools\\/new-answers-old-questions.*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"ts":1456466373761,"data":{}},"enabled":true,"position":18,"file_url":"https://raw.githubusercontent.com/Tiny-Giant/myuserscripts/master/NATOEnhancements.user.js","uuid":"6dad8b6e-1a2a-42b0-901e-67831ea0cf8f","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBOQVRPIEVuaGFuY2VtZW50cwovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly9naXRodWIuY29tL1RpbnktR2lhbnQKLy8gQHZlcnNpb24gICAgICAxLjAuMC44Ci8vIEBkZXNjcmlwdGlvbiAgSW5jbHVkZXMgdGhlIGFjdHVhbCBwb3N0IG9uIHRoZSBuZXcgYW5zd2VycyB0byBvbGQgcXVlc3Rpb25zIHBhZ2Ugb2YgdGhlIDEwayB0b29scy4gCi8vIEBhdXRob3IgICAgICAgQFRpbnlHaWFudAovLyBAaW5jbHVkZSAgICAgIC9odHRwcz86XC9cLyhtZXRhXC4pP3N0YWNrb3ZlcmZsb3cuY29tXC90b29sc1wvbmV3LWFuc3dlcnMtb2xkLXF1ZXN0aW9ucy4qLwovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09Ci8qIGpzaGludCAtVzA5NyAqLwovKiBqc2hpbnQgZXNuZXh0OiB0cnVlICovCid1c2Ugc3RyaWN0JzsKCmNvbnN0IFNjcmlwdFRvSW5qZWN0ID0gZnVuY3Rpb24oKQp7CiAgICAndXNlIHN0cmljdCc7CiAgICBjb25zdCBmdW5jcyA9IHt9OwoKICAgIGZ1bmNzLmZldGNoID0gKHVybCwgY29tcGxldGUpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+CiAgICB7CiAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoKICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGV2ZW50ID0+CiAgICAgICAgewogICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyAhPT0gMjAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHhocik7CiAgICAgICAgICAgICAgICByZWplY3QoeGhyKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHR5cGVvZiBjb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29tcGxldGUoeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlc29sdmUoeGhyKTsKICAgICAgICB9LCBmYWxzZSk7CgogICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpOwoKICAgICAgICB4aHIuc2VuZCgpOwogICAgfSk7CgogICAgZnVuY3MuZmV0Y2hQb3N0cyA9IHBvc3RzID0+CiAgICB7CiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTsKCiAgICAgICAgY29uc3QgcG9zdHZvdGVzID0gW107CgogICAgICAgIGZvciAobGV0IHBvc3Qgb2YgcG9zdHMpCiAgICAgICAgewogICAgICAgICAgICAvLyBGaXJlZm94IGlzIGEgYml0Y2gsIGFuZCBkb2Vzbid0IGhhbmRsZSBsZXQgaW4gZm9yLi4ub2YgbG9vcHMgcHJvcGVybHkuCiAgICAgICAgICAgIChmdW5jdGlvbihwb3N0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAvLyBHZXQgcG9zdHMKICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goZnVuY3MuZmV0Y2goJy9wb3N0cy9hamF4LWxvYWQtcmVhbHRpbWUvJyArIHBvc3QucXVlc3Rpb25pZCwgaHRtbCA9PgogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHBvc3Qubm9kZXMucXVlc3Rpb24uaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goZnVuY3MuZmV0Y2goJy9wb3N0cy9hamF4LWxvYWQtcmVhbHRpbWUvJyArIHBvc3QuYW5zd2VyaWQsIGh0bWwgPT4KICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBwb3N0Lm5vZGVzLmFuc3dlci5pbm5lckhUTUwgPSBodG1sOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIC8vIEdldCB2b3RlcwogICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChmdW5jcy5mZXRjaCgnL3Bvc3RzLycgKyBwb3N0LnF1ZXN0aW9uaWQgKyAnL3ZvdGVzJywgdm90ZXMgPT4KICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB2b3RlcyA9IEpTT04ucGFyc2Uodm90ZXMpOwoKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwb3N0IG9mIHZvdGVzKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHZvdGVzLnB1c2gocG9zdCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB9KShwb3N0KTsKICAgICAgICB9CgogICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKHhociA9PgogICAgICAgIHsKICAgICAgICAgICAgZnVuY3MuYWRkQ1NTKCk7CgogICAgICAgICAgICBmb3IgKGxldCBwb3N0IG9mIHBvc3RzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBwb3N0Lm5vZGVzLmNvbHVtbnNbMF0uaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBwb3N0Lm5vZGVzLmNvbHVtbnNbMV0uaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBwb3N0Lm5vZGVzLmNvbHVtbnNbMF0uYXBwZW5kQ2hpbGQocG9zdC5ub2Rlcy53cmFwKTsKICAgICAgICAgICAgICAgIHBvc3Qubm9kZXMud3JhcC5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uaW5pdCgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdm90ZXNDYXN0OiBwb3N0dm90ZXMsCiAgICAgICAgICAgICAgICBjYW5WaWV3Vm90ZUNvdW50czogdHJ1ZSwKICAgICAgICAgICAgICAgIHF1ZXN0aW9uSWQ6IHBvc3RzWzBdLnF1ZXN0aW9uaWQsCiAgICAgICAgICAgICAgICBjYW5PcGVuQm91bnR5OiB0cnVlCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3QgY29tbWVudExpbmtzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtc2hvdy1saW5rLmNvbW1lbnRzLWxpbmsnKSk7CgogICAgICAgICAgICBmb3IgKGxldCBjb21tZW50TGluayBvZiBjb21tZW50TGlua3MpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNvbW1lbnRMaW5rLmNsaWNrKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAobGV0IHBvc3Qgb2YgcG9zdHMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UucmVhbHRpbWUuc3Vic2NyaWJlVG9RdWVzdGlvbihTdGFja0V4Y2hhbmdlLm9wdGlvbnMuc2l0ZS5pZCwgcG9zdC5xdWVzdGlvbmlkKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5pbmxpbmVUYWdFZGl0aW5nLmluaXQoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5yZW1vdmVTcGlubmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdWJoZWFkZXIgaDEnKSk7CiAgICAgICAgfSwgeGhyID0+CiAgICAgICAgewogICAgICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkJywgeGhyKTsKICAgICAgICB9KTsKICAgIH07CgogICAgZnVuY3MuYXBwZW5kTm9kZXMgPSBwb3N0cyA9PgogICAgewogICAgICAgIGZvciAobGV0IHBvc3Qgb2YgcG9zdHMpCiAgICAgICAgewogICAgICAgICAgICBwb3N0Lm5vZGVzLmNvbHVtbnNbMF0uYXBwZW5kQ2hpbGQocG9zdC5ub2Rlcy53cmFwKTsKICAgICAgICB9CiAgICB9OwoKICAgIGZ1bmNzLmdldFBvc3RzID0gKCkgPT4KICAgIHsKICAgICAgICBjb25zdCBwb3N0cyA9IFtdOwogICAgICAgIGNvbnN0IHJvd3MgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWZhdWx0LXZpZXctcG9zdC10YWJsZSA+IHRib2R5ID4gdHInKSk7CgogICAgICAgIGZvciAobGV0IHJvdyBvZiByb3dzKQogICAgICAgIHsKICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSB7fTsKCiAgICAgICAgICAgIG5vZGVzLnNjb3BlID0gcm93OwogICAgICAgICAgICBub2Rlcy5jb2x1bW5zID0gQXJyYXkuZnJvbShub2Rlcy5zY29wZS5jaGlsZHJlbik7CiAgICAgICAgICAgIG5vZGVzLndyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbm9kZXMud3JhcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICAgICAgICAgICAgbm9kZXMub2xkID0ge307CgogICAgICAgICAgICBub2Rlcy5vbGQuYW5zd2VyID0gbm9kZXMuc2NvcGUucXVlcnlTZWxlY3RvcignLnBvc3QtdGV4dCcpOwogICAgICAgICAgICBub2Rlcy5vbGQudGl0bGUgPSBub2Rlcy5zY29wZS5xdWVyeVNlbGVjdG9yKCcuYW5zd2VyLWh5cGVybGluaycpOwoKICAgICAgICAgICAgY29uc3QgdXJsc2VjdGlvbnMgPSAvKFxkKylcLyguKj8pXC8oXGQrKS8uZXhlYyhub2Rlcy5vbGQudGl0bGUuaHJlZik7CiAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uaWQgPSB1cmxzZWN0aW9uc1sxXTsKICAgICAgICAgICAgY29uc3QgdGl0bGVzbHVnID0gdXJsc2VjdGlvbnNbMl07CiAgICAgICAgICAgIGNvbnN0IGFuc3dlcmlkID0gdXJsc2VjdGlvbnNbM107CgogICAgICAgICAgICBub2Rlcy50aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7CiAgICAgICAgICAgIG5vZGVzLndyYXAuYXBwZW5kQ2hpbGQobm9kZXMudGl0bGUpOwoKICAgICAgICAgICAgbm9kZXMubGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgICAgbm9kZXMubGluay5ocmVmID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgJy9xdWVzdGlvbnMvJyArIHF1ZXN0aW9uaWQgKyAnLycgKyB0aXRsZXNsdWc7CiAgICAgICAgICAgIG5vZGVzLmxpbmsudGV4dENvbnRlbnQgPSBub2Rlcy5vbGQudGl0bGUudGV4dENvbnRlbnQ7CiAgICAgICAgICAgIG5vZGVzLnRpdGxlLmFwcGVuZENoaWxkKG5vZGVzLmxpbmspOwoKICAgICAgICAgICAgbm9kZXMucXVlc3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbm9kZXMud3JhcC5hcHBlbmRDaGlsZChub2Rlcy5xdWVzdGlvbik7CgogICAgICAgICAgICBub2Rlcy5hbnN3ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbm9kZXMud3JhcC5hcHBlbmRDaGlsZChub2Rlcy5hbnN3ZXIpOwoKICAgICAgICAgICAgcG9zdHMucHVzaCgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYW5zd2VyaWQ6IGFuc3dlcmlkLAogICAgICAgICAgICAgICAgcXVlc3Rpb25pZDogcXVlc3Rpb25pZCwKICAgICAgICAgICAgICAgIG5vZGVzOiBub2RlcwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwb3N0czsKICAgIH07CgogICAgZnVuY3MuYWRkQ1NTID0gKCkgPT4KICAgIHsKICAgICAgICBjb25zdCBDU1MgPSBbCiAgICAgICAgICAgICcucXVlc3Rpb24sIC5hbnN3ZXIgeycsCiAgICAgICAgICAgICcgICAgd2lkdGg6IDczMHB4ICFpbXBvcnRhbnQnLAogICAgICAgICAgICAnfScsCiAgICAgICAgICAgICdoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IHsnLAogICAgICAgICAgICAnICAgIGZvbnQtd2VpZ2h0OiBub3JtYWwnLAogICAgICAgICAgICAnfScsCiAgICAgICAgICAgICcuYW5zd2VyIHsnLAogICAgICAgICAgICAnICAgIGJhY2tncm91bmQ6IFJHQkEoMjU1LDE1MywwLCAwLjEpOycsCiAgICAgICAgICAgICcgICAgbWFyZ2luLXRvcDogMWVtOycsCiAgICAgICAgICAgICd9JwogICAgICAgIF0uam9pbignXG4nKTsKCiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3R5bGUpOwoKICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQ1NTKTsKICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZCh0ZXh0KTsKICAgIH0KCiAgICBmdW5jcy5pbml0ID0gKCkgPT4KICAgIHsKICAgICAgICBjb25zdCBwb3N0cyA9IGZ1bmNzLmdldFBvc3RzKCk7CgogICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1YmhlYWRlciBoMScpOwoKICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuYWRkU3Bpbm5lcih0aXRsZSk7CgogICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoImlubGluZUVkaXRpbmciLCAoKSA9PgogICAgICAgIHsKICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5pbmxpbmVFZGl0aW5nLmluaXQoKTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICAvLyBUaGlzIGhhY2sgaXMgdG8gc3RvcCB0aGUgaW5saW5lIHRhZyBlZGl0b3IgZnJvbSBtb3ZpbmcgYWxsIHRhZ3Mgb24gdGhlIHBhZ2UgaW50byB0aGUgZmlyc3QgcXVlc3Rpb24uCiAgICAgICAgLy8gU2hvZzkga25vd3MgYWJvdXQgdGhpcywgYnV0IGRlY2lkZWQgbm90IHRvIGZpeCBpdCBiZWNhdXNlIG5vIG9uZSB1c2luZyB0aGUgc2l0ZSBub3JtYWxseSB3aWxsIGV2ZXIKICAgICAgICAvLyBydW4gaW50byB0aGlzIHByb2JsZW0uIFRoYW5rIHRoZSBhbG1pZ2h0eSBTaG9nLgogICAgICAgIFN0YWNrRXhjaGFuZ2UudXNpbmcoImlubGluZVRhZ0VkaXRpbmciLCAoKSA9PiAKICAgICAgICB7CiAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaW5saW5lVGFnRWRpdGluZyA9IChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgcXVlc3Rpb25zID0gJCgnZGl2LnF1ZXN0aW9uJyk7CiAgICAgICAgICAgICAgICB2YXIgaW5pdHMgPSB7fTsKCiAgICAgICAgICAgICAgICBxdWVzdGlvbnMuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgIHZhciBxdWVzdGlvbiA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIGpUYWdMaXN0OwogICAgICAgICAgICAgICAgICAgIHZhciBqRWRpdFRhZ3NMaW5rOwogICAgICAgICAgICAgICAgICAgIHZhciBqTGlua1dyYXBwZXI7CgogICAgICAgICAgICAgICAgICAgIHZhciBxdWVzdGlvbklkOwogICAgICAgICAgICAgICAgICAgIHZhciByZXZpZXdUYXNrSWQ7CiAgICAgICAgICAgICAgICAgICAgdmFyIGpDdXJyZW50VGFnc0J1ZmZlciA9ICQoIjxkaXY+PC9kaXY+Iik7CgogICAgICAgICAgICAgICAgICAgIHZhciBiaW5kV3JhcHBlckhvdmVyRXZlbnRzID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBqTGlua1dyYXBwZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tb3VzZW92ZXIoZnVuY3Rpb24gKCkgeyBqRWRpdFRhZ3NMaW5rLnNob3coKTsgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tb3VzZW91dChmdW5jdGlvbiAoKSB7IGpFZGl0VGFnc0xpbmsuaGlkZSgpOyB9KTsKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICB2YXIgYmluZEVkaXRUYWdzTGlua0NsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBqRWRpdFRhZ3NMaW5rLnVuYmluZCgnY2xpY2snKS5vbmUoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpMaW5rV3JhcHBlci5mYWRlT3V0KCdmYXN0JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwb24gY2xpY2tpbmcgImVkaXQgdGFncyIsIHNhdmUgdGhlIGN1cnJlbnQgdGFncyBpbiBjYXNlIG9mIGNhbmNlbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpMaW5rV3JhcHBlci5hcHBlbmRUbyhqQ3VycmVudFRhZ3NCdWZmZXIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmZXRjaCBvdXIgdGFnIGVkaXRvciAtIHdpbGwgY29udGFpbiB0aGUgbGF0ZXN0IHRhZ3MsIHdoaWNoIGNvdWxkIGRpZmZlciBmcm9tIHdoYXQncyBsb2FkZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuYWRkU3Bpbm5lcihqVGFnTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9wb3N0cy8nICsgcXVlc3Rpb25JZCArICcvZWRpdC10YWdzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyByZXZpZXdUYXNrSWQ6IHJldmlld1Rhc2tJZCB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmZXRjaFN1Y2Nlc3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmZXRjaEVycm9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3RvcmVDdXJyZW50VGFncyA9IGZ1bmN0aW9uIChpbW1lZGlhdGVseSkgewogICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMuZGlzYWJsZVN1Ym1pdEJ1dHRvbihqVGFnTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5yZW1vdmVNZXNzYWdlcygpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9JdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpUYWdMaXN0LmVtcHR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqTGlua1dyYXBwZXIuYXBwZW5kVG8oalRhZ0xpc3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgakxpbmtXcmFwcGVyLnNob3coKS5maW5kKCdhI2VkaXQtdGFncycpLnBhcmVudCgpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpUYWdMaXN0LmZhZGVJbignZmFzdCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZEVkaXRUYWdzTGlua0NsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbW1lZGlhdGVseSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvSXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgalRhZ0xpc3QuZmFkZU91dCgnZmFzdCcsIGRvSXQpOwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIHZhciBmZXRjaFN1Y2Nlc3MgPSBmdW5jdGlvbiAoaHRtbCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB3ZSBjb3VsZCBmZXRjaCBuZXdlciB0YWdzIC0gdXBkYXRlIGpDdXJyZW50VGFnc0J1ZmZlcidzIHRhZ3Mgd2l0aCBsYXRlc3QKCiAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UuaGVscGVycy5yZW1vdmVTcGlubmVyKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSdsbCBoaWRlIHRoZSBjb250YWluZXIsIHRoZW4gc2hvdyBpdCB2aWEgYW5pbWF0aW9uIChKT1kpCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqSHRtbCA9ICQoaHRtbCk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGZldGNoIHRhZ2VkaXRvci5qcyBpZiB0aGUgYXV0b2NvbXBsZXRlIHBsdWdpbiBpc24ndCBhdmFpbGFibGUKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAkKCkuYXV0b2NvbXBsZXRlID09ICdmdW5jdGlvbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqSHRtbCA9IGpIdG1sLm5vdCgnc2NyaXB0W3NyYyo9InRhZ2VkaXRvci5qcyJdJyk7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgakZvcm0gPSAkKCc8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iL3Bvc3RzLycgKyBxdWVzdGlvbklkICsgJy9lZGl0LXRhZ3MiPjwvZm9ybT4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgalRhZ0xpc3QuY3NzKCdkaXNwbGF5JywgJ25vbmUnKS5hcHBlbmQoakZvcm0pOwogICAgICAgICAgICAgICAgICAgICAgICBqRm9ybS5hcHBlbmQoakh0bWwpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHN1Ym1pdCBhbmQgY2FuY2VsCiAgICAgICAgICAgICAgICAgICAgICAgIGpUYWdMaXN0LmZpbmQoJ2Rpdi5mb3JtLWl0ZW0nKS5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iZm9ybS1zdWJtaXQiPicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImZrZXkiIHZhbHVlPSInICsgU3RhY2tFeGNoYW5nZS5vcHRpb25zLnVzZXIuZmtleSArICciIC8+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icmV2aWV3VGFza0lkIiB2YWx1ZT0iJyArIHJldmlld1Rhc2tJZCArICciIC8+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8aW5wdXQ+JywgeyBpZDogImVkaXQtdGFncy1zdWJtaXQiLCB0eXBlOiAic3VibWl0IiwgdmFsdWU6ICJTYXZlIFRhZyBFZGl0cyIsIHRhYmluZGV4OiAiMTA0IiB9KS5wcm9wKCdvdXRlckhUTUwnKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGEgaWQ9ImVkaXQtdGFncy1jYW5jZWwiIGNsYXNzPSJjYW5jZWwtZWRpdCIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiIGhyZWY9IiMiIHRhYmluZGV4PSIxMDUiPicgKyAiY2FuY2VsIiArICc8L2E+JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLnVzaW5nKCJwb3N0VmFsaWRhdGlvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YWNrRXhjaGFuZ2UucG9zdFZhbGlkYXRpb24uaW5pdE9uQmx1ckFuZFN1Ym1pdChqRm9ybSwgMSwgJ3RhZ3MnLCBmYWxzZSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXJ2ZXIgc2VuZHMgZG93biB0aGUgc2F2ZWQgdGFncyBhcyB0aGV5IGFyZSBmaXJzdCByZW5kZXJlZCBvbiB0aGUgcGFnZSAtIHJlcGxhY2UgYnVmZmVyZWQgdGFncyBhbmQgc2hvdwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpMaW5rV3JhcHBlci5maW5kKCdhLnBvc3QtdGFnJykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgakxpbmtXcmFwcGVyLnByZXBlbmQoZGF0YS5odG1sKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN0b3JlQ3VycmVudFRhZ3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKCdyZXRhZycsIHF1ZXN0aW9uSWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgakZvcm0uZmluZCgnLmNhbmNlbC1lZGl0JykuY2xpY2soZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RvcmVDdXJyZW50VGFncygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGpUYWdMaXN0LmZhZGVJbignZmFzdCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWduYW1lcycpLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIHZhciBmZXRjaEVycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVuZG8gb3VyIHN0eWxpbmcgYW5kIHNob3cgd2hhdCBoYXBwZW5lZAogICAgICAgICAgICAgICAgICAgICAgICBTdGFja0V4Y2hhbmdlLmhlbHBlcnMucmVtb3ZlU3Bpbm5lcigpOwogICAgICAgICAgICAgICAgICAgICAgICByZXN0b3JlQ3VycmVudFRhZ3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgU3RhY2tFeGNoYW5nZS5oZWxwZXJzLnNob3dFcnJvck1lc3NhZ2UoakxpbmtXcmFwcGVyLCAocmVzcG9uc2UucmVzcG9uc2VUZXh0ICYmIHJlc3BvbnNlLnJlc3BvbnNlVGV4dC5sZW5ndGggPCAzMDAgPyByZXNwb25zZS5yZXNwb25zZVRleHQgOiAiQW4gZXJyb3Igb2NjdXJyZWQgd2hlbiBmZXRjaGluZyB0aGUgdGFnIGVkaXRvciIpKTsKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAvLyBwdWJsaWMgbWV0aG9kcwogICAgICAgICAgICAgICAgICAgIGluaXRzW3F1ZXN0aW9uSWRdID0gewogICAgICAgICAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoU3RhY2tFeGNoYW5nZS5kaXNhYmxlSW5saW5lVGFnRWRpdHMpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb25JZCA9IHF1ZXN0aW9uLmZpbmQoJ2Rpdi52b3RlID4gaW5wdXRbdHlwZT0iaGlkZGVuIl0nKS52YWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpUYWdMaXN0ID0gcXVlc3Rpb24uZmluZCgnZGl2LnBvc3QtdGFnbGlzdCcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdyYXAgb3VyIHRhZ3MgaW4gYSBzcGFuIHRvIGVhc2UgaG92ZXIgc2hvdy9oaWRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqVGFnTGlzdC5maW5kKCdhLnBvc3QtdGFnJykud3JhcEFsbCgnPHNwYW4gY2xhc3M9ImVkaXQtdGFncy13cmFwcGVyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqTGlua1dyYXBwZXIgPSBqVGFnTGlzdC5maW5kKCdzcGFuLmVkaXQtdGFncy13cmFwcGVyJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGFuICJlZGl0IHRhZ3MiIGxpbmsgdXBvbiBob3ZlcmluZyBvdmVyIHRhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpFZGl0VGFnc0xpbmsgPSAkKCc8c3BhbiBjbGFzcz0iZG5vIj4nICsgJCgnPGE+JywgeyBpZDogImVkaXQtdGFncyIsIHN0eWxlOiAiIiwgdGl0bGU6ICJlZGl0IG9ubHkgdGhpcyBxdWVzdGlvbidzIHRhZ3MiLCB0ZXh0OiAiZWRpdCB0YWdzIiB9KS5wcm9wKCdvdXRlckhUTUwnKSArICc8L3NwYW4+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqTGlua1dyYXBwZXIuYXBwZW5kKGpFZGl0VGFnc0xpbmspOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRXcmFwcGVySG92ZXJFdmVudHMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRFZGl0VGFnc0xpbmtDbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFJldmlld1JldGFnOiBmdW5jdGlvbiAoY3VycmVudFJldmlld1Rhc2tJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFN0YWNrRXhjaGFuZ2UuZGlzYWJsZUlubGluZVRhZ0VkaXRzKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uSWQgPSBxdWVzdGlvbi5maW5kKCdkaXYudm90ZSA+IGlucHV0W3R5cGU9ImhpZGRlbiJdJykudmFsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZpZXdUYXNrSWQgPSBjdXJyZW50UmV2aWV3VGFza0lkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgalRhZ0xpc3QgPSBxdWVzdGlvbi5maW5kKCdkaXYucG9zdC10YWdsaXN0Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd3JhcCBvdXIgdGFncyBpbiBhIHNwYW4gdG8gZWFzZSBob3ZlciBzaG93L2hpZGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpUYWdMaXN0LmZpbmQoJ2EucG9zdC10YWcnKS53cmFwQWxsKCc8c3BhbiBjbGFzcz0iZWRpdC10YWdzLXdyYXBwZXIiPjwvc3Bhbj4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpMaW5rV3JhcHBlciA9IGpUYWdMaXN0LmZpbmQoJ3NwYW4uZWRpdC10YWdzLXdyYXBwZXInKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqRWRpdFRhZ3NMaW5rID0gJCgnLnJldGFnLXF1ZXN0aW9uOmZpcnN0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqRWRpdFRhZ3NMaW5rLnJlbW92ZUF0dHIoJ2hyZWYnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kRWRpdFRhZ3NMaW5rQ2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgaW4gaW5pdHMpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRzW2ldLmluaXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgICAgIGluaXRSZXZpZXdSZXRhZzogZnVuY3Rpb24gKGN1cnJlbnRSZXZpZXdUYXNrSWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpIGluIGluaXRzKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0c1tpXS5pbml0UmV2aWV3UmV0YWcoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkoKTsKICAgICAgICB9KTsKCiAgICAgICAgZnVuY3MuYXBwZW5kTm9kZXMocG9zdHMpOwoKICAgICAgICBmdW5jcy5mZXRjaFBvc3RzKHBvc3RzKTsKICAgIH07CgogICAgZnVuY3MuaW5pdCgpOwp9OwoKY29uc3QgU2NyaXB0VG9JbmplY3ROb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoU2NyaXB0VG9JbmplY3ROb2RlKTsKCmNvbnN0IFNjcmlwdFRvSW5qZWN0Q29udGVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcoJyArIFNjcmlwdFRvSW5qZWN0LnRvU3RyaW5nKCkgKyAnKSgpJyk7ClNjcmlwdFRvSW5qZWN0Tm9kZS5hcHBlbmRDaGlsZChTY3JpcHRUb0luamVjdENvbnRlbnQpOwo="},{"name":"Auto-acknowledge Negative Rep","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/^https?:\\/\\/.*?(stackoverflow.com|stackexchange.com|superuser.com|serverfault.com|askubuntu.com|stackapps.com|mathoverflow.net)/.*$/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"ts":1457340600772,"data":{}},"enabled":true,"position":19,"file_url":"https://raw.githubusercontent.com/Tiny-Giant/myuserscripts/master/Auto-acknowledgeNegativeRep.user.js","uuid":"a20ebceb-cfad-462d-be96-4f96b3a06c2c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBBdXRvLWFja25vd2xlZGdlIE5lZ2F0aXZlIFJlcAovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly9naXRodWIuY29tL1RpbnktR2lhbnQKLy8gQHZlcnNpb24gICAgICAxLjAuMC4wCi8vIEBkZXNjcmlwdGlvbiAgQXV0b21hdGljYWxseSBtYXJrcyBuZWdhdGl2ZSByZXB1dGF0aW9uIGNoYW5nZXMgYXMgcmVhZC4KLy8gQGF1dGhvciAgICAgICBAVGlueUdpYW50Ci8vIEBpbmNsdWRlICAgICAgL15odHRwcz86XC9cLy4qPyhzdGFja292ZXJmbG93LmNvbXxzdGFja2V4Y2hhbmdlLmNvbXxzdXBlcnVzZXIuY29tfHNlcnZlcmZhdWx0LmNvbXxhc2t1YnVudHUuY29tfHN0YWNrYXBwcy5jb218bWF0aG92ZXJmbG93Lm5ldCkvLiokLwovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vID09L1VzZXJTY3JpcHQ9PQovKiBqc2hpbnQgLVcwOTcgKi8KJ3VzZSBzdHJpY3QnOwoKbGV0IGdldFVucmVhZENvdW50cywgdHJpZ2dlclVwZGF0ZTsKCnRyaWdnZXJVcGRhdGUgPSAoKSA9PiB7CiAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICB1cmw6ICcvdG9wYmFyL2FjaGlldmVtZW50cycsCiAgICAgICAgb25sb2FkOiB4aHIgPT4gewogICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYXJrZWQgbmVnYXRpdmUgcmVwdXRhdGlvbiBjaGFuZ2VzIGFzIHJlYWQuJyk7CiAgICAgICAgfQogICAgfSk7Cn0KCmdldFVucmVhZENvdW50cyA9ICgpID0+IHsKICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgIHVybDogJ2h0dHA6Ly9jaGF0LnN0YWNrb3ZlcmZsb3cuY29tL3RvcGJhci9nZXQtdW5yZWFkLWNvdW50cycsCiAgICAgICAgb25sb2FkOiB4aHIgPT4gewogICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICgrSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KS5VbnJlYWRSZXBDb3VudCA8IDApIHRyaWdnZXJVcGRhdGUoKTsKICAgICAgICB9CiAgICB9KTsKfQoKZ2V0VW5yZWFkQ291bnRzKCk7Cg=="},{"name":"Review Enhancements","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?:\\/\\/(meta\\.|www\\.)?stackoverflow.com\\/review\\/(?!custom).*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"ts":1457340636677,"data":{}},"enabled":true,"position":20,"file_url":"https://raw.githubusercontent.com/Tiny-Giant/myuserscripts/master/ReviewEnhancements.user.js","uuid":"791fbf59-1324-49cf-baee-ada71987a22d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBSZXZpZXcgRW5oYW5jZW1lbnRzCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL2dpdGh1Yi5jb20vVGlueS1HaWFudAovLyBAdmVyc2lvbiAgICAgIDEuMC4wLjQKLy8gQGRlc2NyaXB0aW9uICBUaGUgcmV2aWV3IHF1ZXVlcyBhcmUgYWJzdHJhY3Rpb25zIHdpdGggc29tZSBsaW1pdGF0aW9ucy4gVGhpcyBzY3JpcHQgcmVtb3ZlcyB0aG9zZSBsaW1pdGF0aW9ucyBvbiBxdWVzdGlvbnMKLy8gQGF1dGhvciAgICAgICBAVGlueUdpYW50Ci8vIEBpbmNsdWRlICAgICAgL2h0dHBzPzpcL1wvKG1ldGFcLnx3d3dcLik/c3RhY2tvdmVyZmxvdy5jb21cL3Jldmlld1wvKD8hY3VzdG9tKS4qCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KLyoganNoaW50IC1XMDk3ICovCid1c2Ugc3RyaWN0JzsKClN0YWNrRXhjaGFuZ2UudXNpbmcoImlubGluZUVkaXRpbmciLCBmdW5jdGlvbiAoKSB7CiAgICBTdGFja0V4Y2hhbmdlLmlubGluZUVkaXRpbmcuaW5pdCgpOwp9KTsKCmxldCBpbml0UXVlc3Rpb24gPSAocG9zdCkgPT4gewogICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoKICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZXZlbnQgPT4gewogICAgICAgIGlmKHhoci5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIFN0YWNrRXhjaGFuZ2UucXVlc3Rpb24uaW5pdCh7CiAgICAgICAgICAgIHZvdGVzQ2FzdDogSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSwKICAgICAgICAgICAgY2FuVmlld1ZvdGVDb3VudHM6IHRydWUsCiAgICAgICAgICAgIHF1ZXN0aW9uSWQ6IHBvc3QKICAgICAgICB9KTsKCiAgICAgICAgbGV0IGNvbW1lbnRMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1zaG93LWxpbmsuY29tbWVudHMtbGluaycpOwoKICAgICAgICBmb3IobGV0IGkgaW4gT2JqZWN0LmtleXMoY29tbWVudExpbmtzKSkgY29tbWVudExpbmtzW2ldLmNsaWNrKCk7CiAgICB9LCBmYWxzZSk7CgogICAgeGhyLm9wZW4oJ0dFVCcsICcvcG9zdHMvJyArIHBvc3QuZGF0YXNldC5xdWVzdGlvbmlkICsgJy92b3RlcycpOwoKICAgIHhoci5zZW5kKCk7Cn0KCmxldCBwb3N0UXVldWUgPSBbXSwgZmV0Y2hpbmcgPSBmYWxzZTsKCmxldCBmZXRjaFBvc3QgPSAoKSA9PiB7CiAgICBmZXRjaGluZyA9IHRydWU7CgogICAgbGV0IHBvc3QgPSBwb3N0UXVldWUuc2hpZnQoKTsKCiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgogICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBldmVudCA9PiB7CiAgICAgICAgaWYoeGhyLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHhoci5zdGF0dXMsIHhoci5zdGF0dXNUZXh0LCB4aHIucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbGV0IHBhcmVudCA9IHBvc3QucGFyZW50Tm9kZTsKICAgICAgICAKICAgICAgICBsZXQgb3NuaXBwZXRzID0gcG9zdC5xdWVyeVNlbGVjdG9yQWxsKCcuc25pcHBldCcpOwoKICAgICAgICBwb3N0Lm91dGVySFRNTCA9IHhoci5yZXNwb25zZVRleHQ7CgogICAgICAgIHBvc3QgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uLCAuYW5zd2VyJyk7CiAgICAgICAgCiAgICAgICAgbGV0IG5zbmlwcGV0cyA9IHBvc3QucXVlcnlTZWxlY3RvckFsbCgnLnNuaXBwZXQnKTsKICAgICAgICAKICAgICAgICBmb3IobGV0IGkgaW4gT2JqZWN0LmtleXMobnNuaXBwZXRzKSkgewogICAgICAgICAgICBuc25pcHBldHNbaV0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUob3NuaXBwZXRzW2ldLCBuc25pcHBldHNbaV0pOwogICAgICAgICAgICBuc25pcHBldHNbaV0ucmVtb3ZlKCk7CiAgICAgICAgfQoKICAgICAgICBpZigvZG93bnZvdGVkLWFuc3dlci8udGVzdChwb3N0LmNsYXNzTmFtZSkpIHBvc3QuY2xhc3NMaXN0LnJlbW92ZSgnZG93bnZvdGVkLWFuc3dlcicpOwoKICAgICAgICAvKmxldCBoaWRkZW4gPSBwb3N0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbmlwcGV0Jyk7CgogICAgICAgIGZvcihsZXQgaSBpbiBPYmplY3Qua2V5cyhoaWRkZW4pKSB7CiAgICAgICAgICAgIGhpZGRlbltpXS5kYXRhc2V0LmhpZGUgPSAndHJ1ZSc7CiAgICAgICAgfSovCgogICAgICAgIGlmICgvcXVlc3Rpb24vLnRlc3QocG9zdC5jbGFzc05hbWUpKSBpbml0UXVlc3Rpb24ocG9zdCk7CgogICAgICAgIGZldGNoaW5nID0gZmFsc2U7CiAgICB9LCBmYWxzZSk7CgogICAgeGhyLm9wZW4oJ0dFVCcsICcvcG9zdHMvYWpheC1sb2FkLXJlYWx0aW1lLycgKyAocG9zdC5kYXRhc2V0LnF1ZXN0aW9uaWQgfHwgcG9zdC5kYXRhc2V0LmFuc3dlcmlkKSk7CgogICAgeGhyLnNlbmQoKTsKfQoKbGV0IHF1ZXVlUG9zdCA9IChwb3N0KSA9PiB7CiAgICBpZiAoIXBvc3QpIHJldHVybjsKCiAgICBwb3N0UXVldWUucHVzaChwb3N0KTsKCiAgICBpZihmZXRjaGluZykgewogICAgICAgIGxldCBmZXRjaFdhaXQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmKGZldGNoaW5nKSByZXR1cm47CgogICAgICAgICAgICBjbGVhckludGVydmFsKGZldGNoV2FpdCk7CgogICAgICAgICAgICBmZXRjaFBvc3QoKTsKICAgICAgICB9LCAxMDApOwogICAgfSBlbHNlIGZldGNoUG9zdCgpOwp9CgokKGRvY3VtZW50KS5hamF4Q29tcGxldGUoKG9uZSwgdHdvLCB0aHJlZSkgPT4geyAKICAgIGlmKCEvbmV4dFwtdGFza3x0YXNrXC1yZXZpZXdlZC8udGVzdCh0aHJlZS51cmwpKSByZXR1cm47CgogICAgbGV0IHRhc2sgPSBKU09OLnBhcnNlKHR3by5yZXNwb25zZVRleHQpOwoKICAgIGNvbnNvbGUubG9nKCdUQVNLJywgdGFzayk7CgogICAgaWYoIXRhc2sgfHwgdGFzay5pc0F1ZGl0KSByZXR1cm47CgogICAgbGV0IHF1ZXN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1ZXN0aW9uJyk7CgogICAgaWYgKCFxdWVzdGlvbikgcmV0dXJuOwoKICAgIGxldCBhbnN3ZXJzICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbnN3ZXInKTsKCiAgICBmb3IobGV0IGkgaW4gT2JqZWN0LmtleXMoYW5zd2VycykpIHF1ZXVlUG9zdChhbnN3ZXJzW2ldKTsKCiAgICBxdWV1ZVBvc3QocXVlc3Rpb24pOwoKICAgIGxldCByZXZpZXdhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldmlld2FibGUtcG9zdCcpOwoKICAgIGZvcihsZXQgaSBpbiBPYmplY3Qua2V5cyhyZXZpZXdhYmxlKSkgcmV2aWV3YWJsZVtpXS5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnJyk7Cn0pOwo="},{"name":"Votes Page Enhancer","options":{"awareOfChrome":false,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":["/https?:\\/\\/(meta\\.|www\\.)?stackoverflow\\.com/users/.*?tab\\=votes.*/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"storage":{"ts":1457442038376,"data":{}},"enabled":true,"position":21,"uuid":"ad9135a7-2e9a-423b-baf5-6bc59f6598cf","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBWb3RlcyBQYWdlIEVuaGFuY2VyCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgMS4wLjAuMgovLyBAZGVzY3JpcHRpb24gIExvYWRzIHBvc3RzIGluIHRoZWlyIG5hdHVyYWwgZm9ybSBvbiB0aGUgdm90ZXMgcGFnZXMgZm9yIHVzZXJzLgovLyBAYXV0aG9yICAgICAgIEBUaW55LUdpYW50Ci8vIEBpbmNsdWRlICAgICAgL2h0dHBzPzpcL1wvKG1ldGFcLnx3d3dcLik/c3RhY2tvdmVyZmxvd1wuY29tL3VzZXJzLy4qP3RhYlw9dm90ZXMuKi8KLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQovKiBqc2hpbnQgLVcwOTcgKi8KJ3VzZSBzdHJpY3QnOwoKbGV0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKc3R5bGUudGV4dENvbnRlbnQgPSAnLmFjdHVhbC1lZGl0LW92ZXJsYXkgeyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nOwpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0eWxlKTsKClN0YWNrRXhjaGFuZ2UudXNpbmcoImlubGluZUVkaXRpbmciLCBmdW5jdGlvbiAoKSB7CiAgICBTdGFja0V4Y2hhbmdlLmlubGluZUVkaXRpbmcuaW5pdCgpOwp9KTsKCmxldCBjc3MgPSBbCiAgICAnLnF1ZXN0aW9uLCAuYW5zd2VyIHsnLAogICAgJyAgICB3aWR0aDogNzMwcHggIWltcG9ydGFudCcsCiAgICAnfScsCiAgICAnLnZvdGVjZWxsIHsnLAogICAgJyAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wICFpbXBvcnRhbnQ7JywKICAgICd9JywKICAgICdoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IHsnLAogICAgJyAgICBmb250LXdlaWdodDogbm9ybWFsJywKICAgICd9JwpdLmpvaW4oJ1xuJyk7CgppZiAoZmFsc2UpOwplbHNlIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgR01fYWRkU3R5bGUpICBHTV9hZGRTdHlsZShjc3MpOwplbHNlIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgUFJPX2FkZFN0eWxlKSBQUk9fYWRkU3R5bGUoY3NzKTsKZWxzZSBpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIGFkZFN0eWxlKSAgICAgYWRkU3R5bGUoY3NzKTsKZWxzZSAoZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpLnBhcmVudE5vZGUpOwoKbGV0IGluaXRQb3N0ID0gKHBvc3QsIGh0bWwsIGNvbnRhaW5lciwgbG9hZGVyLCBwYXJlbnQpID0+IHsKICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGV2ZW50ID0+IHsKICAgICAgICBpZih4aHIuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgY29uc29sZS5sb2coeGhyLnN0YXR1cywgeGhyLnN0YXR1c1RleHQsIHhoci5yZXNwb25zZVRleHQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGxldCBxdWVzdGlvbiA9ICgvXGQrLy5leGVjKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbmFibGUtbG9hZC1ib2R5LScgKyBwb3N0KS5xdWVyeVNlbGVjdG9yKCdhW2hyZWZdJykpfHxbZmFsc2VdKVswXTsKICAgICAgICAKICAgICAgICBsZXQgb3NuaXBwZXRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbmlwcGV0Jyk7CiAgICAgICAgCiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGh0bWw7CiAgICAgICAgCiAgICAgICAgbGV0IG5zbmlwcGV0cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuc25pcHBldCcpOwogICAgICAgIAogICAgICAgIGxvYWRlci5yZW1vdmUoKTsKICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsKCiAgICAgICAgU3RhY2tFeGNoYW5nZS5xdWVzdGlvbi5pbml0KHsKICAgICAgICAgICAgdm90ZXNDYXN0OiBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpLAogICAgICAgICAgICBjYW5WaWV3Vm90ZUNvdW50czogdHJ1ZSwKICAgICAgICAgICAgcXVlc3Rpb25JZDogcXVlc3Rpb24KICAgICAgICB9KTsKCiAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5qcy1zaG93LWxpbmsuY29tbWVudHMtbGluaycpLmNsaWNrKCk7CiAgICAgICAgCiAgICAgICAgZm9yKGxldCBpIGluIE9iamVjdC5rZXlzKG5zbmlwcGV0cykpIHsKICAgICAgICAgICAgbnNuaXBwZXRzW2ldLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG9zbmlwcGV0c1tpXSwgbnNuaXBwZXRzW2ldKTsKICAgICAgICAgICAgbnNuaXBwZXRzW2ldLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sIGZhbHNlKTsKCiAgICB4aHIub3BlbignR0VUJywgJy9wb3N0cy8nICsgcG9zdCArICcvdm90ZXMnKTsKCiAgICB4aHIuc2VuZCgpOwp9CgpsZXQgZmV0Y2hQb3N0ID0gcG9zdCA9PiB7CiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VuYWJsZS1sb2FkLWJvZHktJyArIHBvc3QpLnBhcmVudE5vZGUubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJy5ib2R5LWNvbnRhaW5lcicpOwogICAgbGV0IHBhcmVudCA9IGNvbnRhaW5lci5wYXJlbnROb2RlOwogICAgY29udGFpbmVyLnJlbW92ZSgpOwogICAgCiAgICBsZXQgbG9hZGVyID0gcGFyZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJykpOwogICAgbG9hZGVyLmNsYXNzTmFtZSA9ICdib2R5LWNvbnRhaW5lcic7CiAgICBsb2FkZXIuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nOwogICAgbG9hZGVyLmlubmVySFRNTCA9ICc8aW1nIGNsYXNzPSJhamF4LWxvYWRlciIgc3JjPSIvY29udGVudC9pbWcvcHJvZ3Jlc3MtZG90cy5naWYiIHRpdGxlPSJsb2FkaW5nLi4uIiBhbHQ9ImxvYWRpbmcuLi4iPic7CiAgICAKICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKCiAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGV2ZW50ID0+IHsKICAgICAgICBpZih4aHIuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgY29uc29sZS5sb2coeGhyLnN0YXR1cywgeGhyLnN0YXR1c1RleHQsIHhoci5yZXNwb25zZVRleHQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpbml0UG9zdChwb3N0LCB4aHIucmVzcG9uc2VUZXh0LCBjb250YWluZXIsIGxvYWRlciwgcGFyZW50KTsKICAgIH0sIGZhbHNlKTsKCiAgICB4aHIub3BlbignR0VUJywgJy9wb3N0cy9hamF4LWxvYWQtcmVhbHRpbWUvJyArIHBvc3QpOwoKICAgIHhoci5zZW5kKCk7Cn0KCiQoZG9jdW1lbnQpLmFqYXhDb21wbGV0ZSgoZXZlbnQsIHJlcXVlc3QsIHNldHRpbmdzKSA9PiB7IAogICAgbGV0IHBvc3QgPSAoL3Bvc3RzXC8oXGQrKVwvYm9keS8uZXhlYyhzZXR0aW5ncy51cmwpfHxbMCwwXSlbMV07CiAgICBpZiAocG9zdCkgZmV0Y2hQb3N0KHBvc3QpOwp9KTs="},{"name":"StackOverflow close votes shortcuts","options":{"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"user_agent":"","override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://stackoverflow.com/review/close*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1457501738663,"data":{}},"enabled":true,"position":22,"file_url":"https://raw.githubusercontent.com/SO-Close-Vote-Reviewers/UserScripts/master/CloseVoteShortcuts.user.js","uuid":"183c39eb-3d5b-4dc5-8749-d32ffe920043","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBTdGFja092ZXJmbG93IGNsb3NlIHZvdGVzIHNob3J0Y3V0cwovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9rYXBwYTcxOTQvc3RhY2tvdmVyZmxvdy1jbG9zZS12b3Rlcy1zaG9ydGN1dHMKLy8gQHZlcnNpb24gICAgICAxLjAuMgovLyBAZGVzY3JpcHRpb24gIEEgc2NyaXB0IHRvIGFkZCBrZXlib2FyZCBzaG9ydGN1dHMgdG8gU3RhY2tPdmVyZmxvdydzIGNsb3NlIHZvdGVzIHJldmlldyBxdWV1ZQovLyBAYXV0aG9yICAgICAgIEFsYmlyZW8sIHJlbmUKLy8gQG1hdGNoICAgICAgICAqOi8vc3RhY2tvdmVyZmxvdy5jb20vcmV2aWV3L2Nsb3NlKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgovKmdsb2JhbCAkOmZhbHNlICwgZG9jdW1lbnQ6ZmFsc2UsIE11dGF0aW9uT2JzZXJ2ZXI6ZmFsc2UsICAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIga2V5cyA9IHsKICAgICAgICAgICAgJzEnOiA0OSwKICAgICAgICAgICAgJzInOiA1MCwKICAgICAgICAgICAgJzMnOiA1MSwKICAgICAgICAgICAgJzQnOiA1MiwKICAgICAgICAgICAgJzUnOiA1MywKICAgICAgICAgICAgJzYnOiA1NCwKICAgICAgICAgICAgJzcnOiA1NSwKICAgICAgICAgICAgJzgnOiA1NiwKICAgICAgICAgICAgJzknOiA1NywKICAgICAgICAgICAgJzAnOiA0OAogICAgICAgIH0sCiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24gPSB7CiAgICAgICAgICAgICAgICAnYWN0aW9ucyc6IHsKICAgICAgICAgICAgICAgICAgICAnbGVhdmVPcGVuJzogeyAna2V5JzogJzEnLCAndmFsdWUnOiAnOCcgfSwKICAgICAgICAgICAgICAgICAgICAnY2xvc2UnOiB7ICdrZXknOiAnMicsICd2YWx1ZSc6ICc2JyB9LAogICAgICAgICAgICAgICAgICAgICdlZGl0JzogeyAna2V5JzogJzMnLCAndmFsdWUnOiAnNScgfSwKICAgICAgICAgICAgICAgICAgICAnc2tpcCc6IHsgJ2tleSc6ICc0JywgJ3ZhbHVlJzogJzEnIH0sCiAgICAgICAgICAgICAgICAgICAgJ25leHQnOiB7ICdrZXknOiAnMCcsICd2YWx1ZSc6ICcyNTQnIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnY2xvc2VSZWFzb25zJzogewogICAgICAgICAgICAgICAgICAgICdkdXBsaWNhdGUnOiB7ICdrZXknOiAnMScsICd2YWx1ZSc6ICdEdXBsaWNhdGUnIH0sCiAgICAgICAgICAgICAgICAgICAgJ29mZlRvcGljJzogeyAna2V5JzogJzInLCAndmFsdWUnOiAnT2ZmVG9waWMnIH0sCiAgICAgICAgICAgICAgICAgICAgJ3VuY2xlYXInOiB7ICdrZXknOiAnMycsICd2YWx1ZSc6ICdVbmNsZWFyJyB9LAogICAgICAgICAgICAgICAgICAgICd0b29Ccm9hZCc6IHsgJ2tleSc6ICc0JywgJ3ZhbHVlJzogJ1Rvb0Jyb2FkJyB9LAogICAgICAgICAgICAgICAgICAgICdvcGluaW9uQmFzZWQnOiB7ICdrZXknOiAnNScsICd2YWx1ZSc6ICdPcGluaW9uQmFzZWQnIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnb2ZmVG9waWNSZWFzb25zJzogewogICAgICAgICAgICAgICAgICAgICdzdXBlclVzZXInOiB7ICdrZXknOiAnMScsICd2YWx1ZSc6ICc0JyB9LAogICAgICAgICAgICAgICAgICAgICdzZXJ2ZXJGYXVsdCc6IHsgJ2tleSc6ICcyJywgJ3ZhbHVlJzogJzcnIH0sCiAgICAgICAgICAgICAgICAgICAgJ3JlY29tbWVuZCc6IHsgJ2tleSc6ICczJywgJ3ZhbHVlJzogJzE2JyB9LAogICAgICAgICAgICAgICAgICAgICdtaW5pbWFsUHJvZ3JhbSc6IHsgJ2tleSc6ICc0JywgJ3ZhbHVlJzogJzEzJyB9LAogICAgICAgICAgICAgICAgICAgICd0eXBvJzogeyAna2V5JzogJzUnLCAndmFsdWUnOiAnMTEnIH0sCiAgICAgICAgICAgICAgICAgICAgJ21pZ3JhdGlvbic6IHsgJ2tleSc6ICc2JywgJ3ZhbHVlJzogJzInIH0sCiAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogeyAna2V5JzogJzcnLCAndmFsdWUnOiAnMycgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdtaWdyYXRpb25SZWFzb25zJzogewogICAgICAgICAgICAgICAgICAgICdtZXRhJzogeyAna2V5JzogJzEnLCAndmFsdWUnOiAnbWV0YS5zdGFja292ZXJmbG93LmNvbScgfSwKICAgICAgICAgICAgICAgICAgICAnc3VwZXJVc2VyJzogeyAna2V5JzogJzInLCAndmFsdWUnOiAnc3VwZXJ1c2VyLmNvbScgfSwKICAgICAgICAgICAgICAgICAgICAndGV4JzogeyAna2V5JzogJzMnLCAndmFsdWUnOiAndGV4LnN0YWNrZXhjaGFuZ2UuY29tJyB9LAogICAgICAgICAgICAgICAgICAgICdkYmEnOiB7ICdrZXknOiAnNCcsICd2YWx1ZSc6ICdkYmEuc3RhY2tleGNoYW5nZS5jb20nIH0sCiAgICAgICAgICAgICAgICAgICAgJ3N0YXRzJzogeyAna2V5JzogJzUnLCAndmFsdWUnOiAnc3RhdHMuc3RhY2tleGNoYW5nZS5jb20nIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHN0YXRlcyA9IHsKICAgICAgICAgICAgICAgIGF0UXVlc3Rpb246IDEsCiAgICAgICAgICAgICAgICBhdENsb3NlUmVhc29uOiAyLAogICAgICAgICAgICAgICAgYXREdXBsaWNhdGU6IDMsCiAgICAgICAgICAgICAgICBhdE9mZlRvcGljOiA0LAogICAgICAgICAgICAgICAgYXRPdGhlclNpdGU6IDUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVzLmF0UXVlc3Rpb247CgogICAgICAgICAgICBmdW5jdGlvbiBjbGlja0VsZW1lbnQoc2VsZWN0b3IpIHsKICAgICAgICAgICAgICAgICQoc2VsZWN0b3IpLmZvY3VzKCkuY2xpY2soKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY2xpY2tBY3Rpb24oYWN0aW9uKSB7CiAgICAgICAgICAgICAgICBjbGlja0VsZW1lbnQoJy5yZXZpZXctYWN0aW9ucyBbZGF0YS1yZXN1bHQtdHlwZT0iJyArIGFjdGlvbiArICciXScpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjbGlja0Nsb3NlUmVhc29uKHJlYXNvbikgewogICAgICAgICAgICAgICAgY2xpY2tFbGVtZW50KCdbbmFtZT0iY2xvc2UtcmVhc29uIl1bdmFsdWU9IicgKyByZWFzb24gKyAnIl0nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gY2xpY2tPZmZUb3BpY1JlYXNvbihyZWFzb24pIHsKICAgICAgICAgICAgICAgIGNsaWNrRWxlbWVudCgnW25hbWU9ImNsb3NlLWFzLW9mZi10b3BpYy1yZWFzb24iXVt2YWx1ZT0iJyArIHJlYXNvbiArICciXScpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjbGlja090aGVyU2l0ZShzaXRlKSB7CiAgICAgICAgICAgICAgICBjbGlja0VsZW1lbnQoJ1tuYW1lPSJtaWdyYXRpb24iXVt2YWx1ZT0iJyArIHNpdGUgKyAnIl0nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gcmVzZXRTdGF0ZSgpIHsKICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVzLmF0UXVlc3Rpb247CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGFjdGlvbkhhbmRsZXIoa2V5KSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24uYWN0aW9ucy5sZWF2ZU9wZW4ua2V5XToKICAgICAgICAgICAgICAgICAgICBjbGlja0FjdGlvbihjb25maWd1cmF0aW9uLmFjdGlvbnMubGVhdmVPcGVuLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICByZXNldFN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5hY3Rpb25zLmNsb3NlLmtleV06CiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZXMuYXRDbG9zZVJlYXNvbjsKICAgICAgICAgICAgICAgICAgICBjbGlja0FjdGlvbihjb25maWd1cmF0aW9uLmFjdGlvbnMuY2xvc2UudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24uYWN0aW9ucy5lZGl0LmtleV06CiAgICAgICAgICAgICAgICAgICAgY2xpY2tBY3Rpb24oY29uZmlndXJhdGlvbi5hY3Rpb25zLmVkaXQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIHJlc2V0U3RhdGUoKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2Uga2V5c1tjb25maWd1cmF0aW9uLmFjdGlvbnMuc2tpcC5rZXldOgogICAgICAgICAgICAgICAgICAgIGNsaWNrQWN0aW9uKGNvbmZpZ3VyYXRpb24uYWN0aW9ucy5za2lwLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICByZXNldFN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5hY3Rpb25zLm5leHQua2V5XToKICAgICAgICAgICAgICAgICAgICBjbGlja0FjdGlvbihjb25maWd1cmF0aW9uLmFjdGlvbnMubmV4dC52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgcmVzZXRTdGF0ZSgpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjbG9zZVJlYXNvbkhhbmRsZXIoa2V5KSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24uY2xvc2VSZWFzb25zLmR1cGxpY2F0ZS5rZXldOgogICAgICAgICAgICAgICAgICAgIGNsaWNrQ2xvc2VSZWFzb24oY29uZmlndXJhdGlvbi5jbG9zZVJlYXNvbnMuZHVwbGljYXRlLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlcy5hdER1cGxpY2F0ZTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2Uga2V5c1tjb25maWd1cmF0aW9uLmNsb3NlUmVhc29ucy5vZmZUb3BpYy5rZXldOgogICAgICAgICAgICAgICAgICAgIGNsaWNrQ2xvc2VSZWFzb24oY29uZmlndXJhdGlvbi5jbG9zZVJlYXNvbnMub2ZmVG9waWMudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVzLmF0T2ZmVG9waWM7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5jbG9zZVJlYXNvbnMudW5jbGVhci5rZXldOgogICAgICAgICAgICAgICAgICAgIGNsaWNrQ2xvc2VSZWFzb24oY29uZmlndXJhdGlvbi5jbG9zZVJlYXNvbnMudW5jbGVhci52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5jbG9zZVJlYXNvbnMudG9vQnJvYWQua2V5XToKICAgICAgICAgICAgICAgICAgICBjbGlja0Nsb3NlUmVhc29uKGNvbmZpZ3VyYXRpb24uY2xvc2VSZWFzb25zLnRvb0Jyb2FkLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2Uga2V5c1tjb25maWd1cmF0aW9uLmNsb3NlUmVhc29ucy5vcGluaW9uQmFzZWQua2V5XToKICAgICAgICAgICAgICAgICAgICBjbGlja0Nsb3NlUmVhc29uKGNvbmZpZ3VyYXRpb24uY2xvc2VSZWFzb25zLm9waW5pb25CYXNlZC52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIG9mZlRvcGljSGFuZGxlcihrZXkpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5vZmZUb3BpY1JlYXNvbnMuc3VwZXJVc2VyLmtleV06CiAgICAgICAgICAgICAgICAgICAgY2xpY2tPZmZUb3BpY1JlYXNvbihjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5zdXBlclVzZXIudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLnNlcnZlckZhdWx0LmtleV06CiAgICAgICAgICAgICAgICAgICAgY2xpY2tPZmZUb3BpY1JlYXNvbihjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5zZXJ2ZXJGYXVsdC52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5vZmZUb3BpY1JlYXNvbnMucmVjb21tZW5kLmtleV06CiAgICAgICAgICAgICAgICAgICAgY2xpY2tPZmZUb3BpY1JlYXNvbihjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5yZWNvbW1lbmQudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLm1pbmltYWxQcm9ncmFtLmtleV06CiAgICAgICAgICAgICAgICAgICAgY2xpY2tPZmZUb3BpY1JlYXNvbihjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5taW5pbWFsUHJvZ3JhbS52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5vZmZUb3BpY1JlYXNvbnMudHlwby5rZXldOgogICAgICAgICAgICAgICAgICAgIGNsaWNrT2ZmVG9waWNSZWFzb24oY29uZmlndXJhdGlvbi5vZmZUb3BpY1JlYXNvbnMudHlwby52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5vZmZUb3BpY1JlYXNvbnMubWlncmF0aW9uLmtleV06CiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZXMuYXRPdGhlclNpdGU7CiAgICAgICAgICAgICAgICAgICAgY2xpY2tPZmZUb3BpY1JlYXNvbihjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5taWdyYXRpb24udmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLm90aGVyLmtleV06CiAgICAgICAgICAgICAgICAgICAgY2xpY2tPZmZUb3BpY1JlYXNvbihjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5vdGhlci52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIG90aGVyU2l0ZUhhbmRsZXIoa2V5KSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24ubWlncmF0aW9uUmVhc29ucy5tZXRhLmtleV06CiAgICAgICAgICAgICAgICAgICAgY2xpY2tPdGhlclNpdGUoY29uZmlndXJhdGlvbi5taWdyYXRpb25SZWFzb25zLm1ldGEudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24ubWlncmF0aW9uUmVhc29ucy5zdXBlclVzZXIua2V5XToKICAgICAgICAgICAgICAgICAgICBjbGlja090aGVyU2l0ZShjb25maWd1cmF0aW9uLm1pZ3JhdGlvblJlYXNvbnMuc3VwZXJVc2VyLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2Uga2V5c1tjb25maWd1cmF0aW9uLm1pZ3JhdGlvblJlYXNvbnMudGV4LmtleV06CiAgICAgICAgICAgICAgICAgICAgY2xpY2tPdGhlclNpdGUoY29uZmlndXJhdGlvbi5taWdyYXRpb25SZWFzb25zLnRleC52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIGtleXNbY29uZmlndXJhdGlvbi5taWdyYXRpb25SZWFzb25zLmRiYS5rZXldOgogICAgICAgICAgICAgICAgICAgIGNsaWNrT3RoZXJTaXRlKGNvbmZpZ3VyYXRpb24ubWlncmF0aW9uUmVhc29ucy5kYmEudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBrZXlzW2NvbmZpZ3VyYXRpb24ubWlncmF0aW9uUmVhc29ucy5zdGF0cy5rZXldOgogICAgICAgICAgICAgICAgICAgIGNsaWNrT3RoZXJTaXRlKGNvbmZpZ3VyYXRpb24ubWlncmF0aW9uUmVhc29ucy5zdGF0cy52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGtleUhhbmRsZXIoa2V5KSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7CiAgICAgICAgICAgICAgICBjYXNlIHN0YXRlcy5hdFF1ZXN0aW9uOgogICAgICAgICAgICAgICAgICAgIGFjdGlvbkhhbmRsZXIoa2V5KTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2Ugc3RhdGVzLmF0Q2xvc2VSZWFzb246CiAgICAgICAgICAgICAgICAgICAgY2xvc2VSZWFzb25IYW5kbGVyKGtleSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIHN0YXRlcy5hdE9mZlRvcGljOgogICAgICAgICAgICAgICAgICAgIG9mZlRvcGljSGFuZGxlcihrZXkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSBzdGF0ZXMuYXRPdGhlclNpdGU6CiAgICAgICAgICAgICAgICAgICAgb3RoZXJTaXRlSGFuZGxlcihrZXkpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3BvcHVwLWNsb3NlLXF1ZXN0aW9uIC5wb3B1cC1jbG9zZSBhJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmVzZXRTdGF0ZSgpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjcG9wdXAtY2xvc2UtcXVlc3Rpb24gLnBvcHVwLXN1Ym1pdCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJlc2V0U3RhdGUoKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHsKICAgICAgICAgICAgICAgICAgICByZXNldFN0YXRlKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICgoZS50YXJnZXQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBlLnRhcmdldC50eXBlID09PSAndGV4dCcpIHx8IGUudGFyZ2V0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIG51bXBhZCBoYW5kbGluZwogICAgICAgICAgICAgICAgaWYgKChlLmtleUNvZGUgPiA5NSkgJiYgKGUua2V5Q29kZSA8IDEwNikpIHsKICAgICAgICAgICAgICAgICAgICBlLmtleUNvZGUgPSBlLmtleUNvZGUgLSA0ODsgCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAga2V5SGFuZGxlcihlLmtleUNvZGUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KCkpOwoKICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbG9va3VwID0geyB9LCBvYnNlcnZlcjsKICAgICAgICAgICAgbG9va3VwW2NvbmZpZ3VyYXRpb24uYWN0aW9ucy5sZWF2ZU9wZW4udmFsdWVdID0gY29uZmlndXJhdGlvbi5hY3Rpb25zLmxlYXZlT3Blbi5rZXk7CiAgICAgICAgICAgIGxvb2t1cFtjb25maWd1cmF0aW9uLmFjdGlvbnMuY2xvc2UudmFsdWVdID0gY29uZmlndXJhdGlvbi5hY3Rpb25zLmNsb3NlLmtleTsKICAgICAgICAgICAgbG9va3VwW2NvbmZpZ3VyYXRpb24uYWN0aW9ucy5lZGl0LnZhbHVlXSA9IGNvbmZpZ3VyYXRpb24uYWN0aW9ucy5lZGl0LmtleTsKICAgICAgICAgICAgbG9va3VwW2NvbmZpZ3VyYXRpb24uYWN0aW9ucy5za2lwLnZhbHVlXSA9IGNvbmZpZ3VyYXRpb24uYWN0aW9ucy5za2lwLmtleTsKICAgICAgICAgICAgbG9va3VwW2NvbmZpZ3VyYXRpb24uYWN0aW9ucy5uZXh0LnZhbHVlXSA9IGNvbmZpZ3VyYXRpb24uYWN0aW9ucy5uZXh0LmtleTsKCiAgICAgICAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGksIGosIG5vZGU7CiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaiA9IG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoOyBpIDwgajsgaSA9IGkgKyAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSAkKG11dGF0aW9uLmFkZGVkTm9kZXNbaV0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5wcm9wKCd0YWdOYW1lJykgPT09ICdJTlBVVCcgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnByb3AoJ3R5cGUnKSA9PT0gJ2J1dHRvbicgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnZhbCgpLmluZGV4T2YoJ1snKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudmFsKCdbJyArIGxvb2t1cFtub2RlLmRhdGEoJ3Jlc3VsdC10eXBlJyldICsgJ10gJyArIG5vZGUudmFsKCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmV2aWV3LWFjdGlvbnMnKSwgeyAnY2hpbGRMaXN0JzogdHJ1ZSB9KTsKICAgICAgICB9KCkpOwoKICAgICAgICAoZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIG9ic2VydmVyOwoKICAgICAgICAgICAgLy8gdGhlIG11dGF0aW9uIG9ic2VydmVycyBwaWNrcyB1cCB0aGlzIGNoYW5nZSBhcyB3ZWxsCiAgICAgICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gcHJldmVudCBhZGRpbmcgYW5vdGhlciBbMV0gaWYgaXQgYWxyZWFkeSBoYXMgb25lCiAgICAgICAgICAgIGZ1bmN0aW9uIHNpbmdsZUFkZChlbGVtLCBrZXkpIHsKICAgICAgICAgICAgICAgIHZhciBhZGQgPSAnWycgKyBrZXkgKyAnXSAnOwogICAgICAgICAgICAgICAgLy9zdHJhbmdlbHkgc29tZSBlbGVtIGRvZXNuJ3QgY29udGFpbiBodG1sIGhlbmNlIHRoZSBudWxsIGNoZWNrLi4uCiAgICAgICAgICAgICAgICBpZiAoZWxlbS5odG1sKCkgIT09IG51bGwgJiYgZWxlbS5odG1sKCkuaW5kZXhPZihhZGQpICE9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgZWxlbS5odG1sKGFkZCArIGVsZW0uaHRtbCgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gbmV2ZXIgcHJvdmlkZSBhIG5vbi1udW1lcmljIGtleSAhCiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFNpYmxpbmdIZWxwZXIocm9vdCwgc2VsZWN0b3IsIGtleSkgewogICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKHJvb3QpLmZpbmQoc2VsZWN0b3IpLm5leHQoKSwKICAgICAgICAgICAgICAgICAgICBrZXlOdW1iZXIgPSBwYXJzZUludChrZXksIDEwKSwKICAgICAgICAgICAgICAgICAgICBpOwogICAgICAgICAgICAgICAgLy8gaWYgYSBjdXN0b20gY2xvc2UgcmVhc29uIGhhcyBiZWVuIGdpdmVuCiAgICAgICAgICAgICAgICAvLyBtdWx0aXBsZSBlbGVtZW50cyBhcmUgZm91bmQKICAgICAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSB3ZSBpdGVyYXRlIGFuZCBpbmNyZWFzZSB0aGUga2V5TnVtYmVyIGJ5IG9uZQogICAgICAgICAgICAgICAgLy8gdGhpcyB3b3JrcyBhcyBsb25nIGFzIHRoZSBjdXN0b20gcmVhc29uIGlzIHRoZSBsYXN0IG9uZS4uLgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGVsZW1lbnQubGVuZ3RoOyBpID0gaSArIDEpIHsKICAgICAgICAgICAgICAgICAgICBzaW5nbGVBZGQoJChlbGVtZW50W2ldKSwga2V5TnVtYmVyLnRvU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgICAgIGtleU51bWJlciA9IGtleU51bWJlciArIDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZENvdXNpbkhlbHBlcihyb290LCBzZWxlY3Rvciwga2V5KSB7CiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9ICQocm9vdCkuZmluZChzZWxlY3RvcikucGFyZW50KCkubmV4dCgpLm5leHQoKTsKICAgICAgICAgICAgICAgIHNpbmdsZUFkZChlbGVtZW50LCBrZXkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBhZGRDbG9zZVJlYXNvbkhlbHBlcihyb290LCByZWFzb24sIGtleSkgewogICAgICAgICAgICAgICAgYWRkU2libGluZ0hlbHBlcihyb290LCAnW25hbWU9ImNsb3NlLXJlYXNvbiJdW3ZhbHVlPSInICsgcmVhc29uICsgJyJdJywga2V5KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gYWRkT2ZmVG9waWNSZWFzb25IZWxwZXIocm9vdCwgcmVhc29uLCBrZXkpIHsKICAgICAgICAgICAgICAgIGFkZFNpYmxpbmdIZWxwZXIocm9vdCwgJ1tuYW1lPSJjbG9zZS1hcy1vZmYtdG9waWMtcmVhc29uIl1bdmFsdWU9IicgKyByZWFzb24gKyAnIl0nLCBrZXkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBhZGRNaWdyYXRpb25IZWxwZXIocm9vdCwgcmVhc29uLCBrZXkpIHsKICAgICAgICAgICAgICAgIGFkZENvdXNpbkhlbHBlcihyb290LCAnW25hbWU9Im1pZ3JhdGlvbiJdW3ZhbHVlPSInICsgcmVhc29uICsgJyJdJywga2V5KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24gYWRkSGVscGVycyhyb290KSB7CiAgICAgICAgICAgICAgICBhZGRDbG9zZVJlYXNvbkhlbHBlcihyb290LCBjb25maWd1cmF0aW9uLmNsb3NlUmVhc29ucy5kdXBsaWNhdGUudmFsdWUsIGNvbmZpZ3VyYXRpb24uY2xvc2VSZWFzb25zLmR1cGxpY2F0ZS5rZXkpOwogICAgICAgICAgICAgICAgYWRkQ2xvc2VSZWFzb25IZWxwZXIocm9vdCwgY29uZmlndXJhdGlvbi5jbG9zZVJlYXNvbnMub2ZmVG9waWMudmFsdWUsIGNvbmZpZ3VyYXRpb24uY2xvc2VSZWFzb25zLm9mZlRvcGljLmtleSk7CiAgICAgICAgICAgICAgICBhZGRDbG9zZVJlYXNvbkhlbHBlcihyb290LCBjb25maWd1cmF0aW9uLmNsb3NlUmVhc29ucy51bmNsZWFyLnZhbHVlLCBjb25maWd1cmF0aW9uLmNsb3NlUmVhc29ucy51bmNsZWFyLmtleSk7CiAgICAgICAgICAgICAgICBhZGRDbG9zZVJlYXNvbkhlbHBlcihyb290LCBjb25maWd1cmF0aW9uLmNsb3NlUmVhc29ucy50b29Ccm9hZC52YWx1ZSwgY29uZmlndXJhdGlvbi5jbG9zZVJlYXNvbnMudG9vQnJvYWQua2V5KTsKICAgICAgICAgICAgICAgIGFkZENsb3NlUmVhc29uSGVscGVyKHJvb3QsIGNvbmZpZ3VyYXRpb24uY2xvc2VSZWFzb25zLm9waW5pb25CYXNlZC52YWx1ZSwgY29uZmlndXJhdGlvbi5jbG9zZVJlYXNvbnMub3BpbmlvbkJhc2VkLmtleSk7CiAgICAgICAgICAgICAgICBhZGRPZmZUb3BpY1JlYXNvbkhlbHBlcihyb290LCBjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5zdXBlclVzZXIudmFsdWUsIGNvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLnN1cGVyVXNlci5rZXkpOwogICAgICAgICAgICAgICAgYWRkT2ZmVG9waWNSZWFzb25IZWxwZXIocm9vdCwgY29uZmlndXJhdGlvbi5vZmZUb3BpY1JlYXNvbnMuc2VydmVyRmF1bHQudmFsdWUsIGNvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLnNlcnZlckZhdWx0LmtleSk7CiAgICAgICAgICAgICAgICBhZGRPZmZUb3BpY1JlYXNvbkhlbHBlcihyb290LCBjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5yZWNvbW1lbmQudmFsdWUsIGNvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLnJlY29tbWVuZC5rZXkpOwogICAgICAgICAgICAgICAgYWRkT2ZmVG9waWNSZWFzb25IZWxwZXIocm9vdCwgY29uZmlndXJhdGlvbi5vZmZUb3BpY1JlYXNvbnMubWluaW1hbFByb2dyYW0udmFsdWUsIGNvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLm1pbmltYWxQcm9ncmFtLmtleSk7CiAgICAgICAgICAgICAgICBhZGRPZmZUb3BpY1JlYXNvbkhlbHBlcihyb290LCBjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy50eXBvLnZhbHVlLCBjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy50eXBvLmtleSk7CiAgICAgICAgICAgICAgICBhZGRPZmZUb3BpY1JlYXNvbkhlbHBlcihyb290LCBjb25maWd1cmF0aW9uLm9mZlRvcGljUmVhc29ucy5taWdyYXRpb24udmFsdWUsIGNvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLm1pZ3JhdGlvbi5rZXkpOwogICAgICAgICAgICAgICAgYWRkT2ZmVG9waWNSZWFzb25IZWxwZXIocm9vdCwgY29uZmlndXJhdGlvbi5vZmZUb3BpY1JlYXNvbnMub3RoZXIudmFsdWUsIGNvbmZpZ3VyYXRpb24ub2ZmVG9waWNSZWFzb25zLm90aGVyLmtleSk7CiAgICAgICAgICAgICAgICBhZGRNaWdyYXRpb25IZWxwZXIocm9vdCwgY29uZmlndXJhdGlvbi5taWdyYXRpb25SZWFzb25zLm1ldGEudmFsdWUsIGNvbmZpZ3VyYXRpb24ubWlncmF0aW9uUmVhc29ucy5tZXRhLmtleSk7CiAgICAgICAgICAgICAgICBhZGRNaWdyYXRpb25IZWxwZXIocm9vdCwgY29uZmlndXJhdGlvbi5taWdyYXRpb25SZWFzb25zLnN1cGVyVXNlci52YWx1ZSwgY29uZmlndXJhdGlvbi5taWdyYXRpb25SZWFzb25zLnN1cGVyVXNlci5rZXkpOwogICAgICAgICAgICAgICAgYWRkTWlncmF0aW9uSGVscGVyKHJvb3QsIGNvbmZpZ3VyYXRpb24ubWlncmF0aW9uUmVhc29ucy50ZXgudmFsdWUsIGNvbmZpZ3VyYXRpb24ubWlncmF0aW9uUmVhc29ucy50ZXgua2V5KTsKICAgICAgICAgICAgICAgIGFkZE1pZ3JhdGlvbkhlbHBlcihyb290LCBjb25maWd1cmF0aW9uLm1pZ3JhdGlvblJlYXNvbnMuZGJhLnZhbHVlLCBjb25maWd1cmF0aW9uLm1pZ3JhdGlvblJlYXNvbnMuZGJhLmtleSk7CiAgICAgICAgICAgICAgICBhZGRNaWdyYXRpb25IZWxwZXIocm9vdCwgY29uZmlndXJhdGlvbi5taWdyYXRpb25SZWFzb25zLnN0YXRzLnZhbHVlLCBjb25maWd1cmF0aW9uLm1pZ3JhdGlvblJlYXNvbnMuc3RhdHMua2V5KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgICAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaSwgaiwgbm9kZTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBqID0gbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGg7IGkgPCBqOyBpID0gaSArIDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG11dGF0aW9uLmFkZGVkTm9kZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09ICdESVYnICYmIG5vZGUuaWQgPT09ICdwb3B1cC1jbG9zZS1xdWVzdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEhlbHBlcnMobm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXZpZXctY29udGVudCcpLCB7ICdjaGlsZExpc3QnOiB0cnVlLCAnc3VidHJlZSc6IHRydWUgfSk7CiAgICAgICAgfSgpKTsKICAgIH0pOwp9KCkpOwo="}]}